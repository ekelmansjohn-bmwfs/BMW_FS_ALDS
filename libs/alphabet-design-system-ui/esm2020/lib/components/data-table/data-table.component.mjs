import { __decorate, __metadata } from "tslib";
/* eslint-disable functional/immutable-data */
/* eslint-disable no-null/no-null */
/* eslint-disable @angular-eslint/use-component-view-encapsulation */
import { DatePipe } from '@angular/common';
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, Output, ViewEncapsulation, } from '@angular/core';
import { UntypedFormBuilder } from '@angular/forms';
import { DomSanitizer } from '@angular/platform-browser';
import { UntilDestroy } from '@ngneat/until-destroy';
import { translateDatatableOrdering } from '../../translations/data-table.ordering.translations';
import { flattenObject, randomId } from '../../utils';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@angular/platform-browser";
import * as i3 from "@angular/common";
import * as i4 from "../button/button.component";
import * as i5 from "../context-menu/context-menu.component";
import * as i6 from "../edit-in-place/edit-in-place.component";
import * as i7 from "../form-checkbox/form-checkbox.component";
import * as i8 from "../icon/icon.component";
import * as i9 from "../paginator/paginator.component";
import * as i10 from "../spinner/spinner.component";
let ADSDataTableComponent = class ADSDataTableComponent {
    constructor(formBuilder, cdr, sanitizer) {
        this.formBuilder = formBuilder;
        this.cdr = cdr;
        this.sanitizer = sanitizer;
        this.data = undefined;
        this.currentLanguage = 'en-US';
        this.loadingLabel = 'Loading...';
        this.errorLabel = 'An error occurred while loading data.';
        this.hasError = false;
        this.hasFixedLayout = false;
        this.clickEmitter = new EventEmitter();
        this.rowValueChange = new EventEmitter();
        this.searchQuery = new EventEmitter();
        this.dataOrigin = undefined;
        this.emptyValueDescription = $localize `:@@datatableFilterEmptyValue: <empty>`;
        this.tableForm = this.formBuilder.group({
            columns: this.formBuilder.array([]),
            filters: this.formBuilder.array([]),
            search: [''],
        });
        this.columns = this.tableForm.get('columns');
        this.filters = this.tableForm.get('filters');
        this.search = this.tableForm.get('search');
        this.displaySelectedOnly = false;
        this.filtersChanged = false;
        this.sorting = { direction: '' };
        this.id = randomId();
        this.pageIndex = 1;
        this.pageSize = 0;
        this.datePipe = new DatePipe(this.currentLanguage);
    }
    // reduce the raw data input to an array of sorted, formatted data that we are interested in
    updateTableData() {
        if (this.tableTemplate) {
            const searchString = this.search?.value.toLowerCase() ?? '';
            if (this.dataOrigin) {
                this.tableData = this.dataOrigin.reduce((table, rowOrigin) => {
                    const row = { ...rowOrigin };
                    const activeFilters = this.filters.value.reduce((accumulator, currentValue) => {
                        if (!currentValue.header && !currentValue.selected) {
                            const target = accumulator.find(i => i.key === currentValue.key);
                            if (target) {
                                target.labels = [...target.labels, currentValue.label];
                                return accumulator;
                            }
                            return [
                                ...accumulator,
                                { key: currentValue.key, labels: [currentValue.label] },
                            ];
                        }
                        return accumulator;
                    }, []);
                    let searchResult = searchString === '';
                    this.tableTemplate.columns.forEach(column => {
                        const value = row[column.dataKey]?.toString() ?? '';
                        if (!searchResult) {
                            searchResult = value.toLowerCase().indexOf(searchString) > -1;
                        }
                    });
                    let filterResult = false;
                    activeFilters.forEach((activeFilter) => {
                        if (typeof row[activeFilter.key] === 'object') {
                            const filteredArray = row[activeFilter.key]?.filter((value) => {
                                return activeFilter.labels.includes(value);
                            });
                            if (filteredArray.length ===
                                row[activeFilter.key].length) {
                                filterResult = true;
                            }
                        }
                        else {
                            const value = row[activeFilter.key]?.toString() ?? '';
                            if (activeFilter.labels.includes(value)) {
                                filterResult = true;
                            }
                        }
                    });
                    // parse arrays to string for showing in table
                    this.tableTemplate.columns.forEach(column => {
                        if (column.type === 'array') {
                            row[column.dataKey] = row[column.dataKey]
                                .sort()
                                .join(', ');
                        }
                    });
                    if (searchResult && !filterResult) {
                        table.push(row);
                    }
                    return table;
                }, []);
            }
            if (this.sorting.direction !== '') {
                this.tableData = this.sortTableData();
            }
            this.updateTableDataSlice();
        }
    }
    updateTableDataSlice() {
        if (this.tableData) {
            this.tableDataSlice = this.tableData.map(row => {
                // format dates
                const dateColumns = this.tableTemplate.columns.filter(c => c.type === 'date');
                for (const column of dateColumns) {
                    try {
                        row[column.dataKey] =
                            this.datePipe.transform(row[column.dataKey], column.dateFormat ?? 'medium') ?? '';
                    }
                    catch (e) {
                        // display unformatted input if date pipe fails
                        row[column.dataKey];
                    }
                }
                return row;
            });
            if (this.tableTemplate.pagination) {
                // Take part of the table data when we have pagination for this data table enabled
                this.tableDataSliceStart = (this.pageIndex - 1) * this.pageSize;
                this.tableDataSlice = this.tableData.slice(this.tableDataSliceStart, this.tableDataSliceStart + this.pageSize);
                this.tableDataSliceEnd = this.tableDataSliceStart + this.tableDataSlice.length;
            }
            else {
                this.tableDataSlice = this.tableData;
            }
            this.cdr.detectChanges();
        }
    }
    // --- pagination
    pageChanged(paginationEvent) {
        this.pageIndex = paginationEvent.pageIndex;
        this.pageSize = paginationEvent.pageSize;
        this.updateTableDataSlice();
    }
    getNumberOfResultsDisplayed() {
        return this.tableDataSlice ? this.tableDataSlice.length.toString() : '0';
    }
    // --- sorting ---
    sortByColumn(column) {
        if (this.sorting.column?.dataKey !== column.dataKey) {
            this.sorting.direction = 'ascending';
            this.sorting.column = column;
        }
        else {
            this.sorting.direction =
                this.sorting.direction === 'ascending' ? 'descending' : 'ascending';
        }
        this.sortTableData();
        this.updateTableDataSlice();
    }
    sortTableData() {
        if (this.sorting.direction === 'ascending') {
            return this.tableData.sort((a, b) => this.sort(a, b));
        }
        return this.tableData.sort((a, b) => this.sort(b, a));
    }
    sort(rowA, rowB) {
        if (!this.sorting.column?.dataKey) {
            return 0;
        }
        let valueA = rowA[this.sorting.column.dataKey];
        let valueB = rowB[this.sorting.column.dataKey];
        if (this.sorting.column.type === 'date') {
            valueA = new Date(valueA).getTime();
            valueB = new Date(valueB).getTime();
            return valueA > valueB ? 1 : -1;
        }
        if (this.sorting.column.type === 'string' || this.sorting.column.type === 'image') {
            return valueA.localeCompare(valueB);
        }
        return valueA > valueB ? 1 : -1;
    }
    translateSortingDirection(sortingDirection) {
        return translateDatatableOrdering(sortingDirection);
    }
    getSortClass(column) {
        if (column.dataKey === this.sorting.column?.dataKey) {
            return this.sorting.direction === 'ascending' ? 'sort-ascending' : 'sort-descending';
        }
        return 'sort-hidden';
    }
    emitClick($event, action, row) {
        $event.stopPropagation();
        this.clickEmitter.emit({ action, row, clickEvent: $event });
    }
    emitRowValueChange(column, row, value) {
        this.rowValueChange.emit({
            column,
            row,
            value,
        });
    }
    formSubscriptions() {
        this.filters.valueChanges.subscribe(() => {
            this.updateFiltersChanged();
            this.updateTableData();
        });
        this.search?.valueChanges.subscribe(() => this.updateTableData());
    }
    trackByIndex(index) {
        return index;
    }
    ngOnChanges(changes) {
        const { data, currentLanguage, template } = changes;
        if (currentLanguage && currentLanguage.currentValue) {
            this.datePipe = new DatePipe(this.currentLanguage);
        }
        if (data && data.currentValue) {
            this.dataOrigin = JSON.parse(JSON.stringify(data.currentValue));
        }
        if (template && template.currentValue) {
            this.tableTemplate = template.currentValue;
            this.sorting.column = this.tableTemplate.columns.find(c => c.dataKey === this.tableTemplate.sort?.dataKey);
            this.sorting.direction = this.tableTemplate.sort?.direction ?? 'descending';
        }
        // When either the template or the data is changed perform an update
        if ((template && template.currentValue) || (data && data.currentValue)) {
            this.loadFilterOptions();
            if (!this.pageSize && this.tableTemplate.pagination) {
                this.pageSize = this.tableTemplate.pagination.pageSize;
            }
            if (data.currentValue) {
                this.updateTableData();
            }
            this.formSubscriptions();
        }
    }
    getSanitizedHtml(html) {
        return this.sanitizer.bypassSecurityTrustHtml(html);
    }
    loadFilterOptions(useCache = true) {
        const filterCache = useCache ? [...this.filters.value] : [];
        this.filters.clear();
        if (this.tableTemplate.filters) {
            this.tableTemplate.filters.forEach(filter => {
                const targetColumn = this.tableTemplate.columns.find(c => c.dataKey === filter.key);
                if (!targetColumn) {
                    return;
                }
                this.filters.push(this.formBuilder.group({
                    key: 'header',
                    label: targetColumn.title,
                    selected: true,
                    header: true,
                }));
                const filterValues = new Set(Object.values(flattenObject(this.dataOrigin?.map(row => row[filter.key]))).sort((a, b) => (!a || !b ? 0 : a.toString()?.localeCompare(b.toString()))));
                filterValues.forEach(entry => {
                    const cached = filterCache.find(f => f.label === entry?.toString() && f.key === filter.key);
                    filter.selected = filter.selected ?? [];
                    const selected = !filter.selected.includes(entry?.toString() ?? '');
                    return this.filters.push(this.formBuilder.group({
                        key: filter.key,
                        label: entry?.toString(),
                        selected: cached ? cached.selected : selected,
                        header: false,
                    }));
                });
            });
        }
    }
    deselectSection(label) {
        const key = this.template.columns.find(col => col.title === label)?.dataKey;
        const targetFilters = this.filters.value.filter((f) => f.key === key);
        targetFilters.forEach((filter) => {
            filter.selected = false;
        });
        this.updateFiltersChanged();
        this.updateTableData();
    }
    updateFiltersChanged() {
        this.filtersChanged = false;
        this.filters.value.forEach((formFilter) => {
            // find corresponding filter from template
            const match = this.tableTemplate.filters?.find(filter => filter.key === formFilter.key);
            if (!match) {
                return;
            }
            // compare enabled state of current filter with temaplate
            if ((match.selected?.includes(formFilter.label) && formFilter.selected) ||
                (!match.selected?.includes(formFilter.label) && !formFilter.selected)) {
                this.filtersChanged = true;
            }
        });
    }
};
ADSDataTableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.6", ngImport: i0, type: ADSDataTableComponent, deps: [{ token: i1.UntypedFormBuilder }, { token: i0.ChangeDetectorRef }, { token: i2.DomSanitizer }], target: i0.ɵɵFactoryTarget.Component });
ADSDataTableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.6", type: ADSDataTableComponent, selector: "ads-data-table", inputs: { data: "data", template: "template", currentLanguage: "currentLanguage", loadingLabel: "loadingLabel", errorLabel: "errorLabel", hasError: "hasError", hasFixedLayout: "hasFixedLayout" }, outputs: { clickEmitter: "clickEmitter", rowValueChange: "rowValueChange", searchQuery: "searchQuery" }, usesOnChanges: true, ngImport: i0, template: "<ng-container *ngIf=\"tableTemplate\">\r\n    <form [formGroup]=\"tableForm\" novalidate>\r\n        <div class=\"data-table-options\">\r\n            <!-- nr of results -->\r\n            <div class=\"data-table-options_nr-of-results\">\r\n                <span\r\n                    aria-live=\"polite\"\r\n                    i18n=\"@@ADSUIComponentDataTableNrOfResults\"\r\n                >\r\n                    Displaying {{ getNumberOfResultsDisplayed() }} of {{ tableData ? tableData.length : 0 }} results\r\n                </span>\r\n\r\n\r\n                <span\r\n                    *ngIf=\"!!sorting.column?.title\"\r\n                    i18n=\"@@ADSUIComponentDataTableResultsNrOfResultsSortedByLabel\"\r\n                    class=\"hide-on-mobile text-size-small text-color-grey sort-info\"\r\n                >\r\n                    <i>(sorted by {{ sorting.column?.title }} in {{ translateSortingDirection(sorting.direction) }} order)</i>\r\n                </span>\r\n            </div>\r\n\r\n            <!-- search -->\r\n            <div\r\n                *ngIf=\"tableTemplate.enableSearch\"\r\n                [ngClass]=\"{ 'is-hidden': displaySelectedOnly }\"\r\n                class=\"data-table-options_search\"\r\n            >\r\n                <label\r\n                    for=\"table-search-field-{{ id }}\"\r\n                    class=\"ads-input_label screen-reader-only\"\r\n                    i18n=\"@@ADSUIComponentDataTableSearchLabel\"\r\n                >\r\n                    Search\r\n                </label>\r\n                <input\r\n                    class=\"ads-input\"\r\n                    id=\"table-search-field-{{ id }}\"\r\n                    type=\"text\"\r\n                    value=\"\"\r\n                    i18n-placeholder=\"@@ADSUIComponentDataTableSearchPlaceholder\"\r\n                    placeholder=\"Search...\"\r\n                    [formControlName]=\"'search'\"\r\n                    autocomplete=\"off\"\r\n                />\r\n                <ads-icon type=\"search\" color=\"primary\" size=\"small\"></ads-icon>\r\n            </div>\r\n            <!-- filters -->\r\n            <div\r\n                *ngIf=\"filters.controls.length > 0\"\r\n                [ngClass]=\"{ 'is-hidden': displaySelectedOnly }\"\r\n                class=\"data-table-options_filters hide-on-mobile\"\r\n            >\r\n                <ads-context-menu size=\"regular\">\r\n                    <ads-button\r\n                        icon=\"av_custom_filter_circle\"\r\n                        label=\"Filters\"\r\n                        i18n-label=\"@@ADSUIComponentDataTableFilterOptions\"\r\n                        type=\"button\"\r\n                        [color]=\"!filtersChanged ? 'primary-inverted' : 'secondary-inverted'\"\r\n                        size=\"regular\"\r\n                        iconPosition=\"right\"\r\n                        notification=\"{{ filtersChanged ? '!' : '' }}\"\r\n                        class=\"table-filter-button\"\r\n                    >\r\n                    </ads-button>\r\n                    <ul>\r\n                        <li class=\"reset-container\">\r\n                            <ads-button\r\n                                        icon=\"av_custom_refresh_circle\"\r\n                                        label=\"Reset filters\"\r\n                                        i18n-label=\"@@ADSUIComponentDataTableResetFilters\"\r\n                                        type=\"button\"\r\n                                        color=\"primary-inverted\"\r\n                                        size=\"small\"\r\n                                        iconPosition=\"right\"\r\n                                        class=\"regular\"\r\n                                        [disabled]=\"!filtersChanged\"\r\n                                        (click)=\"loadFilterOptions(false)\"\r\n                            >\r\n                            </ads-button>\r\n                        </li>\r\n                        <ng-container\r\n                            *ngFor=\"\r\n                                let filter of filters.controls;\r\n                                trackBy: trackByIndex;\r\n                                let i = index\r\n                            \"\r\n                        >\r\n                            <li *ngIf=\"filter.value.header && i > 1\" class=\"mt-2 mb-3\"><hr /></li>\r\n                            <li\r\n                                *ngIf=\"filter.value.header\"\r\n                                role=\"list-item\"\r\n                                class=\"context-menu_header\"\r\n                            >\r\n                                <span>{{ filter.value.label }}:</span>\r\n                                <ads-button\r\n                                    label=\"Deselect filters\"\r\n                                    i18n-label=\"@@ADSUIComponentDataTablDeselectFilters\"\r\n                                    type=\"button\"\r\n                                    color=\"ghost\"\r\n                                    size=\"small\"\r\n                                    class=\"regular\"\r\n                                    (click)=\"deselectSection(filter.value.label)\"\r\n                                >\r\n                                </ads-button>\r\n                            </li>\r\n                            <li\r\n                                *ngIf=\"!filter.value.header\"\r\n                                role=\"list-item\"\r\n                                class=\"px-4 py-2\"\r\n                                formArrayName=\"filters\"\r\n                            >\r\n                                <div [formGroupName]=\"i\">\r\n                                    <ads-form-checkbox\r\n                                        id=\"filter-option-{{ filter.value.key }}-{{ i }}-{{ id }}\"\r\n                                        type=\"switch\"\r\n                                        labelPosition=\"left\"\r\n                                        size=\"small\"\r\n                                        label=\"{{ filter.value.label || emptyValueDescription }}\"\r\n                                        [formControlName]=\"'selected'\"\r\n                                        [fullWidth]=\"true\"\r\n                                        [checked]=\"filter.value.selected\"\r\n                                    >\r\n                                    </ads-form-checkbox>\r\n                                </div>\r\n                            </li>\r\n                        </ng-container>\r\n                    </ul>\r\n                </ads-context-menu>\r\n            </div>\r\n\r\n        </div>\r\n    </form>\r\n    <table class=\"ads-table\" [ngClass]=\"{ 'fixed-layout': hasFixedLayout }\">\r\n        <tr>\r\n            <th *ngFor=\"let column of template.columns; trackBy: trackByIndex;\"\r\n                [class]=\"{'hide-on-mobile': column.hideOnMobile}\"\r\n                (click)=\"column.sortable && sortByColumn(column)\">\r\n                <span>\r\n                    {{ column.title }}\r\n                </span>\r\n                <ads-icon\r\n                    *ngIf=\"column.sortable\"\r\n                    type=\"av_custom_chevron_down\"\r\n                    color=\"info\"\r\n                    size=\"extra-small\"\r\n                    css=\"ml-2\"\r\n                    [class]=\"getSortClass(column)\"\r\n                ></ads-icon>\r\n            </th>\r\n            <th *ngFor=\"let option of tableTemplate.actions; trackBy: trackByIndex\" [class]=\"{'hide-on-mobile': option.hideOnMobile}\"></th>\r\n        </tr>\r\n        <ng-container *ngIf=\"tableDataSlice\">\r\n            <tr *ngFor=\"let row of tableDataSlice; trackBy: trackByIndex; let i = index;\">\r\n                <ng-container *ngFor=\"let column of template.columns; trackBy: trackByIndex;\">\r\n                    <td *ngIf=\"['string', 'number', 'date', 'array'].includes(column.type)\"\r\n                        [class]=\"{'hide-on-mobile': column.hideOnMobile}\">\r\n                        {{ row[column.dataKey] }}\r\n                    </td>\r\n\r\n                    <td *ngIf=\"column.type === 'html'\"\r\n                        [class]=\"{'hide-on-mobile': column.hideOnMobile}\"[innerHTML]=\"getSanitizedHtml(row[column.dataKey])\"></td>\r\n\r\n                    <td *ngIf=\"column.type === 'image'\"\r\n                        [class]=\"{'hide-on-mobile': column.hideOnMobile}\">\r\n                        <img *ngIf=\"row[column.dataKey]\" [src]=\"row[column.dataKey]\" [alt]=\"row[column.dataKey]\"/>\r\n                    </td>\r\n\r\n                    <td *ngIf=\"column.type === 'icon'\"\r\n                        class=\"icon-cell\"\r\n                        [class]=\"{'hide-on-mobile': column.hideOnMobile} \">\r\n                        <ads-icon\r\n                            [type]=\"row[column.dataKey]\"\r\n                            color=\"info\"\r\n                            size=\"regular\"\r\n                            css=\"ml-2 pt-4\"\r\n                        ></ads-icon>\r\n                    </td>\r\n\r\n                    <td *ngIf=\"column.type === 'boolean'\"\r\n                        class=\"icon-cell\"\r\n                        [class]=\"{'hide-on-mobile': column.hideOnMobile}\">\r\n                        <ads-icon *ngIf=\"row[column.dataKey]\" type=\"av_custom_checkmark_circle\" color=\"success\" label=\"icon\"></ads-icon>\r\n                        <ads-icon *ngIf=\"!row[column.dataKey]\" type=\"av_custom_close_circle\" color=\"error\" label=\"icon\"></ads-icon>\r\n                    </td>\r\n\r\n\r\n                    <td *ngIf=\"column.type === 'edit-in-place'\"\r\n                        [class]=\"{'hide-on-mobile': column.hideOnMobile}\">\r\n                        <ads-edit-in-place (valueChange)=\"emitRowValueChange(column, row, $event)\" [value]=\"row[column.dataKey]\" placeholder=\"empty\"></ads-edit-in-place>\r\n                    </td>\r\n\r\n                </ng-container>\r\n\r\n\r\n                <td *ngFor=\"let action of tableTemplate.actions; trackBy: trackByIndex;\" class=\"has-button\"\r\n                    [class]=\"{'hide-on-mobile': action.hideOnMobile}\">\r\n                    <ads-button\r\n                        *ngIf=\"!action.switch\"\r\n                        label=\"{{action.title}}\"\r\n                        action=\"ghost\"\r\n                        icon=\"{{action.icon}}\"\r\n                        size=\"small\"\r\n                        [iconOnly]=\"true\"\r\n                        [disabled]=\"!!action.isDisabled && action.isDisabled(row)\"\r\n                        [hidden]=\"!!action.isVisible && !action.isVisible(row)\"\r\n                        (click)=\"(!action.isDisabled || !action.isDisabled(row)) && emitClick($event, action.action, row)\"\r\n                    ></ads-button>\r\n                    <ads-form-checkbox\r\n                        class=\"data-table-action-toggle\"\r\n                        *ngIf=\"action.switch\"\r\n                        type=\"switch\"\r\n                        labelPosition=\"right\"\r\n                        id=\"action-switch-{{ i }}\"\r\n                        size=\"small\"\r\n                        [hideLabel]=\"true\"\r\n                        [checked]=\"!!action.isChecked && action.isChecked(row)\"\r\n                        [disabled]=\"!!action.isDisabled && action.isDisabled(row)\"\r\n                        (click)=\"(!action.isDisabled || !action.isDisabled(row)) && emitClick($event, action.action, row)\">\r\n                    </ads-form-checkbox>\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"!tableDataSlice && !hasError\">\r\n            <tr>\r\n                <td [colSpan]=\"tableTemplate.columns.length\">\r\n                    <ads-spinner diameter=\"16\"></ads-spinner>\r\n                    <span class=\"text-color-deep-blue ml-3\">{{ loadingLabel }}</span\r\n            >\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"hasError\">\r\n            <tr>\r\n                <td [colSpan]=\"tableTemplate.columns.length\">\r\n                    <span class=\"text-color-deep-blue\">{{ errorLabel }}</span\r\n                    >\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n    </table>\r\n\r\n    <ads-paginator\r\n        *ngIf=\"tableTemplate.pagination && tableData\"\r\n        [length]=\" tableData.length\"\r\n        [pageSize]=\"tableTemplate.pagination.pageSize\"\r\n        [showPageSelection]=\"tableTemplate.pagination.showPageSelection || false\"\r\n        [showPageSizeSelection]=\"tableTemplate.pagination.showPageSizeSelection || false\"\r\n        [position]=\"tableTemplate.pagination.position || 'right'\"\r\n        (pageChanged)=\"pageChanged($event)\"\r\n    ></ads-paginator>\r\n</ng-container>\r\n", styles: [":root{--ads-color-white: #fff;--ads-color-white_foreground: #000;--ads-color-gray-6: #f0f0f0;--ads-color-gray-6_foreground: #000;--ads-color-gray-12: #e0e0e0;--ads-color-gray-12_foreground: #000;--ads-color-gray-20: #cccccc;--ads-color-gray-20_foreground: #000;--ads-color-gray-50: gray;--ads-color-gray-50_foreground: #fff;--ads-color-gray-70: #4d4d4d;--ads-color-gray-70_foreground: #fff;--ads-color-gray-85: #262626;--ads-color-gray-85_foreground: #fff;--ads-color-black: #000;--ads-color-black_foreground: #fff;--ads-color-error: #d21e36;--ads-color-error_hover: #a5182b;--ads-color-error-background: #fceaea;--ads-color-info: #1e236e;--ads-color-info-background: var(--ads-color-gray-6);--ads-color-success: #01964c;--ads-color-success_hover: #016332;--ads-color-success-background: #eaf6eb;--ads-color-warning: #ef7d00;--ads-color-warning-background: #fff7ef;--ads-color-notification: #ffd900;--ads-color-notification-background: #fffdf0;--ads-color-primary: #1e236e;--ads-color-primary-40: #a5a7c5;--ads-color-primary-65: #6e71a2;--ads-color-primary-foreground: #fff;--ads-color-primary_active: #0a0c26;--ads-color-primary_active-foreground: #fff;--ads-color-primary_focus: #0f1136;--ads-color-primary_focus-foreground: #fff;--ads-color-primary_hover: #131646;--ads-color-primary_hover-foreground: #fff;--ads-color-secondary: #00d7e7;--ads-color-secondary-40: #9aeff5;--ads-color-secondary-65: #5ae5ef;--ads-color-secondary-foreground: #fff;--ads-color-secondary_active: #00828b;--ads-color-secondary_active-foreground: #fff;--ads-color-secondary_focus: #0095a0;--ads-color-secondary_focus-foreground: #fff;--ads-color-secondary_hover: #00a8b4;--ads-color-secondary_hover-foreground: #fff;--ads-color-accent: #ff6d6a;--ads-color-accent-40: #ffc5c3;--ads-color-accent-65: #ffa19f;--ads-color-accent-foreground: #fff;--ads-color-accent_active: #ff5451;--ads-color-accent_active-foreground: #fff;--ads-color-accent_hover: #ff3b37;--ads-color-accent_hover-foreground: #fff;--ads-color-accent_focus: #ff221e;--ads-color-accent_focus-foreground: #fff;--ads-color-disabled: #e0e0e0;--ads-color-disabled-foreground: gray;--ads-color-app: #fff;--ads-color-app-text: #262626;--ads-color-app-navigation: #1e236e;--ads-color-app-navigation-divider: #6e71a2;--ads-color-app-navigation-menu-item-foreground: #fff;--ads-color-app-navigation-menu-item-background: #1e236e;--ads-color-app-navigation-menu-item-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-background_hover: #1e236e;--ads-color-app-navigation-menu-item-foreground_focus: #fff;--ads-color-app-navigation-menu-item-background_focus: #fff;--ads-color-app-navigation-menu-item-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-background_selected: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground: #fff;--ads-color-app-navigation-menu-item-icon-background: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_hover: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-menu-item-icon-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_selected: #1e236e;--ads-color-app-navigation-toolbar: #fff;--ads-color-app-navigation-toolbar-divider: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_selected: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_selected: #f0f0f0;--ads-color-solid-gradient-primary-to-accent: linear-gradient(90deg, #1e236e 0%, #ff6d6a 100%);--ads-color-solid-gradient-secondary-to-accent: linear-gradient(-170deg, rgba(0, 215, 231, 0) 60%, #00d7e7 125%), linear-gradient(170deg, #ff6d6a 60%, #ff6d6a 125%);--ads-color-solid-gradient-accent-to-secondary-to-primary: linear-gradient(90deg, #ff6d6a 0%, #00d7e7 50%, #1e236e 100%);--ads-color-solid-gradient-gray-to-primary: linear-gradient(90deg, #e0e0e0 0%, #a5a7c5 100%);--ads-color-image-gradient-primary-to-accent: linear-gradient(90deg, rgba(30, 35, 110, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-primary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(30, 35, 110, .7) 100%);--ads-color-image-gradient-secondary-to-accent: linear-gradient(90deg, rgba(0, 215, 231, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-secondary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(0, 215, 231, .7) 100%);--ads-color-image-gradient-mask: linear-gradient(to bottom, rgba(0,0,0,0) 48%, rgba(0,0,0,.5) 80%, rgba(0,0,0,1) 100%);--ads-color-image-gradient-darken-bottom: linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .1) 40%, rgba(0, 0, 0, .4) 100%);--ads-color-app-gradient-secondary-to-accent: linear-gradient(160deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .4) 90%), linear-gradient(220deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 60%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-large: linear-gradient(170deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .5) 90%), linear-gradient(210deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 70%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-foreground: #fff;--ads-color-app-gradient-primary-to-accent: linear-gradient(200deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .7) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 60%, rgba(30, 35, 110, .4) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-large: linear-gradient(190deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .6) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 70%, rgba(30, 35, 110, .5) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-foreground: #1e236e;--ads-color-app-gradient-primary-inverted: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 60%, rgba(255, 109, 106, .4) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 65%, rgba(0, 215, 231, .45) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-large: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 75%, rgba(255, 109, 106, .05) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 75%, rgba(0, 215, 231, .02) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-foreground: #1e236e;--ads-ring_active: 0 0 0 2px #fff, 0 0 0 5px #1e236e;--ads-ring_focus: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_hover: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_transparent: 0 0 0 2px transparent, 0 0 0 3px transparent;--ads-ring_focus-inset: inset 0 0 0 2px #fff, inset 0 0 0 3px #1e236e;--ads-ring_focus-inset-inverted: inset 0 0 0 2px #1e236e, inset 0 0 0 4px #fff;--ads-ring-focus-with-contextmenu: 0 0 0 1px #fff, 0 0 0 2px #555cd1, 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-0: 0 0 0 0 rgba(0, 0, 0, 0);--ads-shadow-depth-1: 0 .4px .4px rgba(0, 0, 0, .05), 0 1px 1px rgba(0, 0, 0, .036), 0 1.9px 1.9px rgba(0, 0, 0, .03), 0 3.4px 3.4px rgba(0, 0, 0, .025), 0 6.3px 6.3px rgba(0, 0, 0, .02), 0 15px 15px rgba(0, 0, 0, .014);--ads-shadow-depth-2: 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-3: 0 .7px .7px rgba(0, 0, 0, .017), 0 1.7px 1.7px rgba(0, 0, 0, .024), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .036), 0 10.4px 10.4px rgba(0, 0, 0, .043), 0 25px 25px rgba(0, 0, 0, .06);--ads-shadow-depth-4: 0 1px 1px rgba(0, 0, 0, .014), 0 2.3px 2.3px rgba(0, 0, 0, .02), 0 4.4px 4.4px rgba(0, 0, 0, .025), 0 7.8px 7.8px rgba(0, 0, 0, .03), 0 14.6px 14.6px rgba(0, 0, 0, .036), 0 35px 35px rgba(0, 0, 0, .05);--ads-shadow-depth-5: 0 1.2px 1.2px rgba(0, 0, 0, .014), 0 3px 3px rgba(0, 0, 0, .02), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.1px 10.1px rgba(0, 0, 0, .03), 0 18.8px 18.8px rgba(0, 0, 0, .036), 0 45px 45px rgba(0, 0, 0, .05);--ads-shadow-depth-6: 0 .9px .9px rgba(0, 0, 0, .011), 0 1.9px 1.9px rgba(0, 0, 0, .016), 0 3.2px 3.2px rgba(0, 0, 0, .019), 0 4.8px 4.8px rgba(0, 0, 0, .022), 0 6.9px 6.9px rgba(0, 0, 0, .025), 0 9.7px 9.7px rgba(0, 0, 0, .028), 0 13.8px 13.8px rgba(0, 0, 0, .031), 0 20.1px 20.1px rgba(0, 0, 0, .034), 0 30.9px 30.9px rgba(0, 0, 0, .039), 0 55px 55px rgba(0, 0, 0, .05)}.data-table-options{display:flex;flex-direction:column;align-items:flex-start}@media (min-width: 769px){.data-table-options{flex-direction:row;align-items:center}}.data-table-options .data-table-options_nr-of-results{flex:1;padding:.5rem 1rem .5rem 0;display:flex;align-items:center}.data-table-options .data-table-options_search{position:relative;width:100%;min-width:250px;flex:none;padding:.5rem .25rem .5rem 0}@media (min-width: 769px){.data-table-options .data-table-options_search{width:auto}}.data-table-options .data-table-options_search input{position:relative;width:100%;padding-right:2.5rem;border-radius:.25rem;height:2.5rem}.data-table-options .data-table-options_search ads-icon{position:absolute;top:50%;right:1rem;transform:translateY(-50%)}.sort-info{margin-left:.25rem}.sort-ascending{transform:scaleY(-1)}.sort-descending{transform:scaleY(1)}.sort-hidden{opacity:.5}.ads-table{margin-bottom:2rem}.ads-table.fixed-layout{table-layout:fixed}.ads-table td.icon-cell{padding-top:1.5rem}.ads-table ads-edit-in-place{width:100%}.reset-container{text-align:right}.reset-container ads-button{margin-right:.5rem}.data-table-action-toggle label{margin:auto .25rem!important}ul li.context-menu_header{padding-right:0!important}\n"], dependencies: [{ kind: "directive", type: i3.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i1.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "directive", type: i1.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }, { kind: "directive", type: i1.FormArrayName, selector: "[formArrayName]", inputs: ["formArrayName"] }, { kind: "component", type: i4.ADSButtonComponent, selector: "ads-button", inputs: ["color", "css", "disabled", "id", "icon", "iconOnly", "iconPosition", "label", "tooltip", "loading", "loadingLabel", "notification", "size", "tabindex", "type", "ariaControls", "ariaExpanded", "ariaLabelledBy"], outputs: ["clickEmitter"] }, { kind: "component", type: i5.ADSContextMenuComponent, selector: "ads-context-menu", inputs: ["css", "size"] }, { kind: "component", type: i6.ADSEditInPlaceComponent, selector: "ads-edit-in-place", inputs: ["value", "placeholder"], outputs: ["valueChange"] }, { kind: "component", type: i7.ADSFormCheckboxComponent, selector: "ads-form-checkbox", inputs: ["css", "checked", "disabled", "id", "icon", "fullWidth", "hideLabel", "label", "labelPosition", "labelColor", "size", "type", "value"] }, { kind: "component", type: i8.ADSIconComponent, selector: "ads-icon", inputs: ["color", "css", "label", "size", "type"] }, { kind: "component", type: i9.ADSPaginatorComponent, selector: "ads-paginator", inputs: ["pageIndex", "pageSize", "length", "pageSizeOptions", "showPageSelection", "showPageSizeSelection", "position"], outputs: ["pageChanged"] }, { kind: "component", type: i10.ADSSpinnerComponent, selector: "ads-spinner", inputs: ["css", "mode", "progress", "diameter", "color"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });
ADSDataTableComponent = __decorate([
    UntilDestroy(),
    __metadata("design:paramtypes", [UntypedFormBuilder,
        ChangeDetectorRef,
        DomSanitizer])
], ADSDataTableComponent);
export { ADSDataTableComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.6", ngImport: i0, type: ADSDataTableComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ads-data-table', changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, template: "<ng-container *ngIf=\"tableTemplate\">\r\n    <form [formGroup]=\"tableForm\" novalidate>\r\n        <div class=\"data-table-options\">\r\n            <!-- nr of results -->\r\n            <div class=\"data-table-options_nr-of-results\">\r\n                <span\r\n                    aria-live=\"polite\"\r\n                    i18n=\"@@ADSUIComponentDataTableNrOfResults\"\r\n                >\r\n                    Displaying {{ getNumberOfResultsDisplayed() }} of {{ tableData ? tableData.length : 0 }} results\r\n                </span>\r\n\r\n\r\n                <span\r\n                    *ngIf=\"!!sorting.column?.title\"\r\n                    i18n=\"@@ADSUIComponentDataTableResultsNrOfResultsSortedByLabel\"\r\n                    class=\"hide-on-mobile text-size-small text-color-grey sort-info\"\r\n                >\r\n                    <i>(sorted by {{ sorting.column?.title }} in {{ translateSortingDirection(sorting.direction) }} order)</i>\r\n                </span>\r\n            </div>\r\n\r\n            <!-- search -->\r\n            <div\r\n                *ngIf=\"tableTemplate.enableSearch\"\r\n                [ngClass]=\"{ 'is-hidden': displaySelectedOnly }\"\r\n                class=\"data-table-options_search\"\r\n            >\r\n                <label\r\n                    for=\"table-search-field-{{ id }}\"\r\n                    class=\"ads-input_label screen-reader-only\"\r\n                    i18n=\"@@ADSUIComponentDataTableSearchLabel\"\r\n                >\r\n                    Search\r\n                </label>\r\n                <input\r\n                    class=\"ads-input\"\r\n                    id=\"table-search-field-{{ id }}\"\r\n                    type=\"text\"\r\n                    value=\"\"\r\n                    i18n-placeholder=\"@@ADSUIComponentDataTableSearchPlaceholder\"\r\n                    placeholder=\"Search...\"\r\n                    [formControlName]=\"'search'\"\r\n                    autocomplete=\"off\"\r\n                />\r\n                <ads-icon type=\"search\" color=\"primary\" size=\"small\"></ads-icon>\r\n            </div>\r\n            <!-- filters -->\r\n            <div\r\n                *ngIf=\"filters.controls.length > 0\"\r\n                [ngClass]=\"{ 'is-hidden': displaySelectedOnly }\"\r\n                class=\"data-table-options_filters hide-on-mobile\"\r\n            >\r\n                <ads-context-menu size=\"regular\">\r\n                    <ads-button\r\n                        icon=\"av_custom_filter_circle\"\r\n                        label=\"Filters\"\r\n                        i18n-label=\"@@ADSUIComponentDataTableFilterOptions\"\r\n                        type=\"button\"\r\n                        [color]=\"!filtersChanged ? 'primary-inverted' : 'secondary-inverted'\"\r\n                        size=\"regular\"\r\n                        iconPosition=\"right\"\r\n                        notification=\"{{ filtersChanged ? '!' : '' }}\"\r\n                        class=\"table-filter-button\"\r\n                    >\r\n                    </ads-button>\r\n                    <ul>\r\n                        <li class=\"reset-container\">\r\n                            <ads-button\r\n                                        icon=\"av_custom_refresh_circle\"\r\n                                        label=\"Reset filters\"\r\n                                        i18n-label=\"@@ADSUIComponentDataTableResetFilters\"\r\n                                        type=\"button\"\r\n                                        color=\"primary-inverted\"\r\n                                        size=\"small\"\r\n                                        iconPosition=\"right\"\r\n                                        class=\"regular\"\r\n                                        [disabled]=\"!filtersChanged\"\r\n                                        (click)=\"loadFilterOptions(false)\"\r\n                            >\r\n                            </ads-button>\r\n                        </li>\r\n                        <ng-container\r\n                            *ngFor=\"\r\n                                let filter of filters.controls;\r\n                                trackBy: trackByIndex;\r\n                                let i = index\r\n                            \"\r\n                        >\r\n                            <li *ngIf=\"filter.value.header && i > 1\" class=\"mt-2 mb-3\"><hr /></li>\r\n                            <li\r\n                                *ngIf=\"filter.value.header\"\r\n                                role=\"list-item\"\r\n                                class=\"context-menu_header\"\r\n                            >\r\n                                <span>{{ filter.value.label }}:</span>\r\n                                <ads-button\r\n                                    label=\"Deselect filters\"\r\n                                    i18n-label=\"@@ADSUIComponentDataTablDeselectFilters\"\r\n                                    type=\"button\"\r\n                                    color=\"ghost\"\r\n                                    size=\"small\"\r\n                                    class=\"regular\"\r\n                                    (click)=\"deselectSection(filter.value.label)\"\r\n                                >\r\n                                </ads-button>\r\n                            </li>\r\n                            <li\r\n                                *ngIf=\"!filter.value.header\"\r\n                                role=\"list-item\"\r\n                                class=\"px-4 py-2\"\r\n                                formArrayName=\"filters\"\r\n                            >\r\n                                <div [formGroupName]=\"i\">\r\n                                    <ads-form-checkbox\r\n                                        id=\"filter-option-{{ filter.value.key }}-{{ i }}-{{ id }}\"\r\n                                        type=\"switch\"\r\n                                        labelPosition=\"left\"\r\n                                        size=\"small\"\r\n                                        label=\"{{ filter.value.label || emptyValueDescription }}\"\r\n                                        [formControlName]=\"'selected'\"\r\n                                        [fullWidth]=\"true\"\r\n                                        [checked]=\"filter.value.selected\"\r\n                                    >\r\n                                    </ads-form-checkbox>\r\n                                </div>\r\n                            </li>\r\n                        </ng-container>\r\n                    </ul>\r\n                </ads-context-menu>\r\n            </div>\r\n\r\n        </div>\r\n    </form>\r\n    <table class=\"ads-table\" [ngClass]=\"{ 'fixed-layout': hasFixedLayout }\">\r\n        <tr>\r\n            <th *ngFor=\"let column of template.columns; trackBy: trackByIndex;\"\r\n                [class]=\"{'hide-on-mobile': column.hideOnMobile}\"\r\n                (click)=\"column.sortable && sortByColumn(column)\">\r\n                <span>\r\n                    {{ column.title }}\r\n                </span>\r\n                <ads-icon\r\n                    *ngIf=\"column.sortable\"\r\n                    type=\"av_custom_chevron_down\"\r\n                    color=\"info\"\r\n                    size=\"extra-small\"\r\n                    css=\"ml-2\"\r\n                    [class]=\"getSortClass(column)\"\r\n                ></ads-icon>\r\n            </th>\r\n            <th *ngFor=\"let option of tableTemplate.actions; trackBy: trackByIndex\" [class]=\"{'hide-on-mobile': option.hideOnMobile}\"></th>\r\n        </tr>\r\n        <ng-container *ngIf=\"tableDataSlice\">\r\n            <tr *ngFor=\"let row of tableDataSlice; trackBy: trackByIndex; let i = index;\">\r\n                <ng-container *ngFor=\"let column of template.columns; trackBy: trackByIndex;\">\r\n                    <td *ngIf=\"['string', 'number', 'date', 'array'].includes(column.type)\"\r\n                        [class]=\"{'hide-on-mobile': column.hideOnMobile}\">\r\n                        {{ row[column.dataKey] }}\r\n                    </td>\r\n\r\n                    <td *ngIf=\"column.type === 'html'\"\r\n                        [class]=\"{'hide-on-mobile': column.hideOnMobile}\"[innerHTML]=\"getSanitizedHtml(row[column.dataKey])\"></td>\r\n\r\n                    <td *ngIf=\"column.type === 'image'\"\r\n                        [class]=\"{'hide-on-mobile': column.hideOnMobile}\">\r\n                        <img *ngIf=\"row[column.dataKey]\" [src]=\"row[column.dataKey]\" [alt]=\"row[column.dataKey]\"/>\r\n                    </td>\r\n\r\n                    <td *ngIf=\"column.type === 'icon'\"\r\n                        class=\"icon-cell\"\r\n                        [class]=\"{'hide-on-mobile': column.hideOnMobile} \">\r\n                        <ads-icon\r\n                            [type]=\"row[column.dataKey]\"\r\n                            color=\"info\"\r\n                            size=\"regular\"\r\n                            css=\"ml-2 pt-4\"\r\n                        ></ads-icon>\r\n                    </td>\r\n\r\n                    <td *ngIf=\"column.type === 'boolean'\"\r\n                        class=\"icon-cell\"\r\n                        [class]=\"{'hide-on-mobile': column.hideOnMobile}\">\r\n                        <ads-icon *ngIf=\"row[column.dataKey]\" type=\"av_custom_checkmark_circle\" color=\"success\" label=\"icon\"></ads-icon>\r\n                        <ads-icon *ngIf=\"!row[column.dataKey]\" type=\"av_custom_close_circle\" color=\"error\" label=\"icon\"></ads-icon>\r\n                    </td>\r\n\r\n\r\n                    <td *ngIf=\"column.type === 'edit-in-place'\"\r\n                        [class]=\"{'hide-on-mobile': column.hideOnMobile}\">\r\n                        <ads-edit-in-place (valueChange)=\"emitRowValueChange(column, row, $event)\" [value]=\"row[column.dataKey]\" placeholder=\"empty\"></ads-edit-in-place>\r\n                    </td>\r\n\r\n                </ng-container>\r\n\r\n\r\n                <td *ngFor=\"let action of tableTemplate.actions; trackBy: trackByIndex;\" class=\"has-button\"\r\n                    [class]=\"{'hide-on-mobile': action.hideOnMobile}\">\r\n                    <ads-button\r\n                        *ngIf=\"!action.switch\"\r\n                        label=\"{{action.title}}\"\r\n                        action=\"ghost\"\r\n                        icon=\"{{action.icon}}\"\r\n                        size=\"small\"\r\n                        [iconOnly]=\"true\"\r\n                        [disabled]=\"!!action.isDisabled && action.isDisabled(row)\"\r\n                        [hidden]=\"!!action.isVisible && !action.isVisible(row)\"\r\n                        (click)=\"(!action.isDisabled || !action.isDisabled(row)) && emitClick($event, action.action, row)\"\r\n                    ></ads-button>\r\n                    <ads-form-checkbox\r\n                        class=\"data-table-action-toggle\"\r\n                        *ngIf=\"action.switch\"\r\n                        type=\"switch\"\r\n                        labelPosition=\"right\"\r\n                        id=\"action-switch-{{ i }}\"\r\n                        size=\"small\"\r\n                        [hideLabel]=\"true\"\r\n                        [checked]=\"!!action.isChecked && action.isChecked(row)\"\r\n                        [disabled]=\"!!action.isDisabled && action.isDisabled(row)\"\r\n                        (click)=\"(!action.isDisabled || !action.isDisabled(row)) && emitClick($event, action.action, row)\">\r\n                    </ads-form-checkbox>\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"!tableDataSlice && !hasError\">\r\n            <tr>\r\n                <td [colSpan]=\"tableTemplate.columns.length\">\r\n                    <ads-spinner diameter=\"16\"></ads-spinner>\r\n                    <span class=\"text-color-deep-blue ml-3\">{{ loadingLabel }}</span\r\n            >\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"hasError\">\r\n            <tr>\r\n                <td [colSpan]=\"tableTemplate.columns.length\">\r\n                    <span class=\"text-color-deep-blue\">{{ errorLabel }}</span\r\n                    >\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n    </table>\r\n\r\n    <ads-paginator\r\n        *ngIf=\"tableTemplate.pagination && tableData\"\r\n        [length]=\" tableData.length\"\r\n        [pageSize]=\"tableTemplate.pagination.pageSize\"\r\n        [showPageSelection]=\"tableTemplate.pagination.showPageSelection || false\"\r\n        [showPageSizeSelection]=\"tableTemplate.pagination.showPageSizeSelection || false\"\r\n        [position]=\"tableTemplate.pagination.position || 'right'\"\r\n        (pageChanged)=\"pageChanged($event)\"\r\n    ></ads-paginator>\r\n</ng-container>\r\n", styles: [":root{--ads-color-white: #fff;--ads-color-white_foreground: #000;--ads-color-gray-6: #f0f0f0;--ads-color-gray-6_foreground: #000;--ads-color-gray-12: #e0e0e0;--ads-color-gray-12_foreground: #000;--ads-color-gray-20: #cccccc;--ads-color-gray-20_foreground: #000;--ads-color-gray-50: gray;--ads-color-gray-50_foreground: #fff;--ads-color-gray-70: #4d4d4d;--ads-color-gray-70_foreground: #fff;--ads-color-gray-85: #262626;--ads-color-gray-85_foreground: #fff;--ads-color-black: #000;--ads-color-black_foreground: #fff;--ads-color-error: #d21e36;--ads-color-error_hover: #a5182b;--ads-color-error-background: #fceaea;--ads-color-info: #1e236e;--ads-color-info-background: var(--ads-color-gray-6);--ads-color-success: #01964c;--ads-color-success_hover: #016332;--ads-color-success-background: #eaf6eb;--ads-color-warning: #ef7d00;--ads-color-warning-background: #fff7ef;--ads-color-notification: #ffd900;--ads-color-notification-background: #fffdf0;--ads-color-primary: #1e236e;--ads-color-primary-40: #a5a7c5;--ads-color-primary-65: #6e71a2;--ads-color-primary-foreground: #fff;--ads-color-primary_active: #0a0c26;--ads-color-primary_active-foreground: #fff;--ads-color-primary_focus: #0f1136;--ads-color-primary_focus-foreground: #fff;--ads-color-primary_hover: #131646;--ads-color-primary_hover-foreground: #fff;--ads-color-secondary: #00d7e7;--ads-color-secondary-40: #9aeff5;--ads-color-secondary-65: #5ae5ef;--ads-color-secondary-foreground: #fff;--ads-color-secondary_active: #00828b;--ads-color-secondary_active-foreground: #fff;--ads-color-secondary_focus: #0095a0;--ads-color-secondary_focus-foreground: #fff;--ads-color-secondary_hover: #00a8b4;--ads-color-secondary_hover-foreground: #fff;--ads-color-accent: #ff6d6a;--ads-color-accent-40: #ffc5c3;--ads-color-accent-65: #ffa19f;--ads-color-accent-foreground: #fff;--ads-color-accent_active: #ff5451;--ads-color-accent_active-foreground: #fff;--ads-color-accent_hover: #ff3b37;--ads-color-accent_hover-foreground: #fff;--ads-color-accent_focus: #ff221e;--ads-color-accent_focus-foreground: #fff;--ads-color-disabled: #e0e0e0;--ads-color-disabled-foreground: gray;--ads-color-app: #fff;--ads-color-app-text: #262626;--ads-color-app-navigation: #1e236e;--ads-color-app-navigation-divider: #6e71a2;--ads-color-app-navigation-menu-item-foreground: #fff;--ads-color-app-navigation-menu-item-background: #1e236e;--ads-color-app-navigation-menu-item-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-background_hover: #1e236e;--ads-color-app-navigation-menu-item-foreground_focus: #fff;--ads-color-app-navigation-menu-item-background_focus: #fff;--ads-color-app-navigation-menu-item-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-background_selected: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground: #fff;--ads-color-app-navigation-menu-item-icon-background: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_hover: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-menu-item-icon-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_selected: #1e236e;--ads-color-app-navigation-toolbar: #fff;--ads-color-app-navigation-toolbar-divider: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_selected: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_selected: #f0f0f0;--ads-color-solid-gradient-primary-to-accent: linear-gradient(90deg, #1e236e 0%, #ff6d6a 100%);--ads-color-solid-gradient-secondary-to-accent: linear-gradient(-170deg, rgba(0, 215, 231, 0) 60%, #00d7e7 125%), linear-gradient(170deg, #ff6d6a 60%, #ff6d6a 125%);--ads-color-solid-gradient-accent-to-secondary-to-primary: linear-gradient(90deg, #ff6d6a 0%, #00d7e7 50%, #1e236e 100%);--ads-color-solid-gradient-gray-to-primary: linear-gradient(90deg, #e0e0e0 0%, #a5a7c5 100%);--ads-color-image-gradient-primary-to-accent: linear-gradient(90deg, rgba(30, 35, 110, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-primary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(30, 35, 110, .7) 100%);--ads-color-image-gradient-secondary-to-accent: linear-gradient(90deg, rgba(0, 215, 231, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-secondary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(0, 215, 231, .7) 100%);--ads-color-image-gradient-mask: linear-gradient(to bottom, rgba(0,0,0,0) 48%, rgba(0,0,0,.5) 80%, rgba(0,0,0,1) 100%);--ads-color-image-gradient-darken-bottom: linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .1) 40%, rgba(0, 0, 0, .4) 100%);--ads-color-app-gradient-secondary-to-accent: linear-gradient(160deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .4) 90%), linear-gradient(220deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 60%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-large: linear-gradient(170deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .5) 90%), linear-gradient(210deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 70%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-foreground: #fff;--ads-color-app-gradient-primary-to-accent: linear-gradient(200deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .7) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 60%, rgba(30, 35, 110, .4) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-large: linear-gradient(190deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .6) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 70%, rgba(30, 35, 110, .5) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-foreground: #1e236e;--ads-color-app-gradient-primary-inverted: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 60%, rgba(255, 109, 106, .4) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 65%, rgba(0, 215, 231, .45) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-large: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 75%, rgba(255, 109, 106, .05) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 75%, rgba(0, 215, 231, .02) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-foreground: #1e236e;--ads-ring_active: 0 0 0 2px #fff, 0 0 0 5px #1e236e;--ads-ring_focus: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_hover: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_transparent: 0 0 0 2px transparent, 0 0 0 3px transparent;--ads-ring_focus-inset: inset 0 0 0 2px #fff, inset 0 0 0 3px #1e236e;--ads-ring_focus-inset-inverted: inset 0 0 0 2px #1e236e, inset 0 0 0 4px #fff;--ads-ring-focus-with-contextmenu: 0 0 0 1px #fff, 0 0 0 2px #555cd1, 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-0: 0 0 0 0 rgba(0, 0, 0, 0);--ads-shadow-depth-1: 0 .4px .4px rgba(0, 0, 0, .05), 0 1px 1px rgba(0, 0, 0, .036), 0 1.9px 1.9px rgba(0, 0, 0, .03), 0 3.4px 3.4px rgba(0, 0, 0, .025), 0 6.3px 6.3px rgba(0, 0, 0, .02), 0 15px 15px rgba(0, 0, 0, .014);--ads-shadow-depth-2: 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-3: 0 .7px .7px rgba(0, 0, 0, .017), 0 1.7px 1.7px rgba(0, 0, 0, .024), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .036), 0 10.4px 10.4px rgba(0, 0, 0, .043), 0 25px 25px rgba(0, 0, 0, .06);--ads-shadow-depth-4: 0 1px 1px rgba(0, 0, 0, .014), 0 2.3px 2.3px rgba(0, 0, 0, .02), 0 4.4px 4.4px rgba(0, 0, 0, .025), 0 7.8px 7.8px rgba(0, 0, 0, .03), 0 14.6px 14.6px rgba(0, 0, 0, .036), 0 35px 35px rgba(0, 0, 0, .05);--ads-shadow-depth-5: 0 1.2px 1.2px rgba(0, 0, 0, .014), 0 3px 3px rgba(0, 0, 0, .02), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.1px 10.1px rgba(0, 0, 0, .03), 0 18.8px 18.8px rgba(0, 0, 0, .036), 0 45px 45px rgba(0, 0, 0, .05);--ads-shadow-depth-6: 0 .9px .9px rgba(0, 0, 0, .011), 0 1.9px 1.9px rgba(0, 0, 0, .016), 0 3.2px 3.2px rgba(0, 0, 0, .019), 0 4.8px 4.8px rgba(0, 0, 0, .022), 0 6.9px 6.9px rgba(0, 0, 0, .025), 0 9.7px 9.7px rgba(0, 0, 0, .028), 0 13.8px 13.8px rgba(0, 0, 0, .031), 0 20.1px 20.1px rgba(0, 0, 0, .034), 0 30.9px 30.9px rgba(0, 0, 0, .039), 0 55px 55px rgba(0, 0, 0, .05)}.data-table-options{display:flex;flex-direction:column;align-items:flex-start}@media (min-width: 769px){.data-table-options{flex-direction:row;align-items:center}}.data-table-options .data-table-options_nr-of-results{flex:1;padding:.5rem 1rem .5rem 0;display:flex;align-items:center}.data-table-options .data-table-options_search{position:relative;width:100%;min-width:250px;flex:none;padding:.5rem .25rem .5rem 0}@media (min-width: 769px){.data-table-options .data-table-options_search{width:auto}}.data-table-options .data-table-options_search input{position:relative;width:100%;padding-right:2.5rem;border-radius:.25rem;height:2.5rem}.data-table-options .data-table-options_search ads-icon{position:absolute;top:50%;right:1rem;transform:translateY(-50%)}.sort-info{margin-left:.25rem}.sort-ascending{transform:scaleY(-1)}.sort-descending{transform:scaleY(1)}.sort-hidden{opacity:.5}.ads-table{margin-bottom:2rem}.ads-table.fixed-layout{table-layout:fixed}.ads-table td.icon-cell{padding-top:1.5rem}.ads-table ads-edit-in-place{width:100%}.reset-container{text-align:right}.reset-container ads-button{margin-right:.5rem}.data-table-action-toggle label{margin:auto .25rem!important}ul li.context-menu_header{padding-right:0!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.UntypedFormBuilder }, { type: i0.ChangeDetectorRef }, { type: i2.DomSanitizer }]; }, propDecorators: { data: [{
                type: Input
            }], template: [{
                type: Input
            }], currentLanguage: [{
                type: Input
            }], loadingLabel: [{
                type: Input
            }], errorLabel: [{
                type: Input
            }], hasError: [{
                type: Input
            }], hasFixedLayout: [{
                type: Input
            }], clickEmitter: [{
                type: Output
            }], rowValueChange: [{
                type: Output
            }], searchQuery: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS10YWJsZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FscGhhYmV0LWRlc2lnbi1zeXN0ZW0tdWkvc3JjL2xpYi9jb21wb25lbnRzL2RhdGEtdGFibGUvZGF0YS10YWJsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FscGhhYmV0LWRlc2lnbi1zeXN0ZW0tdWkvc3JjL2xpYi9jb21wb25lbnRzL2RhdGEtdGFibGUvZGF0YS10YWJsZS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsOENBQThDO0FBQzlDLG9DQUFvQztBQUNwQyxxRUFBcUU7QUFDckUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFDSCx1QkFBdUIsRUFDdkIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxZQUFZLEVBQ1osS0FBSyxFQUVMLE1BQU0sRUFFTixpQkFBaUIsR0FDcEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFvQixrQkFBa0IsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxZQUFZLEVBQVksTUFBTSwyQkFBMkIsQ0FBQztBQUNuRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDckQsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0scURBQXFELENBQUM7QUFXakcsT0FBTyxFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7Ozs7Ozs7Ozs7OztBQXVCL0MsSUFBTSxxQkFBcUIsR0FBM0IsTUFBTSxxQkFBcUI7SUF5QzlCLFlBQ3FCLFdBQStCLEVBQy9CLEdBQXNCLEVBQ3RCLFNBQXVCO1FBRnZCLGdCQUFXLEdBQVgsV0FBVyxDQUFvQjtRQUMvQixRQUFHLEdBQUgsR0FBRyxDQUFtQjtRQUN0QixjQUFTLEdBQVQsU0FB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S0FBSyxDQUFDLElBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQztnQkFDbkUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsRUFDdkU7Z0JBQ0UsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7YUFDOUI7UUFDTCxDQUFDLENBQ0osQ0FBQztJQUNOLENBQUM7O2tIQW5ZUSxxQkFBcUI7c0dBQXJCLHFCQUFxQix3WENwRGxDLDAxWkE2UEE7QUR6TWEscUJBQXFCO0lBUmpDLFlBQVksRUFBRTtxQ0FrRHVCLGtCQUFrQjtRQUMxQixpQkFBaUI7UUFDWCxZQUFZO0dBNUNuQyxxQkFBcUIsQ0FvWWpDO1NBcFlZLHFCQUFxQjsyRkFBckIscUJBQXFCO2tCQVBqQyxTQUFTOytCQUNJLGdCQUFnQixtQkFHVCx1QkFBdUIsQ0FBQyxNQUFNLGlCQUNoQyxpQkFBaUIsQ0FBQyxJQUFJO29LQUc1QixJQUFJO3NCQUFaLEtBQUs7Z0JBQ0csUUFBUTtzQkFBaEIsS0FBSztnQkFDRyxlQUFlO3NCQUF2QixLQUFLO2dCQUNHLFlBQVk7c0JBQXBCLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSztnQkFDRyxRQUFRO3NCQUFoQixLQUFLO2dCQUNHLGNBQWM7c0JBQXRCLEtBQUs7Z0JBRWEsWUFBWTtzQkFBOUIsTUFBTTtnQkFDWSxjQUFjO3NCQUFoQyxNQUFNO2dCQUVZLFdBQVc7c0JBQTdCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBmdW5jdGlvbmFsL2ltbXV0YWJsZS1kYXRhICovXHJcbi8qIGVzbGludC1kaXNhYmxlIG5vLW51bGwvbm8tbnVsbCAqL1xyXG4vKiBlc2xpbnQtZGlzYWJsZSBAYW5ndWxhci1lc2xpbnQvdXNlLWNvbXBvbmVudC12aWV3LWVuY2Fwc3VsYXRpb24gKi9cclxuaW1wb3J0IHsgRGF0ZVBpcGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQge1xyXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcbiAgICBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgIENvbXBvbmVudCxcclxuICAgIEV2ZW50RW1pdHRlcixcclxuICAgIElucHV0LFxyXG4gICAgT25DaGFuZ2VzLFxyXG4gICAgT3V0cHV0LFxyXG4gICAgU2ltcGxlQ2hhbmdlcyxcclxuICAgIFZpZXdFbmNhcHN1bGF0aW9uLFxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBVbnR5cGVkRm9ybUFycmF5LCBVbnR5cGVkRm9ybUJ1aWxkZXIgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IERvbVNhbml0aXplciwgU2FmZUh0bWwgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcclxuaW1wb3J0IHsgVW50aWxEZXN0cm95IH0gZnJvbSAnQG5nbmVhdC91bnRpbC1kZXN0cm95JztcclxuaW1wb3J0IHsgdHJhbnNsYXRlRGF0YXRhYmxlT3JkZXJpbmcgfSBmcm9tICcuLi8uLi90cmFuc2xhdGlvbnMvZGF0YS10YWJsZS5vcmRlcmluZy50cmFuc2xhdGlvbnMnO1xyXG5pbXBvcnQge1xyXG4gICAgSVRhYmxlLFxyXG4gICAgSVRhYmxlQ29sdW1uLFxyXG4gICAgSVRhYmxlRGF0YSxcclxuICAgIElUYWJsZURhdGFSb3csXHJcbiAgICBJVGFibGVGaWx0ZXJzLFxyXG4gICAgSVRhYmxlUm93LFxyXG4gICAgSVRhYmxlU29ydGluZyxcclxuICAgIElUYWJsZVRlbXBsYXRlLFxyXG59IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHsgZmxhdHRlbk9iamVjdCwgcmFuZG9tSWQgfSBmcm9tICcuLi8uLi91dGlscyc7XHJcbmltcG9ydCB7IFBhZ2luYXRpb25FdmVudCB9IGZyb20gJy4uL3BhZ2luYXRvci9wYWdpbmF0b3IuY29tcG9uZW50JztcclxuXHJcbmV4cG9ydCB0eXBlIFJvd0FjdGlvbkNsaWNrRXZlbnQgPSB7XHJcbiAgICBhY3Rpb246IHN0cmluZztcclxuICAgIHJvdzogSVRhYmxlRGF0YVJvdztcclxuICAgIGNsaWNrRXZlbnQ6IE1vdXNlRXZlbnQ7XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBSb3dWYWx1ZUNoYW5nZUV2ZW50ID0ge1xyXG4gICAgcm93OiBJVGFibGVEYXRhUm93O1xyXG4gICAgY29sdW1uOiBJVGFibGVDb2x1bW47XHJcbiAgICB2YWx1ZTogc3RyaW5nO1xyXG59O1xyXG5cclxuQFVudGlsRGVzdHJveSgpXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdhZHMtZGF0YS10YWJsZScsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vZGF0YS10YWJsZS5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi9kYXRhLXRhYmxlLmNvbXBvbmVudC5zY3NzJ10sXHJcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBBRFNEYXRhVGFibGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xyXG4gICAgQElucHV0KCkgZGF0YTogSVRhYmxlIHwgdW5kZWZpbmVkIHwgbnVsbCA9IHVuZGVmaW5lZDtcclxuICAgIEBJbnB1dCgpIHRlbXBsYXRlITogSVRhYmxlVGVtcGxhdGU7XHJcbiAgICBASW5wdXQoKSBjdXJyZW50TGFuZ3VhZ2UgPSAnZW4tVVMnO1xyXG4gICAgQElucHV0KCkgbG9hZGluZ0xhYmVsID0gJ0xvYWRpbmcuLi4nO1xyXG4gICAgQElucHV0KCkgZXJyb3JMYWJlbCA9ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIGRhdGEuJztcclxuICAgIEBJbnB1dCgpIGhhc0Vycm9yID0gZmFsc2U7XHJcbiAgICBASW5wdXQoKSBoYXNGaXhlZExheW91dCA9IGZhbHNlO1xyXG5cclxuICAgIEBPdXRwdXQoKSByZWFkb25seSBjbGlja0VtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyPFJvd0FjdGlvbkNsaWNrRXZlbnQ+KCk7XHJcbiAgICBAT3V0cHV0KCkgcmVhZG9ubHkgcm93VmFsdWVDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPFJvd1ZhbHVlQ2hhbmdlRXZlbnQ+KCk7XHJcblxyXG4gICAgQE91dHB1dCgpIHJlYWRvbmx5IHNlYXJjaFF1ZXJ5OiBFdmVudEVtaXR0ZXI8e1xyXG4gICAgICAgIHNlYXJjaFRlcm06IHN0cmluZztcclxuICAgIH0+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIHByaXZhdGUgZGF0YU9yaWdpbjogSVRhYmxlIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG4gICAgcHJpdmF0ZSBkYXRlUGlwZTogRGF0ZVBpcGU7XHJcbiAgICBlbXB0eVZhbHVlRGVzY3JpcHRpb246IHN0cmluZyA9ICRsb2NhbGl6ZWA6QEBkYXRhdGFibGVGaWx0ZXJFbXB0eVZhbHVlOiA8ZW1wdHk+YDtcclxuXHJcbiAgICByZWFkb25seSB0YWJsZUZvcm0gPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcclxuICAgICAgICBjb2x1bW5zOiB0aGlzLmZvcm1CdWlsZGVyLmFycmF5KFtdKSxcclxuICAgICAgICBmaWx0ZXJzOiB0aGlzLmZvcm1CdWlsZGVyLmFycmF5KFtdKSxcclxuICAgICAgICBzZWFyY2g6IFsnJ10sXHJcbiAgICB9KTtcclxuICAgIHJlYWRvbmx5IGNvbHVtbnMgPSB0aGlzLnRhYmxlRm9ybS5nZXQoJ2NvbHVtbnMnKSBhcyBVbnR5cGVkRm9ybUFycmF5O1xyXG4gICAgcmVhZG9ubHkgZmlsdGVycyA9IHRoaXMudGFibGVGb3JtLmdldCgnZmlsdGVycycpIGFzIFVudHlwZWRGb3JtQXJyYXk7XHJcbiAgICByZWFkb25seSBzZWFyY2ggPSB0aGlzLnRhYmxlRm9ybS5nZXQoJ3NlYXJjaCcpO1xyXG5cclxuICAgIGRpc3BsYXlTZWxlY3RlZE9ubHkgPSBmYWxzZTtcclxuICAgIGZpbHRlcnNDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICBzb3J0aW5nOiBJVGFibGVTb3J0aW5nID0geyBkaXJlY3Rpb246ICcnIH07XHJcbiAgICB0YWJsZVRlbXBsYXRlITogSVRhYmxlVGVtcGxhdGU7XHJcbiAgICBpZCA9IHJhbmRvbUlkKCk7XHJcbiAgICB0YWJsZURhdGEhOiBJVGFibGVEYXRhO1xyXG4gICAgdGFibGVEYXRhU2xpY2UhOiBJVGFibGVEYXRhO1xyXG4gICAgdGFibGVEYXRhU2xpY2VTdGFydCE6IG51bWJlcjtcclxuICAgIHRhYmxlRGF0YVNsaWNlRW5kITogbnVtYmVyO1xyXG4gICAgcGFnZUluZGV4ID0gMTtcclxuICAgIHBhZ2VTaXplID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGZvcm1CdWlsZGVyOiBVbnR5cGVkRm9ybUJ1aWxkZXIsXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBjZHI6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgc2FuaXRpemVyOiBEb21TYW5pdGl6ZXIsXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLmRhdGVQaXBlID0gbmV3IERhdGVQaXBlKHRoaXMuY3VycmVudExhbmd1YWdlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZWR1Y2UgdGhlIHJhdyBkYXRhIGlucHV0IHRvIGFuIGFycmF5IG9mIHNvcnRlZCwgZm9ybWF0dGVkIGRhdGEgdGhhdCB3ZSBhcmUgaW50ZXJlc3RlZCBpblxyXG4gICAgdXBkYXRlVGFibGVEYXRhKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnRhYmxlVGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2VhcmNoU3RyaW5nID0gdGhpcy5zZWFyY2g/LnZhbHVlLnRvTG93ZXJDYXNlKCkgPz8gJyc7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhT3JpZ2luKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHRoaXMuZGF0YU9yaWdpbi5yZWR1Y2UoXHJcbiAgICAgICAgICAgICAgICAgICAgKHRhYmxlOiBBcnJheTxJVGFibGVEYXRhUm93Piwgcm93T3JpZ2luOiBJVGFibGVSb3cpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93ID0geyAuLi5yb3dPcmlnaW4gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlRmlsdGVycyA9IHRoaXMuZmlsdGVycy52YWx1ZS5yZWR1Y2UoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjdW11bGF0b3I6IEFycmF5PHsga2V5OiBzdHJpbmc7IGxhYmVsczogQXJyYXk8c3RyaW5nPiB9PixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWU6IElUYWJsZUZpbHRlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRWYWx1ZS5oZWFkZXIgJiYgIWN1cnJlbnRWYWx1ZS5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBhY2N1bXVsYXRvci5maW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9PiBpLmtleSA9PT0gY3VycmVudFZhbHVlLmtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmxhYmVscyA9IFsuLi50YXJnZXQubGFiZWxzLCBjdXJyZW50VmFsdWUubGFiZWxdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmFjY3VtdWxhdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IGN1cnJlbnRWYWx1ZS5rZXksIGxhYmVsczogW2N1cnJlbnRWYWx1ZS5sYWJlbF0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWFyY2hSZXN1bHQgPSBzZWFyY2hTdHJpbmcgPT09ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlVGVtcGxhdGUuY29sdW1ucy5mb3JFYWNoKGNvbHVtbiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJvd1tjb2x1bW4uZGF0YUtleV0/LnRvU3RyaW5nKCkgPz8gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlYXJjaFJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdCA9IHZhbHVlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hTdHJpbmcpID4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbHRlclJlc3VsdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRmlsdGVycy5mb3JFYWNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFjdGl2ZUZpbHRlcjogeyBrZXk6IHN0cmluZzsgbGFiZWxzOiBBcnJheTxzdHJpbmc+IH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJvd1thY3RpdmVGaWx0ZXIua2V5XSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRBcnJheTogQXJyYXk8c3RyaW5nPiA9IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1thY3RpdmVGaWx0ZXIua2V5XSBhcyBBcnJheTxzdHJpbmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk/LmZpbHRlcigodmFsdWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZUZpbHRlci5sYWJlbHMuaW5jbHVkZXModmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRBcnJheS5sZW5ndGggPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocm93W2FjdGl2ZUZpbHRlci5rZXldIGFzIEFycmF5PHN0cmluZz4pLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJvd1thY3RpdmVGaWx0ZXIua2V5XT8udG9TdHJpbmcoKSA/PyAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUZpbHRlci5sYWJlbHMuaW5jbHVkZXModmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJSZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhcnNlIGFycmF5cyB0byBzdHJpbmcgZm9yIHNob3dpbmcgaW4gdGFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZVRlbXBsYXRlLmNvbHVtbnMuZm9yRWFjaChjb2x1bW4gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi50eXBlID09PSAnYXJyYXknKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93W2NvbHVtbi5kYXRhS2V5XSA9IChyb3dbY29sdW1uLmRhdGFLZXldIGFzIEFycmF5PHN0cmluZz4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zb3J0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJywgJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFJlc3VsdCAmJiAhZmlsdGVyUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5wdXNoKHJvdyBhcyBJVGFibGVEYXRhUm93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgW10sXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zb3J0aW5nLmRpcmVjdGlvbiAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gdGhpcy5zb3J0VGFibGVEYXRhKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGFibGVEYXRhU2xpY2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVUYWJsZURhdGFTbGljZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy50YWJsZURhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy50YWJsZURhdGFTbGljZSA9IHRoaXMudGFibGVEYXRhLm1hcChyb3cgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gZm9ybWF0IGRhdGVzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlQ29sdW1ucyA9IHRoaXMudGFibGVUZW1wbGF0ZS5jb2x1bW5zLmZpbHRlcihjID0+IGMudHlwZSA9PT0gJ2RhdGUnKTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29sdW1uIG9mIGRhdGVDb2x1bW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93W2NvbHVtbi5kYXRhS2V5XSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGVQaXBlLnRyYW5zZm9ybShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dbY29sdW1uLmRhdGFLZXldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5kYXRlRm9ybWF0ID8/ICdtZWRpdW0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA/PyAnJztcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc3BsYXkgdW5mb3JtYXR0ZWQgaW5wdXQgaWYgZGF0ZSBwaXBlIGZhaWxzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1tjb2x1bW4uZGF0YUtleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByb3c7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YWJsZVRlbXBsYXRlLnBhZ2luYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIFRha2UgcGFydCBvZiB0aGUgdGFibGUgZGF0YSB3aGVuIHdlIGhhdmUgcGFnaW5hdGlvbiBmb3IgdGhpcyBkYXRhIHRhYmxlIGVuYWJsZWRcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhU2xpY2VTdGFydCA9ICh0aGlzLnBhZ2VJbmRleCAtIDEpICogdGhpcy5wYWdlU2l6ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhU2xpY2UgPSB0aGlzLnRhYmxlRGF0YS5zbGljZShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVNsaWNlU3RhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGFTbGljZVN0YXJ0ICsgdGhpcy5wYWdlU2l6ZSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVNsaWNlRW5kID0gdGhpcy50YWJsZURhdGFTbGljZVN0YXJ0ICsgdGhpcy50YWJsZURhdGFTbGljZS5sZW5ndGg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVNsaWNlID0gdGhpcy50YWJsZURhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0gcGFnaW5hdGlvblxyXG4gICAgcGFnZUNoYW5nZWQocGFnaW5hdGlvbkV2ZW50OiBQYWdpbmF0aW9uRXZlbnQpIHtcclxuICAgICAgICB0aGlzLnBhZ2VJbmRleCA9IHBhZ2luYXRpb25FdmVudC5wYWdlSW5kZXg7XHJcbiAgICAgICAgdGhpcy5wYWdlU2l6ZSA9IHBhZ2luYXRpb25FdmVudC5wYWdlU2l6ZTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRhYmxlRGF0YVNsaWNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TnVtYmVyT2ZSZXN1bHRzRGlzcGxheWVkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGFibGVEYXRhU2xpY2UgPyB0aGlzLnRhYmxlRGF0YVNsaWNlLmxlbmd0aC50b1N0cmluZygpIDogJzAnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLSBzb3J0aW5nIC0tLVxyXG4gICAgc29ydEJ5Q29sdW1uKGNvbHVtbjogSVRhYmxlQ29sdW1uKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc29ydGluZy5jb2x1bW4/LmRhdGFLZXkgIT09IGNvbHVtbi5kYXRhS2V5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydGluZy5kaXJlY3Rpb24gPSAnYXNjZW5kaW5nJztcclxuICAgICAgICAgICAgdGhpcy5zb3J0aW5nLmNvbHVtbiA9IGNvbHVtbjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNvcnRpbmcuZGlyZWN0aW9uID1cclxuICAgICAgICAgICAgICAgIHRoaXMuc29ydGluZy5kaXJlY3Rpb24gPT09ICdhc2NlbmRpbmcnID8gJ2Rlc2NlbmRpbmcnIDogJ2FzY2VuZGluZyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc29ydFRhYmxlRGF0YSgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVGFibGVEYXRhU2xpY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBzb3J0VGFibGVEYXRhKCk6IElUYWJsZURhdGEge1xyXG4gICAgICAgIGlmICh0aGlzLnNvcnRpbmcuZGlyZWN0aW9uID09PSAnYXNjZW5kaW5nJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YWJsZURhdGEuc29ydCgoYSwgYikgPT4gdGhpcy5zb3J0KGEsIGIpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnRhYmxlRGF0YS5zb3J0KChhLCBiKSA9PiB0aGlzLnNvcnQoYiwgYSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc29ydChyb3dBOiBJVGFibGVEYXRhUm93LCByb3dCOiBJVGFibGVEYXRhUm93KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNvcnRpbmcuY29sdW1uPy5kYXRhS2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHZhbHVlQTogbnVtYmVyIHwgc3RyaW5nIHwgYm9vbGVhbiA9IHJvd0FbdGhpcy5zb3J0aW5nLmNvbHVtbi5kYXRhS2V5XTtcclxuICAgICAgICBsZXQgdmFsdWVCOiBudW1iZXIgfCBzdHJpbmcgfCBib29sZWFuID0gcm93Qlt0aGlzLnNvcnRpbmcuY29sdW1uLmRhdGFLZXldO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zb3J0aW5nLmNvbHVtbi50eXBlID09PSAnZGF0ZScpIHtcclxuICAgICAgICAgICAgdmFsdWVBID0gbmV3IERhdGUodmFsdWVBKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIHZhbHVlQiA9IG5ldyBEYXRlKHZhbHVlQikuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlQSA+IHZhbHVlQiA/IDEgOiAtMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNvcnRpbmcuY29sdW1uLnR5cGUgPT09ICdzdHJpbmcnIHx8IHRoaXMuc29ydGluZy5jb2x1bW4udHlwZSA9PT0gJ2ltYWdlJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVBLmxvY2FsZUNvbXBhcmUodmFsdWVCKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB2YWx1ZUEgPiB2YWx1ZUIgPyAxIDogLTE7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNsYXRlU29ydGluZ0RpcmVjdGlvbihzb3J0aW5nRGlyZWN0aW9uOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0cmFuc2xhdGVEYXRhdGFibGVPcmRlcmluZyhzb3J0aW5nRGlyZWN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTb3J0Q2xhc3MoY29sdW1uOiBJVGFibGVDb2x1bW4pOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChjb2x1bW4uZGF0YUtleSA9PT0gdGhpcy5zb3J0aW5nLmNvbHVtbj8uZGF0YUtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zb3J0aW5nLmRpcmVjdGlvbiA9PT0gJ2FzY2VuZGluZycgPyAnc29ydC1hc2NlbmRpbmcnIDogJ3NvcnQtZGVzY2VuZGluZyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gJ3NvcnQtaGlkZGVuJztcclxuICAgIH1cclxuXHJcbiAgICBlbWl0Q2xpY2soJGV2ZW50OiBNb3VzZUV2ZW50LCBhY3Rpb246IHN0cmluZywgcm93OiBJVGFibGVEYXRhUm93KSB7XHJcbiAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuY2xpY2tFbWl0dGVyLmVtaXQoeyBhY3Rpb24sIHJvdywgY2xpY2tFdmVudDogJGV2ZW50IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGVtaXRSb3dWYWx1ZUNoYW5nZShjb2x1bW46IElUYWJsZUNvbHVtbiwgcm93OiBJVGFibGVEYXRhUm93LCB2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5yb3dWYWx1ZUNoYW5nZS5lbWl0KHtcclxuICAgICAgICAgICAgY29sdW1uLFxyXG4gICAgICAgICAgICByb3csXHJcbiAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvcm1TdWJzY3JpcHRpb25zKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZmlsdGVycy52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVGaWx0ZXJzQ2hhbmdlZCgpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRhYmxlRGF0YSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNlYXJjaD8udmFsdWVDaGFuZ2VzLnN1YnNjcmliZSgoKSA9PiB0aGlzLnVwZGF0ZVRhYmxlRGF0YSgpKTtcclxuICAgIH1cclxuXHJcbiAgICB0cmFja0J5SW5kZXgoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIGN1cnJlbnRMYW5ndWFnZSwgdGVtcGxhdGUgfSA9IGNoYW5nZXM7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRMYW5ndWFnZSAmJiBjdXJyZW50TGFuZ3VhZ2UuY3VycmVudFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZVBpcGUgPSBuZXcgRGF0ZVBpcGUodGhpcy5jdXJyZW50TGFuZ3VhZ2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhT3JpZ2luID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhLmN1cnJlbnRWYWx1ZSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRlbXBsYXRlICYmIHRlbXBsYXRlLmN1cnJlbnRWYWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRhYmxlVGVtcGxhdGUgPSB0ZW1wbGF0ZS5jdXJyZW50VmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydGluZy5jb2x1bW4gPSB0aGlzLnRhYmxlVGVtcGxhdGUuY29sdW1ucy5maW5kKFxyXG4gICAgICAgICAgICAgICAgYyA9PiBjLmRhdGFLZXkgPT09IHRoaXMudGFibGVUZW1wbGF0ZS5zb3J0Py5kYXRhS2V5LFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLnNvcnRpbmcuZGlyZWN0aW9uID0gdGhpcy50YWJsZVRlbXBsYXRlLnNvcnQ/LmRpcmVjdGlvbiA/PyAnZGVzY2VuZGluZyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBXaGVuIGVpdGhlciB0aGUgdGVtcGxhdGUgb3IgdGhlIGRhdGEgaXMgY2hhbmdlZCBwZXJmb3JtIGFuIHVwZGF0ZVxyXG4gICAgICAgIGlmICgodGVtcGxhdGUgJiYgdGVtcGxhdGUuY3VycmVudFZhbHVlKSB8fCAoZGF0YSAmJiBkYXRhLmN1cnJlbnRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkRmlsdGVyT3B0aW9ucygpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFnZVNpemUgJiYgdGhpcy50YWJsZVRlbXBsYXRlLnBhZ2luYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZVNpemUgPSB0aGlzLnRhYmxlVGVtcGxhdGUucGFnaW5hdGlvbi5wYWdlU2l6ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEuY3VycmVudFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRhYmxlRGF0YSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybVN1YnNjcmlwdGlvbnMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2FuaXRpemVkSHRtbChodG1sOiBzdHJpbmcpOiBTYWZlSHRtbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FuaXRpemVyLmJ5cGFzc1NlY3VyaXR5VHJ1c3RIdG1sKGh0bWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWRGaWx0ZXJPcHRpb25zKHVzZUNhY2hlID0gdHJ1ZSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGZpbHRlckNhY2hlID0gdXNlQ2FjaGUgPyBbLi4udGhpcy5maWx0ZXJzLnZhbHVlXSA6IFtdO1xyXG4gICAgICAgIHRoaXMuZmlsdGVycy5jbGVhcigpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50YWJsZVRlbXBsYXRlLmZpbHRlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy50YWJsZVRlbXBsYXRlLmZpbHRlcnMuZm9yRWFjaChmaWx0ZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q29sdW1uID0gdGhpcy50YWJsZVRlbXBsYXRlLmNvbHVtbnMuZmluZChjID0+IGMuZGF0YUtleSA9PT0gZmlsdGVyLmtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldENvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVycy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdoZWFkZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGFyZ2V0Q29sdW1uLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJWYWx1ZXMgPSBuZXcgU2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoZmxhdHRlbk9iamVjdCh0aGlzLmRhdGFPcmlnaW4/Lm1hcChyb3cgPT4gcm93W2ZpbHRlci5rZXldKSkpLnNvcnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChhLCBiKSA9PiAoIWEgfHwgIWIgPyAwIDogYS50b1N0cmluZygpPy5sb2NhbGVDb21wYXJlKGIudG9TdHJpbmcoKSkpLFxyXG4gICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGZpbHRlclZhbHVlcy5mb3JFYWNoKGVudHJ5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZWQgPSBmaWx0ZXJDYWNoZS5maW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmID0+IGYubGFiZWwgPT09IGVudHJ5Py50b1N0cmluZygpICYmIGYua2V5ID09PSBmaWx0ZXIua2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci5zZWxlY3RlZCA9IGZpbHRlci5zZWxlY3RlZCA/PyBbXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9ICFmaWx0ZXIuc2VsZWN0ZWQuaW5jbHVkZXMoZW50cnk/LnRvU3RyaW5nKCkgPz8gJycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJzLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBmaWx0ZXIua2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGVudHJ5Py50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGNhY2hlZCA/IGNhY2hlZC5zZWxlY3RlZCA6IHNlbGVjdGVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVzZWxlY3RTZWN0aW9uKGxhYmVsOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLnRlbXBsYXRlLmNvbHVtbnMuZmluZChjb2wgPT4gY29sLnRpdGxlID09PSBsYWJlbCk/LmRhdGFLZXk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0RmlsdGVycyA9IHRoaXMuZmlsdGVycy52YWx1ZS5maWx0ZXIoXHJcbiAgICAgICAgICAgIChmOiB7IGtleTogc3RyaW5nIHwgdW5kZWZpbmVkIH0pID0+IGYua2V5ID09PSBrZXksXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGFyZ2V0RmlsdGVycy5mb3JFYWNoKChmaWx0ZXI6IHsgc2VsZWN0ZWQ6IGJvb2xlYW4gfSkgPT4ge1xyXG4gICAgICAgICAgICBmaWx0ZXIuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZpbHRlcnNDaGFuZ2VkKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUYWJsZURhdGEoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVGaWx0ZXJzQ2hhbmdlZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmZpbHRlcnNDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJzLnZhbHVlLmZvckVhY2goXHJcbiAgICAgICAgICAgIChmb3JtRmlsdGVyOiB7IGtleTogc3RyaW5nOyBsYWJlbDogc3RyaW5nOyBzZWxlY3RlZDogQXJyYXk8c3RyaW5nPiB8IHVuZGVmaW5lZCB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBmaW5kIGNvcnJlc3BvbmRpbmcgZmlsdGVyIGZyb20gdGVtcGxhdGVcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gdGhpcy50YWJsZVRlbXBsYXRlLmZpbHRlcnM/LmZpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyID0+IGZpbHRlci5rZXkgPT09IGZvcm1GaWx0ZXIua2V5LFxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gY29tcGFyZSBlbmFibGVkIHN0YXRlIG9mIGN1cnJlbnQgZmlsdGVyIHdpdGggdGVtYXBsYXRlXHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgKG1hdGNoLnNlbGVjdGVkPy5pbmNsdWRlcyhmb3JtRmlsdGVyLmxhYmVsKSAmJiBmb3JtRmlsdGVyLnNlbGVjdGVkKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICghbWF0Y2guc2VsZWN0ZWQ/LmluY2x1ZGVzKGZvcm1GaWx0ZXIubGFiZWwpICYmICFmb3JtRmlsdGVyLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCI8bmctY29udGFpbmVyICpuZ0lmPVwidGFibGVUZW1wbGF0ZVwiPlxyXG4gICAgPGZvcm0gW2Zvcm1Hcm91cF09XCJ0YWJsZUZvcm1cIiBub3ZhbGlkYXRlPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkYXRhLXRhYmxlLW9wdGlvbnNcIj5cclxuICAgICAgICAgICAgPCEtLSBuciBvZiByZXN1bHRzIC0tPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0YS10YWJsZS1vcHRpb25zX25yLW9mLXJlc3VsdHNcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1saXZlPVwicG9saXRlXCJcclxuICAgICAgICAgICAgICAgICAgICBpMThuPVwiQEBBRFNVSUNvbXBvbmVudERhdGFUYWJsZU5yT2ZSZXN1bHRzXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICBEaXNwbGF5aW5nIHt7IGdldE51bWJlck9mUmVzdWx0c0Rpc3BsYXllZCgpIH19IG9mIHt7IHRhYmxlRGF0YSA/IHRhYmxlRGF0YS5sZW5ndGggOiAwIH19IHJlc3VsdHNcclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIiEhc29ydGluZy5jb2x1bW4/LnRpdGxlXCJcclxuICAgICAgICAgICAgICAgICAgICBpMThuPVwiQEBBRFNVSUNvbXBvbmVudERhdGFUYWJsZVJlc3VsdHNOck9mUmVzdWx0c1NvcnRlZEJ5TGFiZWxcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaGlkZS1vbi1tb2JpbGUgdGV4dC1zaXplLXNtYWxsIHRleHQtY29sb3ItZ3JleSBzb3J0LWluZm9cIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpPihzb3J0ZWQgYnkge3sgc29ydGluZy5jb2x1bW4/LnRpdGxlIH19IGluIHt7IHRyYW5zbGF0ZVNvcnRpbmdEaXJlY3Rpb24oc29ydGluZy5kaXJlY3Rpb24pIH19IG9yZGVyKTwvaT5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8IS0tIHNlYXJjaCAtLT5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJ0YWJsZVRlbXBsYXRlLmVuYWJsZVNlYXJjaFwiXHJcbiAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7ICdpcy1oaWRkZW4nOiBkaXNwbGF5U2VsZWN0ZWRPbmx5IH1cIlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJkYXRhLXRhYmxlLW9wdGlvbnNfc2VhcmNoXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yPVwidGFibGUtc2VhcmNoLWZpZWxkLXt7IGlkIH19XCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImFkcy1pbnB1dF9sYWJlbCBzY3JlZW4tcmVhZGVyLW9ubHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIGkxOG49XCJAQEFEU1VJQ29tcG9uZW50RGF0YVRhYmxlU2VhcmNoTGFiZWxcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIFNlYXJjaFxyXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYWRzLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICBpZD1cInRhYmxlLXNlYXJjaC1maWVsZC17eyBpZCB9fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiXCJcclxuICAgICAgICAgICAgICAgICAgICBpMThuLXBsYWNlaG9sZGVyPVwiQEBBRFNVSUNvbXBvbmVudERhdGFUYWJsZVNlYXJjaFBsYWNlaG9sZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaC4uLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2Zvcm1Db250cm9sTmFtZV09XCInc2VhcmNoJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlPVwib2ZmXCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8YWRzLWljb24gdHlwZT1cInNlYXJjaFwiIGNvbG9yPVwicHJpbWFyeVwiIHNpemU9XCJzbWFsbFwiPjwvYWRzLWljb24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8IS0tIGZpbHRlcnMgLS0+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICpuZ0lmPVwiZmlsdGVycy5jb250cm9scy5sZW5ndGggPiAwXCJcclxuICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsgJ2lzLWhpZGRlbic6IGRpc3BsYXlTZWxlY3RlZE9ubHkgfVwiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImRhdGEtdGFibGUtb3B0aW9uc19maWx0ZXJzIGhpZGUtb24tbW9iaWxlXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGFkcy1jb250ZXh0LW1lbnUgc2l6ZT1cInJlZ3VsYXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YWRzLWJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uPVwiYXZfY3VzdG9tX2ZpbHRlcl9jaXJjbGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkZpbHRlcnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpMThuLWxhYmVsPVwiQEBBRFNVSUNvbXBvbmVudERhdGFUYWJsZUZpbHRlck9wdGlvbnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2NvbG9yXT1cIiFmaWx0ZXJzQ2hhbmdlZCA/ICdwcmltYXJ5LWludmVydGVkJyA6ICdzZWNvbmRhcnktaW52ZXJ0ZWQnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInJlZ3VsYXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uUG9zaXRpb249XCJyaWdodFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbj1cInt7IGZpbHRlcnNDaGFuZ2VkID8gJyEnIDogJycgfX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRhYmxlLWZpbHRlci1idXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8L2Fkcy1idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPHVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJyZXNldC1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhZHMtYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPVwiYXZfY3VzdG9tX3JlZnJlc2hfY2lyY2xlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiUmVzZXQgZmlsdGVyc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpMThuLWxhYmVsPVwiQEBBRFNVSUNvbXBvbmVudERhdGFUYWJsZVJlc2V0RmlsdGVyc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwicHJpbWFyeS1pbnZlcnRlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblBvc2l0aW9uPVwicmlnaHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyZWd1bGFyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCIhZmlsdGVyc0NoYW5nZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImxvYWRGaWx0ZXJPcHRpb25zKGZhbHNlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Fkcy1idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWx0ZXIgb2YgZmlsdGVycy5jb250cm9scztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja0J5OiB0cmFja0J5SW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSBpbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpICpuZ0lmPVwiZmlsdGVyLnZhbHVlLmhlYWRlciAmJiBpID4gMVwiIGNsYXNzPVwibXQtMiBtYi0zXCI+PGhyIC8+PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiZmlsdGVyLnZhbHVlLmhlYWRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cImxpc3QtaXRlbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb250ZXh0LW1lbnVfaGVhZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57eyBmaWx0ZXIudmFsdWUubGFiZWwgfX06PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhZHMtYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiRGVzZWxlY3QgZmlsdGVyc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkxOG4tbGFiZWw9XCJAQEFEU1VJQ29tcG9uZW50RGF0YVRhYmxEZXNlbGVjdEZpbHRlcnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJnaG9zdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicmVndWxhclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJkZXNlbGVjdFNlY3Rpb24oZmlsdGVyLnZhbHVlLmxhYmVsKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYWRzLWJ1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIiFmaWx0ZXIudmFsdWUuaGVhZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwibGlzdC1pdGVtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTQgcHktMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUFycmF5TmFtZT1cImZpbHRlcnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgW2Zvcm1Hcm91cE5hbWVdPVwiaVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YWRzLWZvcm0tY2hlY2tib3hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiZmlsdGVyLW9wdGlvbi17eyBmaWx0ZXIudmFsdWUua2V5IH19LXt7IGkgfX0te3sgaWQgfX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN3aXRjaFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFBvc2l0aW9uPVwibGVmdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJ7eyBmaWx0ZXIudmFsdWUubGFiZWwgfHwgZW1wdHlWYWx1ZURlc2NyaXB0aW9uIH19XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtmb3JtQ29udHJvbE5hbWVdPVwiJ3NlbGVjdGVkJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZnVsbFdpZHRoXT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwiZmlsdGVyLnZhbHVlLnNlbGVjdGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Fkcy1mb3JtLWNoZWNrYm94PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgIDwvYWRzLWNvbnRleHQtbWVudT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9mb3JtPlxyXG4gICAgPHRhYmxlIGNsYXNzPVwiYWRzLXRhYmxlXCIgW25nQ2xhc3NdPVwieyAnZml4ZWQtbGF5b3V0JzogaGFzRml4ZWRMYXlvdXQgfVwiPlxyXG4gICAgICAgIDx0cj5cclxuICAgICAgICAgICAgPHRoICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgdGVtcGxhdGUuY29sdW1uczsgdHJhY2tCeTogdHJhY2tCeUluZGV4O1wiXHJcbiAgICAgICAgICAgICAgICBbY2xhc3NdPVwieydoaWRlLW9uLW1vYmlsZSc6IGNvbHVtbi5oaWRlT25Nb2JpbGV9XCJcclxuICAgICAgICAgICAgICAgIChjbGljayk9XCJjb2x1bW4uc29ydGFibGUgJiYgc29ydEJ5Q29sdW1uKGNvbHVtbilcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIHt7IGNvbHVtbi50aXRsZSB9fVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGFkcy1pY29uXHJcbiAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJjb2x1bW4uc29ydGFibGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJhdl9jdXN0b21fY2hldnJvbl9kb3duXCJcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcj1cImluZm9cIlxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJleHRyYS1zbWFsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgY3NzPVwibWwtMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2NsYXNzXT1cImdldFNvcnRDbGFzcyhjb2x1bW4pXCJcclxuICAgICAgICAgICAgICAgID48L2Fkcy1pY29uPlxyXG4gICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICA8dGggKm5nRm9yPVwibGV0IG9wdGlvbiBvZiB0YWJsZVRlbXBsYXRlLmFjdGlvbnM7IHRyYWNrQnk6IHRyYWNrQnlJbmRleFwiIFtjbGFzc109XCJ7J2hpZGUtb24tbW9iaWxlJzogb3B0aW9uLmhpZGVPbk1vYmlsZX1cIj48L3RoPlxyXG4gICAgICAgIDwvdHI+XHJcbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInRhYmxlRGF0YVNsaWNlXCI+XHJcbiAgICAgICAgICAgIDx0ciAqbmdGb3I9XCJsZXQgcm93IG9mIHRhYmxlRGF0YVNsaWNlOyB0cmFja0J5OiB0cmFja0J5SW5kZXg7IGxldCBpID0gaW5kZXg7XCI+XHJcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgdGVtcGxhdGUuY29sdW1uczsgdHJhY2tCeTogdHJhY2tCeUluZGV4O1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZCAqbmdJZj1cIlsnc3RyaW5nJywgJ251bWJlcicsICdkYXRlJywgJ2FycmF5J10uaW5jbHVkZXMoY29sdW1uLnR5cGUpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2NsYXNzXT1cInsnaGlkZS1vbi1tb2JpbGUnOiBjb2x1bW4uaGlkZU9uTW9iaWxlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7eyByb3dbY29sdW1uLmRhdGFLZXldIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPHRkICpuZ0lmPVwiY29sdW1uLnR5cGUgPT09ICdodG1sJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjbGFzc109XCJ7J2hpZGUtb24tbW9iaWxlJzogY29sdW1uLmhpZGVPbk1vYmlsZX1cIltpbm5lckhUTUxdPVwiZ2V0U2FuaXRpemVkSHRtbChyb3dbY29sdW1uLmRhdGFLZXldKVwiPjwvdGQ+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZCAqbmdJZj1cImNvbHVtbi50eXBlID09PSAnaW1hZ2UnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2NsYXNzXT1cInsnaGlkZS1vbi1tb2JpbGUnOiBjb2x1bW4uaGlkZU9uTW9iaWxlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nICpuZ0lmPVwicm93W2NvbHVtbi5kYXRhS2V5XVwiIFtzcmNdPVwicm93W2NvbHVtbi5kYXRhS2V5XVwiIFthbHRdPVwicm93W2NvbHVtbi5kYXRhS2V5XVwiLz5cclxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgKm5nSWY9XCJjb2x1bW4udHlwZSA9PT0gJ2ljb24nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJpY29uLWNlbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3NdPVwieydoaWRlLW9uLW1vYmlsZSc6IGNvbHVtbi5oaWRlT25Nb2JpbGV9IFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YWRzLWljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0eXBlXT1cInJvd1tjb2x1bW4uZGF0YUtleV1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJpbmZvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJyZWd1bGFyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzcz1cIm1sLTIgcHQtNFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID48L2Fkcy1pY29uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZCAqbmdJZj1cImNvbHVtbi50eXBlID09PSAnYm9vbGVhbidcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImljb24tY2VsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjbGFzc109XCJ7J2hpZGUtb24tbW9iaWxlJzogY29sdW1uLmhpZGVPbk1vYmlsZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGFkcy1pY29uICpuZ0lmPVwicm93W2NvbHVtbi5kYXRhS2V5XVwiIHR5cGU9XCJhdl9jdXN0b21fY2hlY2ttYXJrX2NpcmNsZVwiIGNvbG9yPVwic3VjY2Vzc1wiIGxhYmVsPVwiaWNvblwiPjwvYWRzLWljb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhZHMtaWNvbiAqbmdJZj1cIiFyb3dbY29sdW1uLmRhdGFLZXldXCIgdHlwZT1cImF2X2N1c3RvbV9jbG9zZV9jaXJjbGVcIiBjb2xvcj1cImVycm9yXCIgbGFiZWw9XCJpY29uXCI+PC9hZHMtaWNvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPHRkICpuZ0lmPVwiY29sdW1uLnR5cGUgPT09ICdlZGl0LWluLXBsYWNlJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjbGFzc109XCJ7J2hpZGUtb24tbW9iaWxlJzogY29sdW1uLmhpZGVPbk1vYmlsZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGFkcy1lZGl0LWluLXBsYWNlICh2YWx1ZUNoYW5nZSk9XCJlbWl0Um93VmFsdWVDaGFuZ2UoY29sdW1uLCByb3csICRldmVudClcIiBbdmFsdWVdPVwicm93W2NvbHVtbi5kYXRhS2V5XVwiIHBsYWNlaG9sZGVyPVwiZW1wdHlcIj48L2Fkcy1lZGl0LWluLXBsYWNlPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcblxyXG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIDx0ZCAqbmdGb3I9XCJsZXQgYWN0aW9uIG9mIHRhYmxlVGVtcGxhdGUuYWN0aW9uczsgdHJhY2tCeTogdHJhY2tCeUluZGV4O1wiIGNsYXNzPVwiaGFzLWJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2NsYXNzXT1cInsnaGlkZS1vbi1tb2JpbGUnOiBhY3Rpb24uaGlkZU9uTW9iaWxlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhZHMtYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiIWFjdGlvbi5zd2l0Y2hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cInt7YWN0aW9uLnRpdGxlfX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb249XCJnaG9zdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb249XCJ7e2FjdGlvbi5pY29ufX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbaWNvbk9ubHldPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCIhIWFjdGlvbi5pc0Rpc2FibGVkICYmIGFjdGlvbi5pc0Rpc2FibGVkKHJvdylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbaGlkZGVuXT1cIiEhYWN0aW9uLmlzVmlzaWJsZSAmJiAhYWN0aW9uLmlzVmlzaWJsZShyb3cpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIighYWN0aW9uLmlzRGlzYWJsZWQgfHwgIWFjdGlvbi5pc0Rpc2FibGVkKHJvdykpICYmIGVtaXRDbGljaygkZXZlbnQsIGFjdGlvbi5hY3Rpb24sIHJvdylcIlxyXG4gICAgICAgICAgICAgICAgICAgID48L2Fkcy1idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGFkcy1mb3JtLWNoZWNrYm94XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZGF0YS10YWJsZS1hY3Rpb24tdG9nZ2xlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJhY3Rpb24uc3dpdGNoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN3aXRjaFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsUG9zaXRpb249XCJyaWdodFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiYWN0aW9uLXN3aXRjaC17eyBpIH19XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2hpZGVMYWJlbF09XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwiISFhY3Rpb24uaXNDaGVja2VkICYmIGFjdGlvbi5pc0NoZWNrZWQocm93KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCIhIWFjdGlvbi5pc0Rpc2FibGVkICYmIGFjdGlvbi5pc0Rpc2FibGVkKHJvdylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiKCFhY3Rpb24uaXNEaXNhYmxlZCB8fCAhYWN0aW9uLmlzRGlzYWJsZWQocm93KSkgJiYgZW1pdENsaWNrKCRldmVudCwgYWN0aW9uLmFjdGlvbiwgcm93KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYWRzLWZvcm0tY2hlY2tib3g+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhdGFibGVEYXRhU2xpY2UgJiYgIWhhc0Vycm9yXCI+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgIDx0ZCBbY29sU3Bhbl09XCJ0YWJsZVRlbXBsYXRlLmNvbHVtbnMubGVuZ3RoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGFkcy1zcGlubmVyIGRpYW1ldGVyPVwiMTZcIj48L2Fkcy1zcGlubmVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1jb2xvci1kZWVwLWJsdWUgbWwtM1wiPnt7IGxvYWRpbmdMYWJlbCB9fTwvc3BhblxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJoYXNFcnJvclwiPlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICA8dGQgW2NvbFNwYW5dPVwidGFibGVUZW1wbGF0ZS5jb2x1bW5zLmxlbmd0aFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1jb2xvci1kZWVwLWJsdWVcIj57eyBlcnJvckxhYmVsIH19PC9zcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgIDwvdGFibGU+XHJcblxyXG4gICAgPGFkcy1wYWdpbmF0b3JcclxuICAgICAgICAqbmdJZj1cInRhYmxlVGVtcGxhdGUucGFnaW5hdGlvbiAmJiB0YWJsZURhdGFcIlxyXG4gICAgICAgIFtsZW5ndGhdPVwiIHRhYmxlRGF0YS5sZW5ndGhcIlxyXG4gICAgICAgIFtwYWdlU2l6ZV09XCJ0YWJsZVRlbXBsYXRlLnBhZ2luYXRpb24ucGFnZVNpemVcIlxyXG4gICAgICAgIFtzaG93UGFnZVNlbGVjdGlvbl09XCJ0YWJsZVRlbXBsYXRlLnBhZ2luYXRpb24uc2hvd1BhZ2VTZWxlY3Rpb24gfHwgZmFsc2VcIlxyXG4gICAgICAgIFtzaG93UGFnZVNpemVTZWxlY3Rpb25dPVwidGFibGVUZW1wbGF0ZS5wYWdpbmF0aW9uLnNob3dQYWdlU2l6ZVNlbGVjdGlvbiB8fCBmYWxzZVwiXHJcbiAgICAgICAgW3Bvc2l0aW9uXT1cInRhYmxlVGVtcGxhdGUucGFnaW5hdGlvbi5wb3NpdGlvbiB8fCAncmlnaHQnXCJcclxuICAgICAgICAocGFnZUNoYW5nZWQpPVwicGFnZUNoYW5nZWQoJGV2ZW50KVwiXHJcbiAgICA+PC9hZHMtcGFnaW5hdG9yPlxyXG48L25nLWNvbnRhaW5lcj5cclxuIl19