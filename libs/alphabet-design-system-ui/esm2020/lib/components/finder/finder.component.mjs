import { __decorate, __metadata } from "tslib";
/* eslint-disable functional/immutable-data */
/* eslint-disable no-null/no-null */
import { findObjectEntries, findObjectEntry, getObjectPath } from '../../utils';
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Inject, Input, Output, } from '@angular/core';
import { WINDOW } from '@ng-web-apis/common';
import { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';
import { fromEvent } from 'rxjs';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/forms";
import * as i3 from "@angular/cdk/drag-drop";
import * as i4 from "../button/button.component";
import * as i5 from "../form-checkbox/form-checkbox.component";
import * as i6 from "../icon/icon.component";
import * as i7 from "../tooltip/tooltip.component";
let ADSFinderComponent = class ADSFinderComponent {
    constructor(windowRef, cdr) {
        this.windowRef = windowRef;
        this.cdr = cdr;
        this.isMultiple = true;
        this.finderChangeEmitter = new EventEmitter();
        this.reOrderEmitter = new EventEmitter();
        this.search = '';
        this.nodePath = [];
        this.searchresults = [];
    }
    selectFirstNodeWhenNeeded(list) {
        if (list.length === 1) {
            this.selectNode(list[0]);
            this.cdr.detectChanges();
        }
    }
    clearSearchData() {
        this.nodePath = [];
        this.selectFirstNodeWhenNeeded(this.list);
    }
    ngOnInit() {
        this.selectFirstNodeWhenNeeded(this.list);
    }
    // ---
    levelUp() {
        this.scrollIntoViewHorizontal(this.nodePath[this.nodePath.length - 2]?.id ?? '0');
        this.nodePath.pop();
    }
    // ---
    searchNodes(value) {
        this.searchresults = [];
        if (value !== '') {
            const results = findObjectEntries(this.list, 'name', value);
            if (results.length > 0) {
                this.nodePath = getObjectPath(this.list, results[0].id);
                results.forEach((result) => getObjectPath(this.list, result['id']).forEach((path) => this.searchresults.push(path['id'])));
            }
            else {
                this.clearSearchData();
            }
        }
        else {
            this.clearSearchData();
        }
    }
    // ---
    searchNodeById(id) {
        this.searchresults = [];
        if (id !== '') {
            const results = findObjectEntries(this.list, 'id', id);
            if (results.length > 0) {
                this.nodePath = getObjectPath(this.list, results[0].id);
                results.forEach((result) => getObjectPath(this.list, result['id']).forEach((path) => this.searchresults.push(path['id'])));
            }
        }
    }
    // ---
    selectNode(node) {
        if (!this.nodeInPath(node.id.toString())) {
            this.nodePath = getObjectPath(this.list, node.id);
            if (node.children) {
                this.scrollIntoViewHorizontal(node.id);
                this.selectFirstNodeWhenNeeded(node.children);
            }
        }
        else {
            this.nodePath = getObjectPath(this.list, node.id);
            this.nodePath.pop();
        }
    }
    // ---
    toggleOption(node) {
        this.finderChangeEmitter.emit(node);
    }
    // ---
    nodeInPath(id) {
        return this.nodePath.find(item => item.id === id) ? true : false;
    }
    // ---
    scrollIntoViewHorizontal(id) {
        const element = document.getElementById(`finder-list-${id}`);
        if (element) {
            setTimeout(() => {
                element.scrollIntoView({
                    behavior: 'auto',
                    block: 'nearest',
                    inline: 'start',
                });
            }, 100);
        }
    }
    // ---
    trackByIndex(index) {
        return index;
    }
    // ---
    ngOnChanges(changes) {
        const { deselect, list, select } = changes;
        if (list) {
            this.list = list.currentValue;
            this.cdr.detectChanges();
        }
        if (deselect && deselect.currentValue) {
            const result = findObjectEntry(this.list, 'id', deselect.currentValue);
            if (result) {
                result.selected = false;
                this.toggleOption(result);
            }
        }
        if (select && select.currentValue) {
            this.searchNodeById(select.currentValue);
        }
    }
    // ---
    ngAfterViewInit() {
        fromEvent(this.windowRef, 'resize')
            .pipe(untilDestroyed(this))
            .subscribe(() => {
            if (this.nodePath[this.nodePath.length - 1]) {
                this.scrollIntoViewHorizontal(this.nodePath[this.nodePath.length - 1].id);
            }
        });
    }
    // Returns the number of direct children that can lead to an actual item, or 1 if it is an item itself
    getVisibleChildCount(node) {
        // if this node is the lowest level, return 1
        if (!node.children) {
            return 1;
        }
        return node.children?.reduce((accumulator, currentValue) => {
            return accumulator + (this.getVisibleChildCount(currentValue) ? 1 : 0);
        }, 0);
    }
};
ADSFinderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.6", ngImport: i0, type: ADSFinderComponent, deps: [{ token: WINDOW }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });
ADSFinderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.6", type: ADSFinderComponent, selector: "ads-finder", inputs: { css: "css", description: "description", deselect: "deselect", select: "select", list: "list", isMultiple: "isMultiple" }, outputs: { finderChangeEmitter: "finderChangeEmitter", reOrderEmitter: "reOrderEmitter" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"ads-finder_menu\">\r\n    <div class=\"ads-finder_menu-button\">\r\n        <ads-button\r\n            *ngIf=\"nodePath.length > 0\"\r\n            icon=\"av_custom_chevron_left\"\r\n            label=\"Back\"\r\n            i18n-label=\"@@UiComponentFinderButtonBack\"\r\n            size=\"extra-small\"\r\n            type=\"button\"\r\n            action=\"ghost\"\r\n            iconPosition=\"left\"\r\n            (click)=\"levelUp()\"\r\n        >\r\n        </ads-button>\r\n    </div>\r\n    <div class=\"ads-finder_menu-path\">\r\n        <p *ngIf=\"nodePath.length === 0\"\r\n           i18n=\"@@ADSUIComponentFinderSelectItem\">Select an item</p>\r\n        <p *ngIf=\"nodePath.length > 0\" class=\"display-mobile-only\">\r\n            {{ nodePath[nodePath.length - 1].name }}\r\n        </p>\r\n        <p class=\"hide-on-mobile\">\r\n            <span *ngFor=\"let item of nodePath; trackBy: trackByIndex; let i = index\">\r\n                {{ item.name }}\r\n                <i *ngIf=\"i !== nodePath.length - 1\">&gt;</i>\r\n            </span>\r\n        </p>\r\n    </div>\r\n    <div class=\"ads-finder_menu-search\">\r\n        <label\r\n            for=\"finder-search-field\"\r\n            class=\"ads-input_label screen-reader-only\"\r\n            i18n=\"@@UiComponentFinderSearchLabel\"\r\n        >\r\n            Search\r\n        </label>\r\n        <input\r\n            class=\"ads-input size-small\"\r\n            id=\"finder-search-field\"\r\n            type=\"text\"\r\n            value=\"\"\r\n            i18n-placeholder=\"@@UiComponentFinderSearchPlaceholder\"\r\n            placeholder=\"Search...\"\r\n            [(ngModel)]=\"search\"\r\n            (ngModelChange)=\"searchNodes($event)\"\r\n            autocomplete=\"off\"\r\n        />\r\n        <ads-icon type=\"search\" color=\"primary\" size=\"small\"></ads-icon>\r\n    </div>\r\n</div>\r\n<div #finder class=\"ads-finder {{ css }}\">\r\n    <ul id=\"finder-list-root\" *ngIf=\"list\">\r\n        <ng-template #finderList let-list let-sortable=\"sortable\">\r\n            <div\r\n                cdkDropList=\"sortable\"\r\n                [cdkDropListSortingDisabled]=\"!sortable\"\r\n                (cdkDropListDropped)=\"reOrderEmitter.emit($event)\"\r\n                class=\"ads-finder-column\"\r\n            >\r\n                <li *ngIf=\"list[0]?.columnName\" class=\"finder-list-root-column-name\">\r\n                    {{ list[0].columnName }}\r\n                </li>\r\n                <li *ngFor=\"let node of list; trackBy: trackByIndex\">\r\n                    <button\r\n                        cdkDrag\r\n                        [cdkDragDisabled]=\"!sortable\"\r\n                        cdkDragBoundary=\".ads-finder-column\"\r\n                        cdkDragLockAxis=\"y\"\r\n                        [cdkDragData]=\"node\"\r\n                        *ngIf=\"node?.children && getVisibleChildCount(node)\"\r\n                        type=\"button\"\r\n                        aria-haspopup=\"true\"\r\n                        [attr.class]=\"node.classname\"\r\n                        [ngClass]=\"{\r\n                            'is-selected': nodeInPath(node.id),\r\n                            'is-highlighted': searchresults.indexOf(node.id) > -1\r\n                        }\"\r\n                        (click)=\"selectNode(node)\"\r\n                    >\r\n                        <ads-icon\r\n                            *ngIf=\"sortable\"\r\n                            type=\"av_custom_reorder_four\"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            css=\"mr-2\"\r\n                        ></ads-icon>\r\n                        <ads-icon\r\n                            [type]=\"\r\n                                searchresults.indexOf(node.id) > -1\r\n                                    ? 'search'\r\n                                    : node.icon\r\n                                    ? node.icon\r\n                                    : 'folder'\r\n                            \"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            class=\"item-icon\"\r\n                        ></ads-icon>\r\n                        <span>{{ node.name }}</span>\r\n                        <pre>{{ getVisibleChildCount(node) }}</pre>\r\n                    </button>\r\n                    <button\r\n                        cdkDrag\r\n                        [cdkDragDisabled]=\"!sortable\"\r\n                        cdkDragBoundary=\".ads-finder-column\"\r\n                        cdkDragLockAxis=\"y\"\r\n                        [cdkDragData]=\"node\"\r\n                        *ngIf=\"!node?.children && !isMultiple\"\r\n                        type=\"button\"\r\n                        aria-haspopup=\"true\"\r\n                        [attr.class]=\"node.classname ? node.classname : null\"\r\n                        [ngClass]=\"{\r\n                            'is-selected': nodeInPath(node.id),\r\n                            'is-highlighted': searchresults.indexOf(node.id) > -1\r\n                        }\"\r\n                        (click)=\"toggleOption(node)\"\r\n                    >\r\n                        <ads-icon\r\n                            *ngIf=\"sortable\"\r\n                            type=\"av_custom_reorder_four\"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            css=\"mr-2\"\r\n                        ></ads-icon>\r\n                        <ads-icon\r\n                            [type]=\"\r\n                                searchresults.indexOf(node.id) > -1\r\n                                    ? 'search'\r\n                                    : node.icon\r\n                                    ? node.icon\r\n                                    : 'folder'\r\n                            \"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            class=\"item-icon\"\r\n                        ></ads-icon>\r\n                        <span>{{ node.name }}</span>\r\n                    </button>\r\n                    <div\r\n                        cdkDrag\r\n                        cdkDragBoundary=\".ads-finder\"\r\n                        cdkDragLockAxis=\"y\"\r\n                        [cdkDragData]=\"node\"\r\n                        [class.sortable-pointer]=\"sortable\"\r\n                        cdkDragBoundary=\".ads-finder-column\"\r\n                        *ngIf=\"!node?.children && isMultiple\"\r\n                        class=\"ads-finder_checkbox-wrapper\"\r\n                        [ngClass]=\"{\r\n                            'is-highlighted': searchresults.indexOf(node.id) > -1\r\n                        }\"\r\n                    >\r\n                        <ads-icon\r\n                            *ngIf=\"sortable\"\r\n                            type=\"av_custom_reorder_four\"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            css=\"mr-2\"\r\n                            class=\"ads-finder_checkbox_handler\"\r\n                        ></ads-icon>\r\n                        <ads-form-checkbox\r\n                            id=\"{{ node.id }}\"\r\n                            type=\"switch\"\r\n                            label=\"{{ node.name }}\"\r\n                            labelPosition=\"left\"\r\n                            size=\"small\"\r\n                            [icon]=\"\r\n                                searchresults.indexOf(node.id) > -1\r\n                                    ? 'search'\r\n                                    : node.icon\r\n                                    ? node.icon\r\n                                    : false\r\n                            \"\r\n                            [(ngModel)]=\"node.selected\"\r\n                            (ngModelChange)=\"toggleOption(node)\"\r\n                            [disabled]=\"node.disabled\"\r\n                            [checked]=\"node.selected\"\r\n                            [fullWidth]=\"false\"\r\n                            class=\"item-icon\"\r\n                        >\r\n                        </ads-form-checkbox>\r\n                        <ads-tooltip\r\n                            *ngIf=\"node.description\"\r\n                            [label]=\"node.description\"\r\n                            icon=\"information\"\r\n                            css=\"force-floating-element-left\"\r\n                            color=\"accent\"\r\n                            size=\"small\"\r\n                        >\r\n                        </ads-tooltip>\r\n                    </div>\r\n                    <div\r\n                        id=\"finder-list-{{ node.id }}\"\r\n                        *ngIf=\"node.children?.length\"\r\n                        class=\"ads-finder_ul-wrapper\"\r\n                    >\r\n                        <ul\r\n                            [attr.aria-hidden]=\"nodeInPath(node.id) ? 'false' : 'true'\"\r\n                            [attr.aria-expanded]=\"nodeInPath(node.id) ? 'true' : 'false'\"\r\n                            [attr.aria-label]=\"node.name + ' submenu'\"\r\n                        >\r\n                            <ng-container\r\n                                *ngTemplateOutlet=\"\r\n                                    finderList;\r\n                                    context: {\r\n                                        $implicit: node.children,\r\n                                        sortable: node.hasSortableChildren\r\n                                    }\r\n                                \"\r\n                            ></ng-container>\r\n                        </ul>\r\n                    </div>\r\n                </li>\r\n            </div>\r\n        </ng-template>\r\n        <ng-container *ngTemplateOutlet=\"finderList; context: { $implicit: list }\"></ng-container>\r\n    </ul>\r\n</div>\r\n", styles: [":root{--ads-color-white: #fff;--ads-color-white_foreground: #000;--ads-color-gray-6: #f0f0f0;--ads-color-gray-6_foreground: #000;--ads-color-gray-12: #e0e0e0;--ads-color-gray-12_foreground: #000;--ads-color-gray-20: #cccccc;--ads-color-gray-20_foreground: #000;--ads-color-gray-50: gray;--ads-color-gray-50_foreground: #fff;--ads-color-gray-70: #4d4d4d;--ads-color-gray-70_foreground: #fff;--ads-color-gray-85: #262626;--ads-color-gray-85_foreground: #fff;--ads-color-black: #000;--ads-color-black_foreground: #fff;--ads-color-error: #d21e36;--ads-color-error_hover: #a5182b;--ads-color-error-background: #fceaea;--ads-color-info: #1e236e;--ads-color-info-background: var(--ads-color-gray-6);--ads-color-success: #01964c;--ads-color-success_hover: #016332;--ads-color-success-background: #eaf6eb;--ads-color-warning: #ef7d00;--ads-color-warning-background: #fff7ef;--ads-color-notification: #ffd900;--ads-color-notification-background: #fffdf0;--ads-color-primary: #1e236e;--ads-color-primary-40: #a5a7c5;--ads-color-primary-65: #6e71a2;--ads-color-primary-foreground: #fff;--ads-color-primary_active: #0a0c26;--ads-color-primary_active-foreground: #fff;--ads-color-primary_focus: #0f1136;--ads-color-primary_focus-foreground: #fff;--ads-color-primary_hover: #131646;--ads-color-primary_hover-foreground: #fff;--ads-color-secondary: #00d7e7;--ads-color-secondary-40: #9aeff5;--ads-color-secondary-65: #5ae5ef;--ads-color-secondary-foreground: #fff;--ads-color-secondary_active: #00828b;--ads-color-secondary_active-foreground: #fff;--ads-color-secondary_focus: #0095a0;--ads-color-secondary_focus-foreground: #fff;--ads-color-secondary_hover: #00a8b4;--ads-color-secondary_hover-foreground: #fff;--ads-color-accent: #ff6d6a;--ads-color-accent-40: #ffc5c3;--ads-color-accent-65: #ffa19f;--ads-color-accent-foreground: #fff;--ads-color-accent_active: #ff5451;--ads-color-accent_active-foreground: #fff;--ads-color-accent_hover: #ff3b37;--ads-color-accent_hover-foreground: #fff;--ads-color-accent_focus: #ff221e;--ads-color-accent_focus-foreground: #fff;--ads-color-disabled: #e0e0e0;--ads-color-disabled-foreground: gray;--ads-color-app: #fff;--ads-color-app-text: #262626;--ads-color-app-navigation: #1e236e;--ads-color-app-navigation-divider: #6e71a2;--ads-color-app-navigation-menu-item-foreground: #fff;--ads-color-app-navigation-menu-item-background: #1e236e;--ads-color-app-navigation-menu-item-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-background_hover: #1e236e;--ads-color-app-navigation-menu-item-foreground_focus: #fff;--ads-color-app-navigation-menu-item-background_focus: #fff;--ads-color-app-navigation-menu-item-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-background_selected: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground: #fff;--ads-color-app-navigation-menu-item-icon-background: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_hover: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-menu-item-icon-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_selected: #1e236e;--ads-color-app-navigation-toolbar: #fff;--ads-color-app-navigation-toolbar-divider: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_selected: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_selected: #f0f0f0;--ads-color-solid-gradient-primary-to-accent: linear-gradient(90deg, #1e236e 0%, #ff6d6a 100%);--ads-color-solid-gradient-secondary-to-accent: linear-gradient(-170deg, rgba(0, 215, 231, 0) 60%, #00d7e7 125%), linear-gradient(170deg, #ff6d6a 60%, #ff6d6a 125%);--ads-color-solid-gradient-accent-to-secondary-to-primary: linear-gradient(90deg, #ff6d6a 0%, #00d7e7 50%, #1e236e 100%);--ads-color-solid-gradient-gray-to-primary: linear-gradient(90deg, #e0e0e0 0%, #a5a7c5 100%);--ads-color-image-gradient-primary-to-accent: linear-gradient(90deg, rgba(30, 35, 110, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-primary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(30, 35, 110, .7) 100%);--ads-color-image-gradient-secondary-to-accent: linear-gradient(90deg, rgba(0, 215, 231, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-secondary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(0, 215, 231, .7) 100%);--ads-color-image-gradient-mask: linear-gradient(to bottom, rgba(0,0,0,0) 48%, rgba(0,0,0,.5) 80%, rgba(0,0,0,1) 100%);--ads-color-image-gradient-darken-bottom: linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .1) 40%, rgba(0, 0, 0, .4) 100%);--ads-color-app-gradient-secondary-to-accent: linear-gradient(160deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .4) 90%), linear-gradient(220deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 60%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-large: linear-gradient(170deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .5) 90%), linear-gradient(210deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 70%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-foreground: #fff;--ads-color-app-gradient-primary-to-accent: linear-gradient(200deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .7) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 60%, rgba(30, 35, 110, .4) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-large: linear-gradient(190deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .6) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 70%, rgba(30, 35, 110, .5) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-foreground: #1e236e;--ads-color-app-gradient-primary-inverted: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 60%, rgba(255, 109, 106, .4) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 65%, rgba(0, 215, 231, .45) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-large: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 75%, rgba(255, 109, 106, .05) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 75%, rgba(0, 215, 231, .02) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-foreground: #1e236e;--ads-ring_active: 0 0 0 2px #fff, 0 0 0 5px #1e236e;--ads-ring_focus: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_hover: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_transparent: 0 0 0 2px transparent, 0 0 0 3px transparent;--ads-ring_focus-inset: inset 0 0 0 2px #fff, inset 0 0 0 3px #1e236e;--ads-ring_focus-inset-inverted: inset 0 0 0 2px #1e236e, inset 0 0 0 4px #fff;--ads-ring-focus-with-contextmenu: 0 0 0 1px #fff, 0 0 0 2px #555cd1, 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-0: 0 0 0 0 rgba(0, 0, 0, 0);--ads-shadow-depth-1: 0 .4px .4px rgba(0, 0, 0, .05), 0 1px 1px rgba(0, 0, 0, .036), 0 1.9px 1.9px rgba(0, 0, 0, .03), 0 3.4px 3.4px rgba(0, 0, 0, .025), 0 6.3px 6.3px rgba(0, 0, 0, .02), 0 15px 15px rgba(0, 0, 0, .014);--ads-shadow-depth-2: 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-3: 0 .7px .7px rgba(0, 0, 0, .017), 0 1.7px 1.7px rgba(0, 0, 0, .024), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .036), 0 10.4px 10.4px rgba(0, 0, 0, .043), 0 25px 25px rgba(0, 0, 0, .06);--ads-shadow-depth-4: 0 1px 1px rgba(0, 0, 0, .014), 0 2.3px 2.3px rgba(0, 0, 0, .02), 0 4.4px 4.4px rgba(0, 0, 0, .025), 0 7.8px 7.8px rgba(0, 0, 0, .03), 0 14.6px 14.6px rgba(0, 0, 0, .036), 0 35px 35px rgba(0, 0, 0, .05);--ads-shadow-depth-5: 0 1.2px 1.2px rgba(0, 0, 0, .014), 0 3px 3px rgba(0, 0, 0, .02), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.1px 10.1px rgba(0, 0, 0, .03), 0 18.8px 18.8px rgba(0, 0, 0, .036), 0 45px 45px rgba(0, 0, 0, .05);--ads-shadow-depth-6: 0 .9px .9px rgba(0, 0, 0, .011), 0 1.9px 1.9px rgba(0, 0, 0, .016), 0 3.2px 3.2px rgba(0, 0, 0, .019), 0 4.8px 4.8px rgba(0, 0, 0, .022), 0 6.9px 6.9px rgba(0, 0, 0, .025), 0 9.7px 9.7px rgba(0, 0, 0, .028), 0 13.8px 13.8px rgba(0, 0, 0, .031), 0 20.1px 20.1px rgba(0, 0, 0, .034), 0 30.9px 30.9px rgba(0, 0, 0, .039), 0 55px 55px rgba(0, 0, 0, .05)}:host{display:block;width:100%}.ads-finder_menu{display:flex;min-height:2.5rem;flex-direction:row;align-items:center;margin-bottom:.5rem}.ads-finder_menu .ads-finder_menu-button{flex:none}.ads-finder_menu .ads-finder_menu-path{flex:1 1 auto}.ads-finder_menu .ads-finder_menu-path p{margin:0 0 0 .25rem;color:#ff6d6a;font-family:Alphabet sans pro light,sans-serif;font-size:.875rem;font-style:normal;text-align:left}.ads-finder_menu .ads-finder_menu-path p i{display:inline-block;margin:0 .25rem;font-size:.875rem;font-style:normal}@media (max-width: 768px){.ads-finder_menu .ads-finder_menu-path p.hide-on-mobile{display:none}}.ads-finder_menu .ads-finder_menu-search{position:relative;display:none;width:auto;min-width:250px;flex:none;padding:0 0 0 .5rem}@media (min-width: 769px){.ads-finder_menu .ads-finder_menu-search{display:block}}.ads-finder_menu .ads-finder_menu-search input{position:relative;width:100%;padding-right:2.5rem}.ads-finder_menu .ads-finder_menu-search ads-icon{position:absolute;top:50%;right:.5rem;transform:translateY(-50%)}.ads-finder{position:relative;display:block;width:100%;height:75vh;min-height:30rem;overflow-x:auto;overflow-y:hidden;box-shadow:inset 0 0 0 1px #ccc}@media (min-width: 769px){.ads-finder{height:60vh}}.ads-finder ul{display:block;width:100%;height:75vh;min-height:30rem;max-height:100%;padding:0;border-right:1px solid #262626;list-style:none;margin-block-end:0;margin-block-start:0;margin-inline-end:0;margin-inline-start:0;opacity:1;outline:0;outline-offset:0;overflow-x:hidden;overflow-y:auto;padding-inline-start:0;transition:opacity .15s cubic-bezier(.55,.085,.68,.53);border:1px solid #262626}@media (min-width: 769px){.ads-finder ul{width:25rem;height:60vh}}.ads-finder ul[aria-hidden=true]{display:none;opacity:0;visibility:hidden}.ads-finder ul li{position:static;width:100%;border-bottom:1px solid #f0f0f0}.ads-finder ul li.finder-list-root-column-name{position:relative;display:flex;width:100%;align-items:center;padding:1rem 2.25rem 1rem 1rem;box-shadow:var(--ads-ring_transparent);color:#1e236e;font-family:Alphabet sans pro light,sans-serif;font-size:.875rem;font-weight:700}.ads-finder ul li ul{border-left:none}.ads-finder ul li .ads-finder_ul-wrapper{position:absolute;top:0;left:100%;width:100%}@media (min-width: 769px){.ads-finder ul li .ads-finder_ul-wrapper{left:25rem;width:25rem}}.ads-finder .ads-finder_checkbox-wrapper{display:flex;align-items:center;position:relative;width:100%;height:100%;padding-right:.5rem;padding-left:1rem;border:1px solid transparent}.ads-finder .ads-finder_checkbox-wrapper.is-highlighted{background-color:#00d7e7}.ads-finder .ads-finder_checkbox-wrapper.is-highlighted:before{position:absolute;top:50%;left:.75rem;content:\"\";transform:translateY(-50%);margin-right:.25rem}.ads-finder .ads-finder_checkbox-wrapper.is-highlighted .item-icon{border:1px solid #ff6d6a;background-color:#ff6d6a;border-radius:50%;width:1.25rem;height:1.25rem;display:flex;justify-content:center;align-items:center;margin-right:.25rem}.ads-finder .ads-finder_checkbox-wrapper ::ng-deep i.icon-search{transform:translateY(-.1rem);width:.75rem;height:.75rem}.ads-finder .ads-finder_checkbox-wrapper ::ng-deep .ads-icon svg path{fill:#fff}.ads-finder ads-form-checkbox{flex-grow:1;margin-right:.25rem}.ads-finder ads-tooltip{position:relative;top:-.125rem}button{position:relative;display:flex;width:100%;align-items:center;padding:1rem 2.25rem 1rem 1rem;border:none;-webkit-appearance:none;appearance:none;background-color:transparent;box-shadow:var(--ads-ring_transparent);color:#1e236e;cursor:pointer;font-family:Alphabet sans pro light,sans-serif;font-size:.875rem;font-style:normal;line-height:1;outline:0;outline-offset:0;text-align:left;transition:color .15s cubic-bezier(.55,.085,.68,.53),background-color .15s cubic-bezier(.55,.085,.68,.53)}button span{display:inline-block;max-width:90%;text-overflow:ellipsis}button pre{position:absolute;top:50%;right:1.5rem;display:inline-block;padding:.25rem;margin:0;color:#ff6d6a;font-size:.75rem;transform:translateY(-50%)}button.has-aggregations{color:#00d7e7;font-style:italic}button.has-aggregations ::ng-deep .ads-icon svg path{fill:#00d7e7}button:after{position:absolute;top:50%;right:1rem;width:0;height:0;border-width:4px 0 4px 5px;border-style:solid;border-color:transparent transparent transparent #ff6d6a;content:\"\";transform:translateY(-50%)}button:hover{background-color:#5ae5ef}button:focus{box-shadow:var(--ads-ring_focus-inset)}button.is-selected{background-color:#f0f0f0}button.is-highlighted{background-color:#00d7e7}button.is-highlighted:before{position:absolute;top:50%;left:.75rem;content:\"\";transform:translateY(-50%)}button.is-highlighted .item-icon{border:1px solid #ff6d6a;background-color:#ff6d6a;border-radius:50%;width:1.25rem;height:1.25rem;display:flex;justify-content:center;align-items:center}button.is-highlighted ::ng-deep i.icon-search{width:.75rem;height:.75rem}button.is-highlighted ::ng-deep .ads-icon svg path{fill:#fff}button.is-highlighted.is-selected{background-color:#00d7e7;box-shadow:var(--ads-ring_transparent);color:#1e236e}button.is-highlighted.is-selected pre{color:#1e236e}button.is-highlighted.is-selected:after{border-color:transparent transparent transparent #1e236e}::ng-deep .ads-form-checkbox+label{margin-top:1rem!important;margin-bottom:1rem!important;font-size:.875rem!important}.cdk-drag-preview{display:flex;align-items:center}.cdk-drag-preview pre{display:none}.cdk-drag-preview ads-form-checkbox{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-color:#f0f0f0;padding-top:1rem;border:solid 1px #262626}.cdk-drag-preview .ads-finder_checkbox_handler{position:absolute;padding-left:1rem}.sortable-pointer{cursor:pointer}.item-icon{margin-right:.25rem}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i3.CdkDropList, selector: "[cdkDropList], cdk-drop-list", inputs: ["cdkDropListConnectedTo", "cdkDropListData", "cdkDropListOrientation", "id", "cdkDropListLockAxis", "cdkDropListDisabled", "cdkDropListSortingDisabled", "cdkDropListEnterPredicate", "cdkDropListSortPredicate", "cdkDropListAutoScrollDisabled", "cdkDropListAutoScrollStep"], outputs: ["cdkDropListDropped", "cdkDropListEntered", "cdkDropListExited", "cdkDropListSorted"], exportAs: ["cdkDropList"] }, { kind: "directive", type: i3.CdkDrag, selector: "[cdkDrag]", inputs: ["cdkDragData", "cdkDragLockAxis", "cdkDragRootElement", "cdkDragBoundary", "cdkDragStartDelay", "cdkDragFreeDragPosition", "cdkDragDisabled", "cdkDragConstrainPosition", "cdkDragPreviewClass", "cdkDragPreviewContainer"], outputs: ["cdkDragStarted", "cdkDragReleased", "cdkDragEnded", "cdkDragEntered", "cdkDragExited", "cdkDragDropped", "cdkDragMoved"], exportAs: ["cdkDrag"] }, { kind: "component", type: i4.ADSButtonComponent, selector: "ads-button", inputs: ["color", "css", "disabled", "id", "icon", "iconOnly", "iconPosition", "label", "tooltip", "loading", "loadingLabel", "notification", "size", "tabindex", "type", "ariaControls", "ariaExpanded", "ariaLabelledBy"], outputs: ["clickEmitter"] }, { kind: "component", type: i5.ADSFormCheckboxComponent, selector: "ads-form-checkbox", inputs: ["css", "checked", "disabled", "id", "icon", "fullWidth", "hideLabel", "label", "labelPosition", "labelColor", "size", "type", "value"] }, { kind: "component", type: i6.ADSIconComponent, selector: "ads-icon", inputs: ["color", "css", "label", "size", "type"] }, { kind: "component", type: i7.ADSTooltipComponent, selector: "ads-tooltip", inputs: ["css", "color", "icon", "label", "size"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
ADSFinderComponent = __decorate([
    UntilDestroy(),
    __metadata("design:paramtypes", [Window,
        ChangeDetectorRef])
], ADSFinderComponent);
export { ADSFinderComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.6", ngImport: i0, type: ADSFinderComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ads-finder', changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"ads-finder_menu\">\r\n    <div class=\"ads-finder_menu-button\">\r\n        <ads-button\r\n            *ngIf=\"nodePath.length > 0\"\r\n            icon=\"av_custom_chevron_left\"\r\n            label=\"Back\"\r\n            i18n-label=\"@@UiComponentFinderButtonBack\"\r\n            size=\"extra-small\"\r\n            type=\"button\"\r\n            action=\"ghost\"\r\n            iconPosition=\"left\"\r\n            (click)=\"levelUp()\"\r\n        >\r\n        </ads-button>\r\n    </div>\r\n    <div class=\"ads-finder_menu-path\">\r\n        <p *ngIf=\"nodePath.length === 0\"\r\n           i18n=\"@@ADSUIComponentFinderSelectItem\">Select an item</p>\r\n        <p *ngIf=\"nodePath.length > 0\" class=\"display-mobile-only\">\r\n            {{ nodePath[nodePath.length - 1].name }}\r\n        </p>\r\n        <p class=\"hide-on-mobile\">\r\n            <span *ngFor=\"let item of nodePath; trackBy: trackByIndex; let i = index\">\r\n                {{ item.name }}\r\n                <i *ngIf=\"i !== nodePath.length - 1\">&gt;</i>\r\n            </span>\r\n        </p>\r\n    </div>\r\n    <div class=\"ads-finder_menu-search\">\r\n        <label\r\n            for=\"finder-search-field\"\r\n            class=\"ads-input_label screen-reader-only\"\r\n            i18n=\"@@UiComponentFinderSearchLabel\"\r\n        >\r\n            Search\r\n        </label>\r\n        <input\r\n            class=\"ads-input size-small\"\r\n            id=\"finder-search-field\"\r\n            type=\"text\"\r\n            value=\"\"\r\n            i18n-placeholder=\"@@UiComponentFinderSearchPlaceholder\"\r\n            placeholder=\"Search...\"\r\n            [(ngModel)]=\"search\"\r\n            (ngModelChange)=\"searchNodes($event)\"\r\n            autocomplete=\"off\"\r\n        />\r\n        <ads-icon type=\"search\" color=\"primary\" size=\"small\"></ads-icon>\r\n    </div>\r\n</div>\r\n<div #finder class=\"ads-finder {{ css }}\">\r\n    <ul id=\"finder-list-root\" *ngIf=\"list\">\r\n        <ng-template #finderList let-list let-sortable=\"sortable\">\r\n            <div\r\n                cdkDropList=\"sortable\"\r\n                [cdkDropListSortingDisabled]=\"!sortable\"\r\n                (cdkDropListDropped)=\"reOrderEmitter.emit($event)\"\r\n                class=\"ads-finder-column\"\r\n            >\r\n                <li *ngIf=\"list[0]?.columnName\" class=\"finder-list-root-column-name\">\r\n                    {{ list[0].columnName }}\r\n                </li>\r\n                <li *ngFor=\"let node of list; trackBy: trackByIndex\">\r\n                    <button\r\n                        cdkDrag\r\n                        [cdkDragDisabled]=\"!sortable\"\r\n                        cdkDragBoundary=\".ads-finder-column\"\r\n                        cdkDragLockAxis=\"y\"\r\n                        [cdkDragData]=\"node\"\r\n                        *ngIf=\"node?.children && getVisibleChildCount(node)\"\r\n                        type=\"button\"\r\n                        aria-haspopup=\"true\"\r\n                        [attr.class]=\"node.classname\"\r\n                        [ngClass]=\"{\r\n                            'is-selected': nodeInPath(node.id),\r\n                            'is-highlighted': searchresults.indexOf(node.id) > -1\r\n                        }\"\r\n                        (click)=\"selectNode(node)\"\r\n                    >\r\n                        <ads-icon\r\n                            *ngIf=\"sortable\"\r\n                            type=\"av_custom_reorder_four\"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            css=\"mr-2\"\r\n                        ></ads-icon>\r\n                        <ads-icon\r\n                            [type]=\"\r\n                                searchresults.indexOf(node.id) > -1\r\n                                    ? 'search'\r\n                                    : node.icon\r\n                                    ? node.icon\r\n                                    : 'folder'\r\n                            \"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            class=\"item-icon\"\r\n                        ></ads-icon>\r\n                        <span>{{ node.name }}</span>\r\n                        <pre>{{ getVisibleChildCount(node) }}</pre>\r\n                    </button>\r\n                    <button\r\n                        cdkDrag\r\n                        [cdkDragDisabled]=\"!sortable\"\r\n                        cdkDragBoundary=\".ads-finder-column\"\r\n                        cdkDragLockAxis=\"y\"\r\n                        [cdkDragData]=\"node\"\r\n                        *ngIf=\"!node?.children && !isMultiple\"\r\n                        type=\"button\"\r\n                        aria-haspopup=\"true\"\r\n                        [attr.class]=\"node.classname ? node.classname : null\"\r\n                        [ngClass]=\"{\r\n                            'is-selected': nodeInPath(node.id),\r\n                            'is-highlighted': searchresults.indexOf(node.id) > -1\r\n                        }\"\r\n                        (click)=\"toggleOption(node)\"\r\n                    >\r\n                        <ads-icon\r\n                            *ngIf=\"sortable\"\r\n                            type=\"av_custom_reorder_four\"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            css=\"mr-2\"\r\n                        ></ads-icon>\r\n                        <ads-icon\r\n                            [type]=\"\r\n                                searchresults.indexOf(node.id) > -1\r\n                                    ? 'search'\r\n                                    : node.icon\r\n                                    ? node.icon\r\n                                    : 'folder'\r\n                            \"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            class=\"item-icon\"\r\n                        ></ads-icon>\r\n                        <span>{{ node.name }}</span>\r\n                    </button>\r\n                    <div\r\n                        cdkDrag\r\n                        cdkDragBoundary=\".ads-finder\"\r\n                        cdkDragLockAxis=\"y\"\r\n                        [cdkDragData]=\"node\"\r\n                        [class.sortable-pointer]=\"sortable\"\r\n                        cdkDragBoundary=\".ads-finder-column\"\r\n                        *ngIf=\"!node?.children && isMultiple\"\r\n                        class=\"ads-finder_checkbox-wrapper\"\r\n                        [ngClass]=\"{\r\n                            'is-highlighted': searchresults.indexOf(node.id) > -1\r\n                        }\"\r\n                    >\r\n                        <ads-icon\r\n                            *ngIf=\"sortable\"\r\n                            type=\"av_custom_reorder_four\"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            css=\"mr-2\"\r\n                            class=\"ads-finder_checkbox_handler\"\r\n                        ></ads-icon>\r\n                        <ads-form-checkbox\r\n                            id=\"{{ node.id }}\"\r\n                            type=\"switch\"\r\n                            label=\"{{ node.name }}\"\r\n                            labelPosition=\"left\"\r\n                            size=\"small\"\r\n                            [icon]=\"\r\n                                searchresults.indexOf(node.id) > -1\r\n                                    ? 'search'\r\n                                    : node.icon\r\n                                    ? node.icon\r\n                                    : false\r\n                            \"\r\n                            [(ngModel)]=\"node.selected\"\r\n                            (ngModelChange)=\"toggleOption(node)\"\r\n                            [disabled]=\"node.disabled\"\r\n                            [checked]=\"node.selected\"\r\n                            [fullWidth]=\"false\"\r\n                            class=\"item-icon\"\r\n                        >\r\n                        </ads-form-checkbox>\r\n                        <ads-tooltip\r\n                            *ngIf=\"node.description\"\r\n                            [label]=\"node.description\"\r\n                            icon=\"information\"\r\n                            css=\"force-floating-element-left\"\r\n                            color=\"accent\"\r\n                            size=\"small\"\r\n                        >\r\n                        </ads-tooltip>\r\n                    </div>\r\n                    <div\r\n                        id=\"finder-list-{{ node.id }}\"\r\n                        *ngIf=\"node.children?.length\"\r\n                        class=\"ads-finder_ul-wrapper\"\r\n                    >\r\n                        <ul\r\n                            [attr.aria-hidden]=\"nodeInPath(node.id) ? 'false' : 'true'\"\r\n                            [attr.aria-expanded]=\"nodeInPath(node.id) ? 'true' : 'false'\"\r\n                            [attr.aria-label]=\"node.name + ' submenu'\"\r\n                        >\r\n                            <ng-container\r\n                                *ngTemplateOutlet=\"\r\n                                    finderList;\r\n                                    context: {\r\n                                        $implicit: node.children,\r\n                                        sortable: node.hasSortableChildren\r\n                                    }\r\n                                \"\r\n                            ></ng-container>\r\n                        </ul>\r\n                    </div>\r\n                </li>\r\n            </div>\r\n        </ng-template>\r\n        <ng-container *ngTemplateOutlet=\"finderList; context: { $implicit: list }\"></ng-container>\r\n    </ul>\r\n</div>\r\n", styles: [":root{--ads-color-white: #fff;--ads-color-white_foreground: #000;--ads-color-gray-6: #f0f0f0;--ads-color-gray-6_foreground: #000;--ads-color-gray-12: #e0e0e0;--ads-color-gray-12_foreground: #000;--ads-color-gray-20: #cccccc;--ads-color-gray-20_foreground: #000;--ads-color-gray-50: gray;--ads-color-gray-50_foreground: #fff;--ads-color-gray-70: #4d4d4d;--ads-color-gray-70_foreground: #fff;--ads-color-gray-85: #262626;--ads-color-gray-85_foreground: #fff;--ads-color-black: #000;--ads-color-black_foreground: #fff;--ads-color-error: #d21e36;--ads-color-error_hover: #a5182b;--ads-color-error-background: #fceaea;--ads-color-info: #1e236e;--ads-color-info-background: var(--ads-color-gray-6);--ads-color-success: #01964c;--ads-color-success_hover: #016332;--ads-color-success-background: #eaf6eb;--ads-color-warning: #ef7d00;--ads-color-warning-background: #fff7ef;--ads-color-notification: #ffd900;--ads-color-notification-background: #fffdf0;--ads-color-primary: #1e236e;--ads-color-primary-40: #a5a7c5;--ads-color-primary-65: #6e71a2;--ads-color-primary-foreground: #fff;--ads-color-primary_active: #0a0c26;--ads-color-primary_active-foreground: #fff;--ads-color-primary_focus: #0f1136;--ads-color-primary_focus-foreground: #fff;--ads-color-primary_hover: #131646;--ads-color-primary_hover-foreground: #fff;--ads-color-secondary: #00d7e7;--ads-color-secondary-40: #9aeff5;--ads-color-secondary-65: #5ae5ef;--ads-color-secondary-foreground: #fff;--ads-color-secondary_active: #00828b;--ads-color-secondary_active-foreground: #fff;--ads-color-secondary_focus: #0095a0;--ads-color-secondary_focus-foreground: #fff;--ads-color-secondary_hover: #00a8b4;--ads-color-secondary_hover-foreground: #fff;--ads-color-accent: #ff6d6a;--ads-color-accent-40: #ffc5c3;--ads-color-accent-65: #ffa19f;--ads-color-accent-foreground: #fff;--ads-color-accent_active: #ff5451;--ads-color-accent_active-foreground: #fff;--ads-color-accent_hover: #ff3b37;--ads-color-accent_hover-foreground: #fff;--ads-color-accent_focus: #ff221e;--ads-color-accent_focus-foreground: #fff;--ads-color-disabled: #e0e0e0;--ads-color-disabled-foreground: gray;--ads-color-app: #fff;--ads-color-app-text: #262626;--ads-color-app-navigation: #1e236e;--ads-color-app-navigation-divider: #6e71a2;--ads-color-app-navigation-menu-item-foreground: #fff;--ads-color-app-navigation-menu-item-background: #1e236e;--ads-color-app-navigation-menu-item-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-background_hover: #1e236e;--ads-color-app-navigation-menu-item-foreground_focus: #fff;--ads-color-app-navigation-menu-item-background_focus: #fff;--ads-color-app-navigation-menu-item-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-background_selected: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground: #fff;--ads-color-app-navigation-menu-item-icon-background: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_hover: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-menu-item-icon-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_selected: #1e236e;--ads-color-app-navigation-toolbar: #fff;--ads-color-app-navigation-toolbar-divider: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_selected: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_selected: #f0f0f0;--ads-color-solid-gradient-primary-to-accent: linear-gradient(90deg, #1e236e 0%, #ff6d6a 100%);--ads-color-solid-gradient-secondary-to-accent: linear-gradient(-170deg, rgba(0, 215, 231, 0) 60%, #00d7e7 125%), linear-gradient(170deg, #ff6d6a 60%, #ff6d6a 125%);--ads-color-solid-gradient-accent-to-secondary-to-primary: linear-gradient(90deg, #ff6d6a 0%, #00d7e7 50%, #1e236e 100%);--ads-color-solid-gradient-gray-to-primary: linear-gradient(90deg, #e0e0e0 0%, #a5a7c5 100%);--ads-color-image-gradient-primary-to-accent: linear-gradient(90deg, rgba(30, 35, 110, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-primary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(30, 35, 110, .7) 100%);--ads-color-image-gradient-secondary-to-accent: linear-gradient(90deg, rgba(0, 215, 231, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-secondary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(0, 215, 231, .7) 100%);--ads-color-image-gradient-mask: linear-gradient(to bottom, rgba(0,0,0,0) 48%, rgba(0,0,0,.5) 80%, rgba(0,0,0,1) 100%);--ads-color-image-gradient-darken-bottom: linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .1) 40%, rgba(0, 0, 0, .4) 100%);--ads-color-app-gradient-secondary-to-accent: linear-gradient(160deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .4) 90%), linear-gradient(220deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 60%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-large: linear-gradient(170deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .5) 90%), linear-gradient(210deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 70%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-foreground: #fff;--ads-color-app-gradient-primary-to-accent: linear-gradient(200deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .7) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 60%, rgba(30, 35, 110, .4) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-large: linear-gradient(190deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .6) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 70%, rgba(30, 35, 110, .5) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-foreground: #1e236e;--ads-color-app-gradient-primary-inverted: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 60%, rgba(255, 109, 106, .4) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 65%, rgba(0, 215, 231, .45) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-large: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 75%, rgba(255, 109, 106, .05) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 75%, rgba(0, 215, 231, .02) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-foreground: #1e236e;--ads-ring_active: 0 0 0 2px #fff, 0 0 0 5px #1e236e;--ads-ring_focus: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_hover: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_transparent: 0 0 0 2px transparent, 0 0 0 3px transparent;--ads-ring_focus-inset: inset 0 0 0 2px #fff, inset 0 0 0 3px #1e236e;--ads-ring_focus-inset-inverted: inset 0 0 0 2px #1e236e, inset 0 0 0 4px #fff;--ads-ring-focus-with-contextmenu: 0 0 0 1px #fff, 0 0 0 2px #555cd1, 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-0: 0 0 0 0 rgba(0, 0, 0, 0);--ads-shadow-depth-1: 0 .4px .4px rgba(0, 0, 0, .05), 0 1px 1px rgba(0, 0, 0, .036), 0 1.9px 1.9px rgba(0, 0, 0, .03), 0 3.4px 3.4px rgba(0, 0, 0, .025), 0 6.3px 6.3px rgba(0, 0, 0, .02), 0 15px 15px rgba(0, 0, 0, .014);--ads-shadow-depth-2: 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-3: 0 .7px .7px rgba(0, 0, 0, .017), 0 1.7px 1.7px rgba(0, 0, 0, .024), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .036), 0 10.4px 10.4px rgba(0, 0, 0, .043), 0 25px 25px rgba(0, 0, 0, .06);--ads-shadow-depth-4: 0 1px 1px rgba(0, 0, 0, .014), 0 2.3px 2.3px rgba(0, 0, 0, .02), 0 4.4px 4.4px rgba(0, 0, 0, .025), 0 7.8px 7.8px rgba(0, 0, 0, .03), 0 14.6px 14.6px rgba(0, 0, 0, .036), 0 35px 35px rgba(0, 0, 0, .05);--ads-shadow-depth-5: 0 1.2px 1.2px rgba(0, 0, 0, .014), 0 3px 3px rgba(0, 0, 0, .02), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.1px 10.1px rgba(0, 0, 0, .03), 0 18.8px 18.8px rgba(0, 0, 0, .036), 0 45px 45px rgba(0, 0, 0, .05);--ads-shadow-depth-6: 0 .9px .9px rgba(0, 0, 0, .011), 0 1.9px 1.9px rgba(0, 0, 0, .016), 0 3.2px 3.2px rgba(0, 0, 0, .019), 0 4.8px 4.8px rgba(0, 0, 0, .022), 0 6.9px 6.9px rgba(0, 0, 0, .025), 0 9.7px 9.7px rgba(0, 0, 0, .028), 0 13.8px 13.8px rgba(0, 0, 0, .031), 0 20.1px 20.1px rgba(0, 0, 0, .034), 0 30.9px 30.9px rgba(0, 0, 0, .039), 0 55px 55px rgba(0, 0, 0, .05)}:host{display:block;width:100%}.ads-finder_menu{display:flex;min-height:2.5rem;flex-direction:row;align-items:center;margin-bottom:.5rem}.ads-finder_menu .ads-finder_menu-button{flex:none}.ads-finder_menu .ads-finder_menu-path{flex:1 1 auto}.ads-finder_menu .ads-finder_menu-path p{margin:0 0 0 .25rem;color:#ff6d6a;font-family:Alphabet sans pro light,sans-serif;font-size:.875rem;font-style:normal;text-align:left}.ads-finder_menu .ads-finder_menu-path p i{display:inline-block;margin:0 .25rem;font-size:.875rem;font-style:normal}@media (max-width: 768px){.ads-finder_menu .ads-finder_menu-path p.hide-on-mobile{display:none}}.ads-finder_menu .ads-finder_menu-search{position:relative;display:none;width:auto;min-width:250px;flex:none;padding:0 0 0 .5rem}@media (min-width: 769px){.ads-finder_menu .ads-finder_menu-search{display:block}}.ads-finder_menu .ads-finder_menu-search input{position:relative;width:100%;padding-right:2.5rem}.ads-finder_menu .ads-finder_menu-search ads-icon{position:absolute;top:50%;right:.5rem;transform:translateY(-50%)}.ads-finder{position:relative;display:block;width:100%;height:75vh;min-height:30rem;overflow-x:auto;overflow-y:hidden;box-shadow:inset 0 0 0 1px #ccc}@media (min-width: 769px){.ads-finder{height:60vh}}.ads-finder ul{display:block;width:100%;height:75vh;min-height:30rem;max-height:100%;padding:0;border-right:1px solid #262626;list-style:none;margin-block-end:0;margin-block-start:0;margin-inline-end:0;margin-inline-start:0;opacity:1;outline:0;outline-offset:0;overflow-x:hidden;overflow-y:auto;padding-inline-start:0;transition:opacity .15s cubic-bezier(.55,.085,.68,.53);border:1px solid #262626}@media (min-width: 769px){.ads-finder ul{width:25rem;height:60vh}}.ads-finder ul[aria-hidden=true]{display:none;opacity:0;visibility:hidden}.ads-finder ul li{position:static;width:100%;border-bottom:1px solid #f0f0f0}.ads-finder ul li.finder-list-root-column-name{position:relative;display:flex;width:100%;align-items:center;padding:1rem 2.25rem 1rem 1rem;box-shadow:var(--ads-ring_transparent);color:#1e236e;font-family:Alphabet sans pro light,sans-serif;font-size:.875rem;font-weight:700}.ads-finder ul li ul{border-left:none}.ads-finder ul li .ads-finder_ul-wrapper{position:absolute;top:0;left:100%;width:100%}@media (min-width: 769px){.ads-finder ul li .ads-finder_ul-wrapper{left:25rem;width:25rem}}.ads-finder .ads-finder_checkbox-wrapper{display:flex;align-items:center;position:relative;width:100%;height:100%;padding-right:.5rem;padding-left:1rem;border:1px solid transparent}.ads-finder .ads-finder_checkbox-wrapper.is-highlighted{background-color:#00d7e7}.ads-finder .ads-finder_checkbox-wrapper.is-highlighted:before{position:absolute;top:50%;left:.75rem;content:\"\";transform:translateY(-50%);margin-right:.25rem}.ads-finder .ads-finder_checkbox-wrapper.is-highlighted .item-icon{border:1px solid #ff6d6a;background-color:#ff6d6a;border-radius:50%;width:1.25rem;height:1.25rem;display:flex;justify-content:center;align-items:center;margin-right:.25rem}.ads-finder .ads-finder_checkbox-wrapper ::ng-deep i.icon-search{transform:translateY(-.1rem);width:.75rem;height:.75rem}.ads-finder .ads-finder_checkbox-wrapper ::ng-deep .ads-icon svg path{fill:#fff}.ads-finder ads-form-checkbox{flex-grow:1;margin-right:.25rem}.ads-finder ads-tooltip{position:relative;top:-.125rem}button{position:relative;display:flex;width:100%;align-items:center;padding:1rem 2.25rem 1rem 1rem;border:none;-webkit-appearance:none;appearance:none;background-color:transparent;box-shadow:var(--ads-ring_transparent);color:#1e236e;cursor:pointer;font-family:Alphabet sans pro light,sans-serif;font-size:.875rem;font-style:normal;line-height:1;outline:0;outline-offset:0;text-align:left;transition:color .15s cubic-bezier(.55,.085,.68,.53),background-color .15s cubic-bezier(.55,.085,.68,.53)}button span{display:inline-block;max-width:90%;text-overflow:ellipsis}button pre{position:absolute;top:50%;right:1.5rem;display:inline-block;padding:.25rem;margin:0;color:#ff6d6a;font-size:.75rem;transform:translateY(-50%)}button.has-aggregations{color:#00d7e7;font-style:italic}button.has-aggregations ::ng-deep .ads-icon svg path{fill:#00d7e7}button:after{position:absolute;top:50%;right:1rem;width:0;height:0;border-width:4px 0 4px 5px;border-style:solid;border-color:transparent transparent transparent #ff6d6a;content:\"\";transform:translateY(-50%)}button:hover{background-color:#5ae5ef}button:focus{box-shadow:var(--ads-ring_focus-inset)}button.is-selected{background-color:#f0f0f0}button.is-highlighted{background-color:#00d7e7}button.is-highlighted:before{position:absolute;top:50%;left:.75rem;content:\"\";transform:translateY(-50%)}button.is-highlighted .item-icon{border:1px solid #ff6d6a;background-color:#ff6d6a;border-radius:50%;width:1.25rem;height:1.25rem;display:flex;justify-content:center;align-items:center}button.is-highlighted ::ng-deep i.icon-search{width:.75rem;height:.75rem}button.is-highlighted ::ng-deep .ads-icon svg path{fill:#fff}button.is-highlighted.is-selected{background-color:#00d7e7;box-shadow:var(--ads-ring_transparent);color:#1e236e}button.is-highlighted.is-selected pre{color:#1e236e}button.is-highlighted.is-selected:after{border-color:transparent transparent transparent #1e236e}::ng-deep .ads-form-checkbox+label{margin-top:1rem!important;margin-bottom:1rem!important;font-size:.875rem!important}.cdk-drag-preview{display:flex;align-items:center}.cdk-drag-preview pre{display:none}.cdk-drag-preview ads-form-checkbox{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-color:#f0f0f0;padding-top:1rem;border:solid 1px #262626}.cdk-drag-preview .ads-finder_checkbox_handler{position:absolute;padding-left:1rem}.sortable-pointer{cursor:pointer}.item-icon{margin-right:.25rem}\n"] }]
        }], ctorParameters: function () { return [{ type: Window, decorators: [{
                    type: Inject,
                    args: [WINDOW]
                }] }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { css: [{
                type: Input
            }], description: [{
                type: Input
            }], deselect: [{
                type: Input
            }], select: [{
                type: Input
            }], list: [{
                type: Input
            }], isMultiple: [{
                type: Input
            }], finderChangeEmitter: [{
                type: Output
            }], reOrderEmitter: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmluZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvYWxwaGFiZXQtZGVzaWduLXN5c3RlbS11aS9zcmMvbGliL2NvbXBvbmVudHMvZmluZGVyL2ZpbmRlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FscGhhYmV0LWRlc2lnbi1zeXN0ZW0tdWkvc3JjL2xpYi9jb21wb25lbnRzL2ZpbmRlci9maW5kZXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDhDQUE4QztBQUM5QyxvQ0FBb0M7QUFDcEMsT0FBTyxFQUFFLGlCQUFpQixFQUFFLGVBQWUsRUFBRSxhQUFhLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDaEYsT0FBTyxFQUVILHVCQUF1QixFQUN2QixpQkFBaUIsRUFDakIsU0FBUyxFQUNULFlBQVksRUFDWixNQUFNLEVBQ04sS0FBSyxFQUdMLE1BQU0sR0FFVCxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDN0MsT0FBTyxFQUFFLFlBQVksRUFBRSxjQUFjLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNyRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sTUFBTSxDQUFDOzs7Ozs7Ozs7QUFXMUIsSUFBTSxrQkFBa0IsR0FBeEIsTUFBTSxrQkFBa0I7SUFlM0IsWUFDcUMsU0FBaUIsRUFDakMsR0FBc0I7UUFETixjQUFTLEdBQVQsU0FBUyxDQUFRO1FBQ2pDLFFBQUcsR0FBSCxHQUFHLENBQW1CO1FBWGxDLGVBQVUsR0FBRyxJQUFJLENBQUM7UUFDUix3QkFBbUIsR0FBOEIsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNwRSxtQkFBYyxHQUM3QixJQUFJLFlBQVksRUFBRSxDQUFDO1FBRXZCLFdBQU0sR0FBRyxFQUFFLENBQUM7UUFDWixhQUFRLEdBQXdDLEVB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Q2EsbUJBQW1CO3NCQUFyQyxNQUFNO2dCQUNZLGNBQWM7c0JBQWhDLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBmdW5jdGlvbmFsL2ltbXV0YWJsZS1kYXRhICovXHJcbi8qIGVzbGludC1kaXNhYmxlIG5vLW51bGwvbm8tbnVsbCAqL1xyXG5pbXBvcnQgeyBmaW5kT2JqZWN0RW50cmllcywgZmluZE9iamVjdEVudHJ5LCBnZXRPYmplY3RQYXRoIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xyXG5pbXBvcnQge1xyXG4gICAgQWZ0ZXJWaWV3SW5pdCxcclxuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxyXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgICBDb21wb25lbnQsXHJcbiAgICBFdmVudEVtaXR0ZXIsXHJcbiAgICBJbmplY3QsXHJcbiAgICBJbnB1dCxcclxuICAgIE9uQ2hhbmdlcyxcclxuICAgIE9uSW5pdCxcclxuICAgIE91dHB1dCxcclxuICAgIFNpbXBsZUNoYW5nZXMsXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFdJTkRPVyB9IGZyb20gJ0BuZy13ZWItYXBpcy9jb21tb24nO1xyXG5pbXBvcnQgeyBVbnRpbERlc3Ryb3ksIHVudGlsRGVzdHJveWVkIH0gZnJvbSAnQG5nbmVhdC91bnRpbC1kZXN0cm95JztcclxuaW1wb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IElGaW5kZXJOb2RlIH0gZnJvbSAnLi4vLi4vdHlwZXMvaW50ZXJmYWNlcy9maW5kZXIuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgQ2RrRHJhZ0Ryb3AgfSBmcm9tICdAYW5ndWxhci9jZGsvZHJhZy1kcm9wJztcclxuXHJcbkBVbnRpbERlc3Ryb3koKVxyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnYWRzLWZpbmRlcicsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vZmluZGVyLmNvbXBvbmVudC5odG1sJyxcclxuICAgIHN0eWxlVXJsczogWycuL2ZpbmRlci5jb21wb25lbnQuc2NzcyddLFxyXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBBRFNGaW5kZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMsIEFmdGVyVmlld0luaXQsIE9uSW5pdCB7XHJcbiAgICBASW5wdXQoKSBjc3MhOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSBkZXNjcmlwdGlvbiE6IHN0cmluZztcclxuICAgIEBJbnB1dCgpIGRlc2VsZWN0ITogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgQElucHV0KCkgc2VsZWN0ITogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgQElucHV0KCkgbGlzdCE6IEFycmF5PElGaW5kZXJOb2RlPjtcclxuICAgIEBJbnB1dCgpIGlzTXVsdGlwbGUgPSB0cnVlO1xyXG4gICAgQE91dHB1dCgpIHJlYWRvbmx5IGZpbmRlckNoYW5nZUVtaXR0ZXI6IEV2ZW50RW1pdHRlcjxJRmluZGVyTm9kZT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICBAT3V0cHV0KCkgcmVhZG9ubHkgcmVPcmRlckVtaXR0ZXI6IEV2ZW50RW1pdHRlcjxDZGtEcmFnRHJvcDxBcnJheTxJRmluZGVyTm9kZT4+PiA9XHJcbiAgICAgICAgbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIHNlYXJjaCA9ICcnO1xyXG4gICAgbm9kZVBhdGg6IEFycmF5PHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH0+ID0gW107XHJcbiAgICBzZWFyY2hyZXN1bHRzOiBBcnJheTxzdHJpbmc+ID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgQEluamVjdChXSU5ET1cpIHByaXZhdGUgcmVhZG9ubHkgd2luZG93UmVmOiBXaW5kb3csXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBjZHI6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICAgKSB7fVxyXG5cclxuICAgIHByaXZhdGUgc2VsZWN0Rmlyc3ROb2RlV2hlbk5lZWRlZChsaXN0OiBBcnJheTxJRmluZGVyTm9kZT4pIHtcclxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3ROb2RlKGxpc3RbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xlYXJTZWFyY2hEYXRhKCkge1xyXG4gICAgICAgIHRoaXMubm9kZVBhdGggPSBbXTtcclxuICAgICAgICB0aGlzLnNlbGVjdEZpcnN0Tm9kZVdoZW5OZWVkZWQodGhpcy5saXN0KTtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNlbGVjdEZpcnN0Tm9kZVdoZW5OZWVkZWQodGhpcy5saXN0KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS1cclxuXHJcbiAgICBsZXZlbFVwKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsSW50b1ZpZXdIb3Jpem9udGFsKHRoaXMubm9kZVBhdGhbdGhpcy5ub2RlUGF0aC5sZW5ndGggLSAyXT8uaWQgPz8gJzAnKTtcclxuICAgICAgICB0aGlzLm5vZGVQYXRoLnBvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLVxyXG5cclxuICAgIHNlYXJjaE5vZGVzKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNlYXJjaHJlc3VsdHMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSAnJykge1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gZmluZE9iamVjdEVudHJpZXModGhpcy5saXN0LCAnbmFtZScsIHZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlUGF0aCA9IGdldE9iamVjdFBhdGgodGhpcy5saXN0LCByZXN1bHRzWzBdLmlkKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIGdldE9iamVjdFBhdGgodGhpcy5saXN0LCByZXN1bHRbJ2lkJ10pLmZvckVhY2goKHBhdGg6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNocmVzdWx0cy5wdXNoKHBhdGhbJ2lkJ10pLFxyXG4gICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclNlYXJjaERhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTZWFyY2hEYXRhKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLVxyXG5cclxuICAgIHNlYXJjaE5vZGVCeUlkKGlkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNlYXJjaHJlc3VsdHMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKGlkICE9PSAnJykge1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gZmluZE9iamVjdEVudHJpZXModGhpcy5saXN0LCAnaWQnLCBpZCk7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZVBhdGggPSBnZXRPYmplY3RQYXRoKHRoaXMubGlzdCwgcmVzdWx0c1swXS5pZCk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRzLmZvckVhY2goKHJlc3VsdDogUmVjb3JkPHN0cmluZywgc3RyaW5nPikgPT5cclxuICAgICAgICAgICAgICAgICAgICBnZXRPYmplY3RQYXRoKHRoaXMubGlzdCwgcmVzdWx0WydpZCddKS5mb3JFYWNoKChwYXRoOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaHJlc3VsdHMucHVzaChwYXRoWydpZCddKSxcclxuICAgICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS1cclxuXHJcbiAgICBzZWxlY3ROb2RlKG5vZGU6IElGaW5kZXJOb2RlKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm5vZGVJblBhdGgobm9kZS5pZC50b1N0cmluZygpKSkge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVQYXRoID0gZ2V0T2JqZWN0UGF0aCh0aGlzLmxpc3QsIG5vZGUuaWQpO1xyXG4gICAgICAgICAgICBpZiAobm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxJbnRvVmlld0hvcml6b250YWwobm9kZS5pZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEZpcnN0Tm9kZVdoZW5OZWVkZWQobm9kZS5jaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVQYXRoID0gZ2V0T2JqZWN0UGF0aCh0aGlzLmxpc3QsIG5vZGUuaWQpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVQYXRoLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS1cclxuXHJcbiAgICB0b2dnbGVPcHRpb24obm9kZTogSUZpbmRlck5vZGUpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmZpbmRlckNoYW5nZUVtaXR0ZXIuZW1pdChub2RlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS1cclxuXHJcbiAgICBub2RlSW5QYXRoKGlkOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlUGF0aC5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gaWQpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLVxyXG5cclxuICAgIHNjcm9sbEludG9WaWV3SG9yaXpvbnRhbChpZDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGZpbmRlci1saXN0LSR7aWR9YCk7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KHtcclxuICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrOiAnbmVhcmVzdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lOiAnc3RhcnQnLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLVxyXG5cclxuICAgIHRyYWNrQnlJbmRleChpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tXHJcblxyXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHsgZGVzZWxlY3QsIGxpc3QsIHNlbGVjdCB9ID0gY2hhbmdlcztcclxuICAgICAgICBpZiAobGlzdCkge1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QgPSBsaXN0LmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRlc2VsZWN0ICYmIGRlc2VsZWN0LmN1cnJlbnRWYWx1ZSkge1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IElGaW5kZXJOb2RlID0gZmluZE9iamVjdEVudHJ5KHRoaXMubGlzdCwgJ2lkJywgZGVzZWxlY3QuY3VycmVudFZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZU9wdGlvbihyZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2VsZWN0ICYmIHNlbGVjdC5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hOb2RlQnlJZChzZWxlY3QuY3VycmVudFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tXHJcblxyXG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xyXG4gICAgICAgIGZyb21FdmVudCh0aGlzLndpbmRvd1JlZiwgJ3Jlc2l6ZScpXHJcbiAgICAgICAgICAgIC5waXBlKHVudGlsRGVzdHJveWVkKHRoaXMpKVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGVQYXRoW3RoaXMubm9kZVBhdGgubGVuZ3RoIC0gMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbEludG9WaWV3SG9yaXpvbnRhbCh0aGlzLm5vZGVQYXRoW3RoaXMubm9kZVBhdGgubGVuZ3RoIC0gMV0uaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm5zIHRoZSBudW1iZXIgb2YgZGlyZWN0IGNoaWxkcmVuIHRoYXQgY2FuIGxlYWQgdG8gYW4gYWN0dWFsIGl0ZW0sIG9yIDEgaWYgaXQgaXMgYW4gaXRlbSBpdHNlbGZcclxuICAgIGdldFZpc2libGVDaGlsZENvdW50KG5vZGU6IElGaW5kZXJOb2RlKTogbnVtYmVyIHtcclxuICAgICAgICAvLyBpZiB0aGlzIG5vZGUgaXMgdGhlIGxvd2VzdCBsZXZlbCwgcmV0dXJuIDFcclxuICAgICAgICBpZiAoIW5vZGUuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbm9kZS5jaGlsZHJlbj8ucmVkdWNlKChhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBhY2N1bXVsYXRvciArICh0aGlzLmdldFZpc2libGVDaGlsZENvdW50KGN1cnJlbnRWYWx1ZSkgPyAxIDogMCk7XHJcbiAgICAgICAgfSwgMCk7XHJcbiAgICB9XHJcbn1cclxuIiwiPGRpdiBjbGFzcz1cImFkcy1maW5kZXJfbWVudVwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImFkcy1maW5kZXJfbWVudS1idXR0b25cIj5cclxuICAgICAgICA8YWRzLWJ1dHRvblxyXG4gICAgICAgICAgICAqbmdJZj1cIm5vZGVQYXRoLmxlbmd0aCA+IDBcIlxyXG4gICAgICAgICAgICBpY29uPVwiYXZfY3VzdG9tX2NoZXZyb25fbGVmdFwiXHJcbiAgICAgICAgICAgIGxhYmVsPVwiQmFja1wiXHJcbiAgICAgICAgICAgIGkxOG4tbGFiZWw9XCJAQFVpQ29tcG9uZW50RmluZGVyQnV0dG9uQmFja1wiXHJcbiAgICAgICAgICAgIHNpemU9XCJleHRyYS1zbWFsbFwiXHJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICBhY3Rpb249XCJnaG9zdFwiXHJcbiAgICAgICAgICAgIGljb25Qb3NpdGlvbj1cImxlZnRcIlxyXG4gICAgICAgICAgICAoY2xpY2spPVwibGV2ZWxVcCgpXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgPC9hZHMtYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiYWRzLWZpbmRlcl9tZW51LXBhdGhcIj5cclxuICAgICAgICA8cCAqbmdJZj1cIm5vZGVQYXRoLmxlbmd0aCA9PT0gMFwiXHJcbiAgICAgICAgICAgaTE4bj1cIkBAQURTVUlDb21wb25lbnRGaW5kZXJTZWxlY3RJdGVtXCI+U2VsZWN0IGFuIGl0ZW08L3A+XHJcbiAgICAgICAgPHAgKm5nSWY9XCJub2RlUGF0aC5sZW5ndGggPiAwXCIgY2xhc3M9XCJkaXNwbGF5LW1vYmlsZS1vbmx5XCI+XHJcbiAgICAgICAgICAgIHt7IG5vZGVQYXRoW25vZGVQYXRoLmxlbmd0aCAtIDFdLm5hbWUgfX1cclxuICAgICAgICA8L3A+XHJcbiAgICAgICAgPHAgY2xhc3M9XCJoaWRlLW9uLW1vYmlsZVwiPlxyXG4gICAgICAgICAgICA8c3BhbiAqbmdGb3I9XCJsZXQgaXRlbSBvZiBub2RlUGF0aDsgdHJhY2tCeTogdHJhY2tCeUluZGV4OyBsZXQgaSA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICB7eyBpdGVtLm5hbWUgfX1cclxuICAgICAgICAgICAgICAgIDxpICpuZ0lmPVwiaSAhPT0gbm9kZVBhdGgubGVuZ3RoIC0gMVwiPiZndDs8L2k+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8L3A+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJhZHMtZmluZGVyX21lbnUtc2VhcmNoXCI+XHJcbiAgICAgICAgPGxhYmVsXHJcbiAgICAgICAgICAgIGZvcj1cImZpbmRlci1zZWFyY2gtZmllbGRcIlxyXG4gICAgICAgICAgICBjbGFzcz1cImFkcy1pbnB1dF9sYWJlbCBzY3JlZW4tcmVhZGVyLW9ubHlcIlxyXG4gICAgICAgICAgICBpMThuPVwiQEBVaUNvbXBvbmVudEZpbmRlclNlYXJjaExhYmVsXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICAgIFNlYXJjaFxyXG4gICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgIGNsYXNzPVwiYWRzLWlucHV0IHNpemUtc21hbGxcIlxyXG4gICAgICAgICAgICBpZD1cImZpbmRlci1zZWFyY2gtZmllbGRcIlxyXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgIHZhbHVlPVwiXCJcclxuICAgICAgICAgICAgaTE4bi1wbGFjZWhvbGRlcj1cIkBAVWlDb21wb25lbnRGaW5kZXJTZWFyY2hQbGFjZWhvbGRlclwiXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoLi4uXCJcclxuICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJzZWFyY2hcIlxyXG4gICAgICAgICAgICAobmdNb2RlbENoYW5nZSk9XCJzZWFyY2hOb2RlcygkZXZlbnQpXCJcclxuICAgICAgICAgICAgYXV0b2NvbXBsZXRlPVwib2ZmXCJcclxuICAgICAgICAvPlxyXG4gICAgICAgIDxhZHMtaWNvbiB0eXBlPVwic2VhcmNoXCIgY29sb3I9XCJwcmltYXJ5XCIgc2l6ZT1cInNtYWxsXCI+PC9hZHMtaWNvbj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuPGRpdiAjZmluZGVyIGNsYXNzPVwiYWRzLWZpbmRlciB7eyBjc3MgfX1cIj5cclxuICAgIDx1bCBpZD1cImZpbmRlci1saXN0LXJvb3RcIiAqbmdJZj1cImxpc3RcIj5cclxuICAgICAgICA8bmctdGVtcGxhdGUgI2ZpbmRlckxpc3QgbGV0LWxpc3QgbGV0LXNvcnRhYmxlPVwic29ydGFibGVcIj5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2RrRHJvcExpc3Q9XCJzb3J0YWJsZVwiXHJcbiAgICAgICAgICAgICAgICBbY2RrRHJvcExpc3RTb3J0aW5nRGlzYWJsZWRdPVwiIXNvcnRhYmxlXCJcclxuICAgICAgICAgICAgICAgIChjZGtEcm9wTGlzdERyb3BwZWQpPVwicmVPcmRlckVtaXR0ZXIuZW1pdCgkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwiYWRzLWZpbmRlci1jb2x1bW5cIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8bGkgKm5nSWY9XCJsaXN0WzBdPy5jb2x1bW5OYW1lXCIgY2xhc3M9XCJmaW5kZXItbGlzdC1yb290LWNvbHVtbi1uYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3sgbGlzdFswXS5jb2x1bW5OYW1lIH19XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCBub2RlIG9mIGxpc3Q7IHRyYWNrQnk6IHRyYWNrQnlJbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2RrRHJhZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBbY2RrRHJhZ0Rpc2FibGVkXT1cIiFzb3J0YWJsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNka0RyYWdCb3VuZGFyeT1cIi5hZHMtZmluZGVyLWNvbHVtblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNka0RyYWdMb2NrQXhpcz1cInlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbY2RrRHJhZ0RhdGFdPVwibm9kZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwibm9kZT8uY2hpbGRyZW4gJiYgZ2V0VmlzaWJsZUNoaWxkQ291bnQobm9kZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5jbGFzc109XCJub2RlLmNsYXNzbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cIntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpcy1zZWxlY3RlZCc6IG5vZGVJblBhdGgobm9kZS5pZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXMtaGlnaGxpZ2h0ZWQnOiBzZWFyY2hyZXN1bHRzLmluZGV4T2Yobm9kZS5pZCkgPiAtMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdE5vZGUobm9kZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGFkcy1pY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cInNvcnRhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJhdl9jdXN0b21fcmVvcmRlcl9mb3VyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzPVwibXItMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID48L2Fkcy1pY29uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YWRzLWljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0eXBlXT1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaHJlc3VsdHMuaW5kZXhPZihub2RlLmlkKSA+IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3NlYXJjaCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBub2RlLmljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBub2RlLmljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnZm9sZGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJpdGVtLWljb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9hZHMtaWNvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3sgbm9kZS5uYW1lIH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cHJlPnt7IGdldFZpc2libGVDaGlsZENvdW50KG5vZGUpIH19PC9wcmU+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZGtEcmFnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjZGtEcmFnRGlzYWJsZWRdPVwiIXNvcnRhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2RrRHJhZ0JvdW5kYXJ5PVwiLmFkcy1maW5kZXItY29sdW1uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2RrRHJhZ0xvY2tBeGlzPVwieVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjZGtEcmFnRGF0YV09XCJub2RlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCIhbm9kZT8uY2hpbGRyZW4gJiYgIWlzTXVsdGlwbGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5jbGFzc109XCJub2RlLmNsYXNzbmFtZSA/IG5vZGUuY2xhc3NuYW1lIDogbnVsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cIntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpcy1zZWxlY3RlZCc6IG5vZGVJblBhdGgobm9kZS5pZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXMtaGlnaGxpZ2h0ZWQnOiBzZWFyY2hyZXN1bHRzLmluZGV4T2Yobm9kZS5pZCkgPiAtMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInRvZ2dsZU9wdGlvbihub2RlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YWRzLWljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwic29ydGFibGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImF2X2N1c3RvbV9yZW9yZGVyX2ZvdXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3M9XCJtci0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvYWRzLWljb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhZHMtaWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3R5cGVdPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNocmVzdWx0cy5pbmRleE9mKG5vZGUuaWQpID4gLTFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnc2VhcmNoJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5vZGUuaWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5vZGUuaWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdmb2xkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIml0ZW0taWNvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID48L2Fkcy1pY29uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57eyBub2RlLm5hbWUgfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZGtEcmFnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNka0RyYWdCb3VuZGFyeT1cIi5hZHMtZmluZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2RrRHJhZ0xvY2tBeGlzPVwieVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjZGtEcmFnRGF0YV09XCJub2RlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2NsYXNzLnNvcnRhYmxlLXBvaW50ZXJdPVwic29ydGFibGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZGtEcmFnQm91bmRhcnk9XCIuYWRzLWZpbmRlci1jb2x1bW5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIiFub2RlPy5jaGlsZHJlbiAmJiBpc011bHRpcGxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJhZHMtZmluZGVyX2NoZWNrYm94LXdyYXBwZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXMtaGlnaGxpZ2h0ZWQnOiBzZWFyY2hyZXN1bHRzLmluZGV4T2Yobm9kZS5pZCkgPiAtMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XCJcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhZHMtaWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJzb3J0YWJsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYXZfY3VzdG9tX3Jlb3JkZXJfZm91clwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzcz1cIm1yLTJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJhZHMtZmluZGVyX2NoZWNrYm94X2hhbmRsZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9hZHMtaWNvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGFkcy1mb3JtLWNoZWNrYm94XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInt7IG5vZGUuaWQgfX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN3aXRjaFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cInt7IG5vZGUubmFtZSB9fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFBvc2l0aW9uPVwibGVmdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2ljb25dPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNocmVzdWx0cy5pbmRleE9mKG5vZGUuaWQpID4gLTFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnc2VhcmNoJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5vZGUuaWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5vZGUuaWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJub2RlLnNlbGVjdGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChuZ01vZGVsQ2hhbmdlKT1cInRvZ2dsZU9wdGlvbihub2RlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwibm9kZS5kaXNhYmxlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2hlY2tlZF09XCJub2RlLnNlbGVjdGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtmdWxsV2lkdGhdPVwiZmFsc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJpdGVtLWljb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYWRzLWZvcm0tY2hlY2tib3g+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhZHMtdG9vbHRpcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJub2RlLmRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtsYWJlbF09XCJub2RlLmRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249XCJpbmZvcm1hdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3M9XCJmb3JjZS1mbG9hdGluZy1lbGVtZW50LWxlZnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJhY2NlbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Fkcy10b29sdGlwPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJmaW5kZXItbGlzdC17eyBub2RlLmlkIH19XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJub2RlLmNoaWxkcmVuPy5sZW5ndGhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImFkcy1maW5kZXJfdWwtd3JhcHBlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmFyaWEtaGlkZGVuXT1cIm5vZGVJblBhdGgobm9kZS5pZCkgPyAnZmFsc2UnIDogJ3RydWUnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmFyaWEtZXhwYW5kZWRdPVwibm9kZUluUGF0aChub2RlLmlkKSA/ICd0cnVlJyA6ICdmYWxzZSdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJub2RlLm5hbWUgKyAnIHN1Ym1lbnUnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ1RlbXBsYXRlT3V0bGV0PVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmRlckxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbXBsaWNpdDogbm9kZS5jaGlsZHJlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlOiBub2RlLmhhc1NvcnRhYmxlQ2hpbGRyZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJmaW5kZXJMaXN0OyBjb250ZXh0OiB7ICRpbXBsaWNpdDogbGlzdCB9XCI+PC9uZy1jb250YWluZXI+XHJcbiAgICA8L3VsPlxyXG48L2Rpdj5cclxuIl19