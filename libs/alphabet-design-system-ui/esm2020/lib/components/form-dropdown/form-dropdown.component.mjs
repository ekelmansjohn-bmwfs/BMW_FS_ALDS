var ADSFormDropdownComponent_1;
import { __decorate, __metadata } from "tslib";
/* eslint-disable brace-style */
import { DOCUMENT } from '@angular/common';
import { ChangeDetectionStrategy, Component, ElementRef, forwardRef, Inject, Input, ViewChild, } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { WINDOW } from '@ng-web-apis/common';
import { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';
import { fromEvent } from 'rxjs';
import { filter } from 'rxjs/operators';
import { CollisionDetectionService, randomId } from '../../utils';
import * as i0 from "@angular/core";
import * as i1 from "../../utils";
import * as i2 from "@angular/common";
import * as i3 from "../button/button.component";
let ADSFormDropdownComponent = ADSFormDropdownComponent_1 = class ADSFormDropdownComponent {
    constructor(windowRef, document, collisionDetection) {
        this.windowRef = windowRef;
        this.document = document;
        this.collisionDetection = collisionDetection;
        this.disabled = false;
        this.label = '';
        this.ariaLabelledBy = '';
        this.id = `al-form-dropdown-${randomId()}`;
        this.newValue = '';
        this.selectedOption = 0;
        this.expanded = false;
    }
    buttonClick() {
        this.expanded ? this.hide() : this.inputElement.focus();
    }
    show() {
        // eslint-disable-next-line functional/immutable-data
        this.expanded = true;
        this.inputElement.setSelectionRange(this.inputElement.value.length, this.inputElement.value.length);
        this.dropdown.nativeElement.classList.add('is-expanded');
        this.collisionDetection.detect(this.dropdown.nativeElement, this.optionsElement);
    }
    hide() {
        // eslint-disable-next-line functional/immutable-data
        this.expanded = false;
        // this.inputElement.setAttribute('aria-expanded', 'false');
        this.dropdown.nativeElement.classList.remove('is-expanded');
        if (this.value !== this.newValue) {
            // eslint-disable-next-line functional/immutable-data
            this.value = this.newValue;
            this.onChange(this.value);
        }
    }
    first() {
        this.deselectOption();
        // eslint-disable-next-line functional/immutable-data
        this.selectedOption = 0;
        this.selectOption();
    }
    last() {
        this.deselectOption();
        // eslint-disable-next-line functional/immutable-data
        this.selectedOption = this.optionsElementItems.length - 1;
        this.selectOption();
    }
    next() {
        this.deselectOption();
        // eslint-disable-next-line functional/immutable-data
        this.selectedOption =
            this.selectedOption + 1 > this.optionsElementItems.length - 1
                ? 0
                : this.selectedOption + 1;
        this.selectOption();
    }
    previous() {
        this.deselectOption();
        // eslint-disable-next-line functional/immutable-data
        this.selectedOption =
            this.selectedOption - 1 < 0
                ? this.optionsElementItems.length - 1
                : this.selectedOption - 1;
        this.selectOption();
    }
    current(item) {
        this.deselectOption();
        // eslint-disable-next-line functional/immutable-data
        this.selectedOption = this.optionsElementItems.indexOf(item);
        this.selectOption();
        this.hide();
    }
    initialOption() {
        if (this.optionsElementItems) {
            this.deselectOption();
            const selected = this.optionsElementItems.find(item => item.dataset['value'] === this.value);
            if (selected) {
                // eslint-disable-next-line functional/immutable-data
                this.selectedOption = this.optionsElementItems.indexOf(selected);
                this.selectOption();
            }
        }
    }
    deselectOption() {
        const item = this.optionsElementItems[this.selectedOption];
        item?.removeAttribute('aria-selected');
    }
    selectOption() {
        const item = this.optionsElementItems[this.selectedOption];
        if (!item?.id)
            return;
        item?.scrollIntoView({
            behavior: 'smooth',
            block: 'nearest',
            inline: 'start',
        });
        item?.setAttribute('aria-selected', 'true');
        this.inputElement.setAttribute('aria-activedescendant', item.id);
        this.inputElement.setAttribute('value', item.dataset['label'] ?? '');
        // eslint-disable-next-line functional/immutable-data
        this.newValue = item.dataset['value'] ?? '';
    }
    ngAfterContentChecked() {
        if (this.dropdown && this.optionsElement) {
            // eslint-disable-next-line functional/immutable-data
            this.optionsElementItems = Array.from(this.optionsElement.querySelectorAll('li:not([disabled])'));
            this.optionsElementItems.forEach((item, index) => {
                item.setAttribute('role', 'option');
                item.setAttribute('id', `${this.id}-option-${index}`);
            });
        }
    }
    ngAfterViewInit() {
        /* eslint-disable */
        this.buttonElement = this.dropdown.nativeElement.querySelector(`.ads-button`);
        this.inputElement = this.dropdown.nativeElement.querySelector(`#${this.id}`);
        this.optionsElement = this.dropdown.nativeElement.querySelector('ul');
        this.optionsElementItems = Array.from(this.optionsElement.querySelectorAll('li:not([disabled])'));
        /* eslint-enable */
        this.optionsElement.setAttribute('tabindex', '-1');
        this.optionsElement.setAttribute('id', `${this.id}-list`);
        this.optionsElement.setAttribute('role', 'listbox');
        this.optionsElementItems.forEach((item, index) => {
            item.setAttribute('role', 'option');
            item.setAttribute('id', `${this.id}-option-${index}`);
        });
        // eslint-disable-next-line no-null/no-null
        if (this.value !== null) {
            this.initialOption();
        }
        else {
            if (this.inputElement) {
                this.inputElement.setAttribute('value', '');
            }
        }
        fromEvent(this.inputElement, 'keydown')
            .pipe(untilDestroyed(this), filter(() => this.expanded))
            .subscribe((event) => {
            event.preventDefault();
            if (event.key === "ArrowDown" /* ADSKeyEvents.KEY_ARROW_DOWN */) {
                this.next();
            }
            if (event.key === "ArrowUp" /* ADSKeyEvents.KEY_ARROW_UP */) {
                this.previous();
            }
            if (event.key === "Home" /* ADSKeyEvents.KEY_HOME */) {
                this.first();
            }
            if (event.key === "End" /* ADSKeyEvents.KEY_END */) {
                event.preventDefault();
                this.last();
            }
            if (event.key === "Escape" /* ADSKeyEvents.KEY_ESCAPE */) {
                this.initialOption();
                this.hide();
                this.inputElement.blur();
                this.buttonElement.focus();
            }
            if (event.key === "Enter" /* ADSKeyEvents.KEY_ENTER */) {
                this.hide();
                this.inputElement.blur();
            }
            if (event.key === "Tab" /* ADSKeyEvents.KEY_TAB */) {
                this.hide();
                this.inputElement.blur();
                this.deselectOption();
                this.buttonElement.focus();
            }
        });
        fromEvent(this.optionsElement, 'click')
            .pipe(untilDestroyed(this), filter(() => this.expanded))
            .subscribe((event) => {
            const target = event.target;
            if (!target.hasAttribute('disabled')) {
                this.current(target);
                this.inputElement.blur();
            }
            else {
                this.inputElement.focus();
            }
        });
        fromEvent(this.document, 'click')
            .pipe(untilDestroyed(this), filter(() => this.expanded))
            .subscribe((event) => {
            const { target } = event;
            if (target instanceof HTMLElement &&
                !this.dropdown.nativeElement.contains(target)) {
                this.hide();
            }
        });
        fromEvent(this.windowRef, 'resize')
            .pipe(untilDestroyed(this), filter(() => this.expanded))
            .subscribe(() => this.collisionDetection.detect(this.dropdown.nativeElement, this.optionsElement));
    }
    /* eslint-disable @typescript-eslint/no-empty-function, @typescript-eslint/no-explicit-any, functional/immutable-data,
       @typescript-eslint/no-unused-vars */
    onChange(value) { }
    onTouched() { }
    writeValue(value) {
        // eslint-disable-next-line no-null/no-null
        if (value !== null && value !== undefined) {
            // eslint-disable-next-line no-null/no-null
            this.value = value === null ? value : value.toString();
            // eslint-disable-next-line no-null/no-null
            if (this.value !== null) {
                this.initialOption();
            }
            else {
                if (this.inputElement) {
                    this.inputElement.setAttribute('value', '');
                }
            }
        }
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
};
ADSFormDropdownComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.6", ngImport: i0, type: ADSFormDropdownComponent, deps: [{ token: WINDOW }, { token: DOCUMENT }, { token: i1.CollisionDetectionService }], target: i0.ɵɵFactoryTarget.Component });
ADSFormDropdownComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.6", type: ADSFormDropdownComponent, selector: "ads-form-dropdown", inputs: { css: "css", disabled: "disabled", hideLabel: "hideLabel", label: "label", ariaLabelledBy: "ariaLabelledBy" }, providers: [
        {
            provide: NG_VALUE_ACCESSOR,
            // eslint-disable-next-line @angular-eslint/no-forward-ref
            useExisting: forwardRef(() => ADSFormDropdownComponent_1),
            multi: true,
        },
    ], viewQueries: [{ propertyName: "dropdown", first: true, predicate: ["dropdown"], descendants: true }], ngImport: i0, template: "<!-- Dropdown -->\r\n<div\r\n    #dropdown\r\n    class=\"ads-form-dropdown {{ css }}\"\r\n    [ngClass]=\"{\r\n        'has-no-label': label === '' || hideLabel === true\r\n    }\"\r\n>\r\n    <label\r\n        *ngIf=\"label\"\r\n        for=\"{{ id }}\"\r\n        class=\"ads-input_label\"\r\n        [ngClass]=\"{\r\n            'label-is-hidden': hideLabel === true\r\n        }\"\r\n    >\r\n        {{ label }}\r\n    </label>\r\n    <input\r\n        id=\"{{ id }}\"\r\n        class=\"ads-input {{ css }}\"\r\n        type=\"text\"\r\n        (focus)=\"show()\"\r\n        value=\"\"\r\n        autocomplete=\"off\"\r\n        aria-haspopup=\"true\"\r\n        aria-readonly=\"true\"\r\n        [attr.disabled]=\"disabled ? true : null\"\r\n        attr.aria-owns=\"{{ id }}-list\"\r\n    />\r\n    <ads-button\r\n        icon=\"av_custom_chevron_down\"\r\n        id=\"{{ id }}-button\"\r\n        color=\"ghost\"\r\n        size=\"small\"\r\n        [label]=\"label\"\r\n        [ariaLabelledBy]=\"ariaLabelledBy\"\r\n        [iconOnly]=\"true\"\r\n        [disabled]=\"disabled\"\r\n        (click)=\"buttonClick()\"\r\n    >\r\n    </ads-button>\r\n    <ng-content></ng-content>\r\n</div>\r\n", styles: [":root{--ads-color-white: #fff;--ads-color-white_foreground: #000;--ads-color-gray-6: #f0f0f0;--ads-color-gray-6_foreground: #000;--ads-color-gray-12: #e0e0e0;--ads-color-gray-12_foreground: #000;--ads-color-gray-20: #cccccc;--ads-color-gray-20_foreground: #000;--ads-color-gray-50: gray;--ads-color-gray-50_foreground: #fff;--ads-color-gray-70: #4d4d4d;--ads-color-gray-70_foreground: #fff;--ads-color-gray-85: #262626;--ads-color-gray-85_foreground: #fff;--ads-color-black: #000;--ads-color-black_foreground: #fff;--ads-color-error: #d21e36;--ads-color-error_hover: #a5182b;--ads-color-error-background: #fceaea;--ads-color-info: #1e236e;--ads-color-info-background: var(--ads-color-gray-6);--ads-color-success: #01964c;--ads-color-success_hover: #016332;--ads-color-success-background: #eaf6eb;--ads-color-warning: #ef7d00;--ads-color-warning-background: #fff7ef;--ads-color-notification: #ffd900;--ads-color-notification-background: #fffdf0;--ads-color-primary: #1e236e;--ads-color-primary-40: #a5a7c5;--ads-color-primary-65: #6e71a2;--ads-color-primary-foreground: #fff;--ads-color-primary_active: #0a0c26;--ads-color-primary_active-foreground: #fff;--ads-color-primary_focus: #0f1136;--ads-color-primary_focus-foreground: #fff;--ads-color-primary_hover: #131646;--ads-color-primary_hover-foreground: #fff;--ads-color-secondary: #00d7e7;--ads-color-secondary-40: #9aeff5;--ads-color-secondary-65: #5ae5ef;--ads-color-secondary-foreground: #fff;--ads-color-secondary_active: #00828b;--ads-color-secondary_active-foreground: #fff;--ads-color-secondary_focus: #0095a0;--ads-color-secondary_focus-foreground: #fff;--ads-color-secondary_hover: #00a8b4;--ads-color-secondary_hover-foreground: #fff;--ads-color-accent: #ff6d6a;--ads-color-accent-40: #ffc5c3;--ads-color-accent-65: #ffa19f;--ads-color-accent-foreground: #fff;--ads-color-accent_active: #ff5451;--ads-color-accent_active-foreground: #fff;--ads-color-accent_hover: #ff3b37;--ads-color-accent_hover-foreground: #fff;--ads-color-accent_focus: #ff221e;--ads-color-accent_focus-foreground: #fff;--ads-color-disabled: #e0e0e0;--ads-color-disabled-foreground: gray;--ads-color-app: #fff;--ads-color-app-text: #262626;--ads-color-app-navigation: #1e236e;--ads-color-app-navigation-divider: #6e71a2;--ads-color-app-navigation-menu-item-foreground: #fff;--ads-color-app-navigation-menu-item-background: #1e236e;--ads-color-app-navigation-menu-item-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-background_hover: #1e236e;--ads-color-app-navigation-menu-item-foreground_focus: #fff;--ads-color-app-navigation-menu-item-background_focus: #fff;--ads-color-app-navigation-menu-item-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-background_selected: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground: #fff;--ads-color-app-navigation-menu-item-icon-background: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_hover: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-menu-item-icon-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_selected: #1e236e;--ads-color-app-navigation-toolbar: #fff;--ads-color-app-navigation-toolbar-divider: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_selected: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_selected: #f0f0f0;--ads-color-solid-gradient-primary-to-accent: linear-gradient(90deg, #1e236e 0%, #ff6d6a 100%);--ads-color-solid-gradient-secondary-to-accent: linear-gradient(-170deg, rgba(0, 215, 231, 0) 60%, #00d7e7 125%), linear-gradient(170deg, #ff6d6a 60%, #ff6d6a 125%);--ads-color-solid-gradient-accent-to-secondary-to-primary: linear-gradient(90deg, #ff6d6a 0%, #00d7e7 50%, #1e236e 100%);--ads-color-solid-gradient-gray-to-primary: linear-gradient(90deg, #e0e0e0 0%, #a5a7c5 100%);--ads-color-image-gradient-primary-to-accent: linear-gradient(90deg, rgba(30, 35, 110, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-primary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(30, 35, 110, .7) 100%);--ads-color-image-gradient-secondary-to-accent: linear-gradient(90deg, rgba(0, 215, 231, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-secondary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(0, 215, 231, .7) 100%);--ads-color-image-gradient-mask: linear-gradient(to bottom, rgba(0,0,0,0) 48%, rgba(0,0,0,.5) 80%, rgba(0,0,0,1) 100%);--ads-color-image-gradient-darken-bottom: linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .1) 40%, rgba(0, 0, 0, .4) 100%);--ads-color-app-gradient-secondary-to-accent: linear-gradient(160deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .4) 90%), linear-gradient(220deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 60%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-large: linear-gradient(170deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .5) 90%), linear-gradient(210deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 70%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-foreground: #fff;--ads-color-app-gradient-primary-to-accent: linear-gradient(200deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .7) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 60%, rgba(30, 35, 110, .4) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-large: linear-gradient(190deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .6) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 70%, rgba(30, 35, 110, .5) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-foreground: #1e236e;--ads-color-app-gradient-primary-inverted: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 60%, rgba(255, 109, 106, .4) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 65%, rgba(0, 215, 231, .45) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-large: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 75%, rgba(255, 109, 106, .05) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 75%, rgba(0, 215, 231, .02) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-foreground: #1e236e;--ads-ring_active: 0 0 0 2px #fff, 0 0 0 5px #1e236e;--ads-ring_focus: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_hover: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_transparent: 0 0 0 2px transparent, 0 0 0 3px transparent;--ads-ring_focus-inset: inset 0 0 0 2px #fff, inset 0 0 0 3px #1e236e;--ads-ring_focus-inset-inverted: inset 0 0 0 2px #1e236e, inset 0 0 0 4px #fff;--ads-ring-focus-with-contextmenu: 0 0 0 1px #fff, 0 0 0 2px #555cd1, 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-0: 0 0 0 0 rgba(0, 0, 0, 0);--ads-shadow-depth-1: 0 .4px .4px rgba(0, 0, 0, .05), 0 1px 1px rgba(0, 0, 0, .036), 0 1.9px 1.9px rgba(0, 0, 0, .03), 0 3.4px 3.4px rgba(0, 0, 0, .025), 0 6.3px 6.3px rgba(0, 0, 0, .02), 0 15px 15px rgba(0, 0, 0, .014);--ads-shadow-depth-2: 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-3: 0 .7px .7px rgba(0, 0, 0, .017), 0 1.7px 1.7px rgba(0, 0, 0, .024), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .036), 0 10.4px 10.4px rgba(0, 0, 0, .043), 0 25px 25px rgba(0, 0, 0, .06);--ads-shadow-depth-4: 0 1px 1px rgba(0, 0, 0, .014), 0 2.3px 2.3px rgba(0, 0, 0, .02), 0 4.4px 4.4px rgba(0, 0, 0, .025), 0 7.8px 7.8px rgba(0, 0, 0, .03), 0 14.6px 14.6px rgba(0, 0, 0, .036), 0 35px 35px rgba(0, 0, 0, .05);--ads-shadow-depth-5: 0 1.2px 1.2px rgba(0, 0, 0, .014), 0 3px 3px rgba(0, 0, 0, .02), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.1px 10.1px rgba(0, 0, 0, .03), 0 18.8px 18.8px rgba(0, 0, 0, .036), 0 45px 45px rgba(0, 0, 0, .05);--ads-shadow-depth-6: 0 .9px .9px rgba(0, 0, 0, .011), 0 1.9px 1.9px rgba(0, 0, 0, .016), 0 3.2px 3.2px rgba(0, 0, 0, .019), 0 4.8px 4.8px rgba(0, 0, 0, .022), 0 6.9px 6.9px rgba(0, 0, 0, .025), 0 9.7px 9.7px rgba(0, 0, 0, .028), 0 13.8px 13.8px rgba(0, 0, 0, .031), 0 20.1px 20.1px rgba(0, 0, 0, .034), 0 30.9px 30.9px rgba(0, 0, 0, .039), 0 55px 55px rgba(0, 0, 0, .05)}.ads-form-dropdown{position:relative;z-index:auto;display:inline-block;width:100%;padding:0;margin:0}.ads-form-dropdown ::ng-deep .ads-button{position:absolute;right:0;bottom:.25rem}.ads-form-dropdown ::ng-deep .ads-button .ads-icon svg{transform:scaleY(1);transition:transform .15s cubic-bezier(.455,.03,.515,.955)}.ads-form-dropdown .label-is-hidden{overflow:hidden;width:1px;height:1px;padding:0;border:none;border-width:0;margin:-1px;clip:rect(0,0,0,0);white-space:nowrap}.ads-form-dropdown.is-expanded ::ng-deep ul{z-index:25;display:block}.ads-form-dropdown.is-expanded ::ng-deep .ads-button .ads-icon svg{transform:scaleY(-1);transform-origin:center center}.ads-form-dropdown .ads-input{padding-right:2.5rem;caret-color:transparent;cursor:pointer}.ads-form-dropdown .ads-input:disabled{cursor:not-allowed}.ads-form-dropdown ::ng-deep ul{position:absolute;top:4.5rem;right:auto;bottom:auto;left:0;display:none;overflow:hidden;width:100%;min-width:15rem;max-height:20rem;border:1px solid var(--ads-color-gray-20);background-color:#fff;border-radius:.25rem;box-shadow:var(--ads-shadow-depth-3);outline:0;outline-offset:0;overflow-y:auto}.ads-form-dropdown ::ng-deep ul li{display:flex;width:100%;align-items:center;padding:.75rem 1rem;border-bottom:1px solid var(--ads-color-gray-20);color:var(--ads-color-app-text);font-family:Alphabet sans pro light,sans-serif;font-size:1rem;font-style:normal;font-weight:400;line-height:1;transition:background-color .1s cubic-bezier(.55,.085,.68,.53),color .1s cubic-bezier(.55,.085,.68,.53)}.ads-form-dropdown ::ng-deep ul li img{width:1.5rem;pointer-events:none}.ads-form-dropdown ::ng-deep ul li:last-of-type{border-bottom:none}.ads-form-dropdown ::ng-deep ul li:hover:not([disabled]):not([aria-selected=true]){background-color:var(--ads-color-gray-12);cursor:pointer}.ads-form-dropdown ::ng-deep ul li[aria-selected=true]{background-color:var(--ads-color-primary);color:var(--ads-color-white)}.ads-form-dropdown ::ng-deep ul li[aria-selected=true] ::ng-deep .ads-icon svg path{fill:var(--ads-color-primary)}.ads-form-dropdown ::ng-deep ul li[disabled]{cursor:not-allowed;opacity:.5}.ads-form-dropdown.has-no-label ::ng-deep ul{top:3rem}.ads-form-dropdown.place-floating-element-left ::ng-deep ul{right:0;left:auto}.ads-form-dropdown.place-floating-element-right ::ng-deep ul{right:auto;left:0}.ads-form-dropdown.place-floating-element-at-top ::ng-deep ul{top:auto;bottom:2.7rem}.ads-form-dropdown.place-floating-element-at-top.has-no-label ::ng-deep ul{bottom:2.7rem}.ads-form-dropdown.place-floating-element-at-bottom ::ng-deep ul{top:4.2rem;bottom:auto}.ads-form-dropdown.place-floating-element-at-bottom.has-no-label ::ng-deep ul{top:2.7rem}.ads-form-dropdown.is-language-selector{position:relative;width:1.25rem;height:1.75rem}.ads-form-dropdown.is-language-selector .ads-input{width:2rem;height:1.5rem;padding:0;border-width:0;font-size:0}.ads-form-dropdown.is-language-selector ads-button{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.ads-form-dropdown.is-language-selector ads-button ::ng-deep .ads-button{position:relative;right:auto;bottom:auto}.ads-form-dropdown.is-language-selector ads-button ::ng-deep .ads-button .ads-icon svg path{fill:var(--ads-color-white)}.ads-form-dropdown.is-language-selector ::ng-deep .language-selector_flag{position:absolute;top:50%;left:50%;display:block;overflow:hidden;width:1.25rem;height:1.25rem;border:none;margin:0;border-radius:50%;margin-block-end:0;margin-block-start:0;margin-inline-end:0;margin-inline-start:0;pointer-events:none;transform:translate(-50%,-54%)}.ads-form-dropdown.is-language-selector ::ng-deep .language-selector_flag img{position:absolute;top:52%;left:50%;height:2rem;transform:translate(-50%,-50%)}\n"], dependencies: [{ kind: "directive", type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i3.ADSButtonComponent, selector: "ads-button", inputs: ["color", "css", "disabled", "id", "icon", "iconOnly", "iconPosition", "label", "tooltip", "loading", "loadingLabel", "notification", "size", "tabindex", "type", "ariaControls", "ariaExpanded", "ariaLabelledBy"], outputs: ["clickEmitter"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
ADSFormDropdownComponent = ADSFormDropdownComponent_1 = __decorate([
    UntilDestroy(),
    __metadata("design:paramtypes", [Window,
        Document,
        CollisionDetectionService])
], ADSFormDropdownComponent);
export { ADSFormDropdownComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.6", ngImport: i0, type: ADSFormDropdownComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ads-form-dropdown', providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            // eslint-disable-next-line @angular-eslint/no-forward-ref
                            useExisting: forwardRef(() => ADSFormDropdownComponent),
                            multi: true,
                        },
                    ], changeDetection: ChangeDetectionStrategy.OnPush, template: "<!-- Dropdown -->\r\n<div\r\n    #dropdown\r\n    class=\"ads-form-dropdown {{ css }}\"\r\n    [ngClass]=\"{\r\n        'has-no-label': label === '' || hideLabel === true\r\n    }\"\r\n>\r\n    <label\r\n        *ngIf=\"label\"\r\n        for=\"{{ id }}\"\r\n        class=\"ads-input_label\"\r\n        [ngClass]=\"{\r\n            'label-is-hidden': hideLabel === true\r\n        }\"\r\n    >\r\n        {{ label }}\r\n    </label>\r\n    <input\r\n        id=\"{{ id }}\"\r\n        class=\"ads-input {{ css }}\"\r\n        type=\"text\"\r\n        (focus)=\"show()\"\r\n        value=\"\"\r\n        autocomplete=\"off\"\r\n        aria-haspopup=\"true\"\r\n        aria-readonly=\"true\"\r\n        [attr.disabled]=\"disabled ? true : null\"\r\n        attr.aria-owns=\"{{ id }}-list\"\r\n    />\r\n    <ads-button\r\n        icon=\"av_custom_chevron_down\"\r\n        id=\"{{ id }}-button\"\r\n        color=\"ghost\"\r\n        size=\"small\"\r\n        [label]=\"label\"\r\n        [ariaLabelledBy]=\"ariaLabelledBy\"\r\n        [iconOnly]=\"true\"\r\n        [disabled]=\"disabled\"\r\n        (click)=\"buttonClick()\"\r\n    >\r\n    </ads-button>\r\n    <ng-content></ng-content>\r\n</div>\r\n", styles: [":root{--ads-color-white: #fff;--ads-color-white_foreground: #000;--ads-color-gray-6: #f0f0f0;--ads-color-gray-6_foreground: #000;--ads-color-gray-12: #e0e0e0;--ads-color-gray-12_foreground: #000;--ads-color-gray-20: #cccccc;--ads-color-gray-20_foreground: #000;--ads-color-gray-50: gray;--ads-color-gray-50_foreground: #fff;--ads-color-gray-70: #4d4d4d;--ads-color-gray-70_foreground: #fff;--ads-color-gray-85: #262626;--ads-color-gray-85_foreground: #fff;--ads-color-black: #000;--ads-color-black_foreground: #fff;--ads-color-error: #d21e36;--ads-color-error_hover: #a5182b;--ads-color-error-background: #fceaea;--ads-color-info: #1e236e;--ads-color-info-background: var(--ads-color-gray-6);--ads-color-success: #01964c;--ads-color-success_hover: #016332;--ads-color-success-background: #eaf6eb;--ads-color-warning: #ef7d00;--ads-color-warning-background: #fff7ef;--ads-color-notification: #ffd900;--ads-color-notification-background: #fffdf0;--ads-color-primary: #1e236e;--ads-color-primary-40: #a5a7c5;--ads-color-primary-65: #6e71a2;--ads-color-primary-foreground: #fff;--ads-color-primary_active: #0a0c26;--ads-color-primary_active-foreground: #fff;--ads-color-primary_focus: #0f1136;--ads-color-primary_focus-foreground: #fff;--ads-color-primary_hover: #131646;--ads-color-primary_hover-foreground: #fff;--ads-color-secondary: #00d7e7;--ads-color-secondary-40: #9aeff5;--ads-color-secondary-65: #5ae5ef;--ads-color-secondary-foreground: #fff;--ads-color-secondary_active: #00828b;--ads-color-secondary_active-foreground: #fff;--ads-color-secondary_focus: #0095a0;--ads-color-secondary_focus-foreground: #fff;--ads-color-secondary_hover: #00a8b4;--ads-color-secondary_hover-foreground: #fff;--ads-color-accent: #ff6d6a;--ads-color-accent-40: #ffc5c3;--ads-color-accent-65: #ffa19f;--ads-color-accent-foreground: #fff;--ads-color-accent_active: #ff5451;--ads-color-accent_active-foreground: #fff;--ads-color-accent_hover: #ff3b37;--ads-color-accent_hover-foreground: #fff;--ads-color-accent_focus: #ff221e;--ads-color-accent_focus-foreground: #fff;--ads-color-disabled: #e0e0e0;--ads-color-disabled-foreground: gray;--ads-color-app: #fff;--ads-color-app-text: #262626;--ads-color-app-navigation: #1e236e;--ads-color-app-navigation-divider: #6e71a2;--ads-color-app-navigation-menu-item-foreground: #fff;--ads-color-app-navigation-menu-item-background: #1e236e;--ads-color-app-navigation-menu-item-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-background_hover: #1e236e;--ads-color-app-navigation-menu-item-foreground_focus: #fff;--ads-color-app-navigation-menu-item-background_focus: #fff;--ads-color-app-navigation-menu-item-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-background_selected: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground: #fff;--ads-color-app-navigation-menu-item-icon-background: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_hover: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-menu-item-icon-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_selected: #1e236e;--ads-color-app-navigation-toolbar: #fff;--ads-color-app-navigation-toolbar-divider: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_selected: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_selected: #f0f0f0;--ads-color-solid-gradient-primary-to-accent: linear-gradient(90deg, #1e236e 0%, #ff6d6a 100%);--ads-color-solid-gradient-secondary-to-accent: linear-gradient(-170deg, rgba(0, 215, 231, 0) 60%, #00d7e7 125%), linear-gradient(170deg, #ff6d6a 60%, #ff6d6a 125%);--ads-color-solid-gradient-accent-to-secondary-to-primary: linear-gradient(90deg, #ff6d6a 0%, #00d7e7 50%, #1e236e 100%);--ads-color-solid-gradient-gray-to-primary: linear-gradient(90deg, #e0e0e0 0%, #a5a7c5 100%);--ads-color-image-gradient-primary-to-accent: linear-gradient(90deg, rgba(30, 35, 110, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-primary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(30, 35, 110, .7) 100%);--ads-color-image-gradient-secondary-to-accent: linear-gradient(90deg, rgba(0, 215, 231, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-secondary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(0, 215, 231, .7) 100%);--ads-color-image-gradient-mask: linear-gradient(to bottom, rgba(0,0,0,0) 48%, rgba(0,0,0,.5) 80%, rgba(0,0,0,1) 100%);--ads-color-image-gradient-darken-bottom: linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .1) 40%, rgba(0, 0, 0, .4) 100%);--ads-color-app-gradient-secondary-to-accent: linear-gradient(160deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .4) 90%), linear-gradient(220deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 60%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-large: linear-gradient(170deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .5) 90%), linear-gradient(210deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 70%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-foreground: #fff;--ads-color-app-gradient-primary-to-accent: linear-gradient(200deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .7) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 60%, rgba(30, 35, 110, .4) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-large: linear-gradient(190deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .6) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 70%, rgba(30, 35, 110, .5) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-foreground: #1e236e;--ads-color-app-gradient-primary-inverted: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 60%, rgba(255, 109, 106, .4) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 65%, rgba(0, 215, 231, .45) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-large: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 75%, rgba(255, 109, 106, .05) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 75%, rgba(0, 215, 231, .02) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-foreground: #1e236e;--ads-ring_active: 0 0 0 2px #fff, 0 0 0 5px #1e236e;--ads-ring_focus: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_hover: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_transparent: 0 0 0 2px transparent, 0 0 0 3px transparent;--ads-ring_focus-inset: inset 0 0 0 2px #fff, inset 0 0 0 3px #1e236e;--ads-ring_focus-inset-inverted: inset 0 0 0 2px #1e236e, inset 0 0 0 4px #fff;--ads-ring-focus-with-contextmenu: 0 0 0 1px #fff, 0 0 0 2px #555cd1, 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-0: 0 0 0 0 rgba(0, 0, 0, 0);--ads-shadow-depth-1: 0 .4px .4px rgba(0, 0, 0, .05), 0 1px 1px rgba(0, 0, 0, .036), 0 1.9px 1.9px rgba(0, 0, 0, .03), 0 3.4px 3.4px rgba(0, 0, 0, .025), 0 6.3px 6.3px rgba(0, 0, 0, .02), 0 15px 15px rgba(0, 0, 0, .014);--ads-shadow-depth-2: 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-3: 0 .7px .7px rgba(0, 0, 0, .017), 0 1.7px 1.7px rgba(0, 0, 0, .024), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .036), 0 10.4px 10.4px rgba(0, 0, 0, .043), 0 25px 25px rgba(0, 0, 0, .06);--ads-shadow-depth-4: 0 1px 1px rgba(0, 0, 0, .014), 0 2.3px 2.3px rgba(0, 0, 0, .02), 0 4.4px 4.4px rgba(0, 0, 0, .025), 0 7.8px 7.8px rgba(0, 0, 0, .03), 0 14.6px 14.6px rgba(0, 0, 0, .036), 0 35px 35px rgba(0, 0, 0, .05);--ads-shadow-depth-5: 0 1.2px 1.2px rgba(0, 0, 0, .014), 0 3px 3px rgba(0, 0, 0, .02), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.1px 10.1px rgba(0, 0, 0, .03), 0 18.8px 18.8px rgba(0, 0, 0, .036), 0 45px 45px rgba(0, 0, 0, .05);--ads-shadow-depth-6: 0 .9px .9px rgba(0, 0, 0, .011), 0 1.9px 1.9px rgba(0, 0, 0, .016), 0 3.2px 3.2px rgba(0, 0, 0, .019), 0 4.8px 4.8px rgba(0, 0, 0, .022), 0 6.9px 6.9px rgba(0, 0, 0, .025), 0 9.7px 9.7px rgba(0, 0, 0, .028), 0 13.8px 13.8px rgba(0, 0, 0, .031), 0 20.1px 20.1px rgba(0, 0, 0, .034), 0 30.9px 30.9px rgba(0, 0, 0, .039), 0 55px 55px rgba(0, 0, 0, .05)}.ads-form-dropdown{position:relative;z-index:auto;display:inline-block;width:100%;padding:0;margin:0}.ads-form-dropdown ::ng-deep .ads-button{position:absolute;right:0;bottom:.25rem}.ads-form-dropdown ::ng-deep .ads-button .ads-icon svg{transform:scaleY(1);transition:transform .15s cubic-bezier(.455,.03,.515,.955)}.ads-form-dropdown .label-is-hidden{overflow:hidden;width:1px;height:1px;padding:0;border:none;border-width:0;margin:-1px;clip:rect(0,0,0,0);white-space:nowrap}.ads-form-dropdown.is-expanded ::ng-deep ul{z-index:25;display:block}.ads-form-dropdown.is-expanded ::ng-deep .ads-button .ads-icon svg{transform:scaleY(-1);transform-origin:center center}.ads-form-dropdown .ads-input{padding-right:2.5rem;caret-color:transparent;cursor:pointer}.ads-form-dropdown .ads-input:disabled{cursor:not-allowed}.ads-form-dropdown ::ng-deep ul{position:absolute;top:4.5rem;right:auto;bottom:auto;left:0;display:none;overflow:hidden;width:100%;min-width:15rem;max-height:20rem;border:1px solid var(--ads-color-gray-20);background-color:#fff;border-radius:.25rem;box-shadow:var(--ads-shadow-depth-3);outline:0;outline-offset:0;overflow-y:auto}.ads-form-dropdown ::ng-deep ul li{display:flex;width:100%;align-items:center;padding:.75rem 1rem;border-bottom:1px solid var(--ads-color-gray-20);color:var(--ads-color-app-text);font-family:Alphabet sans pro light,sans-serif;font-size:1rem;font-style:normal;font-weight:400;line-height:1;transition:background-color .1s cubic-bezier(.55,.085,.68,.53),color .1s cubic-bezier(.55,.085,.68,.53)}.ads-form-dropdown ::ng-deep ul li img{width:1.5rem;pointer-events:none}.ads-form-dropdown ::ng-deep ul li:last-of-type{border-bottom:none}.ads-form-dropdown ::ng-deep ul li:hover:not([disabled]):not([aria-selected=true]){background-color:var(--ads-color-gray-12);cursor:pointer}.ads-form-dropdown ::ng-deep ul li[aria-selected=true]{background-color:var(--ads-color-primary);color:var(--ads-color-white)}.ads-form-dropdown ::ng-deep ul li[aria-selected=true] ::ng-deep .ads-icon svg path{fill:var(--ads-color-primary)}.ads-form-dropdown ::ng-deep ul li[disabled]{cursor:not-allowed;opacity:.5}.ads-form-dropdown.has-no-label ::ng-deep ul{top:3rem}.ads-form-dropdown.place-floating-element-left ::ng-deep ul{right:0;left:auto}.ads-form-dropdown.place-floating-element-right ::ng-deep ul{right:auto;left:0}.ads-form-dropdown.place-floating-element-at-top ::ng-deep ul{top:auto;bottom:2.7rem}.ads-form-dropdown.place-floating-element-at-top.has-no-label ::ng-deep ul{bottom:2.7rem}.ads-form-dropdown.place-floating-element-at-bottom ::ng-deep ul{top:4.2rem;bottom:auto}.ads-form-dropdown.place-floating-element-at-bottom.has-no-label ::ng-deep ul{top:2.7rem}.ads-form-dropdown.is-language-selector{position:relative;width:1.25rem;height:1.75rem}.ads-form-dropdown.is-language-selector .ads-input{width:2rem;height:1.5rem;padding:0;border-width:0;font-size:0}.ads-form-dropdown.is-language-selector ads-button{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.ads-form-dropdown.is-language-selector ads-button ::ng-deep .ads-button{position:relative;right:auto;bottom:auto}.ads-form-dropdown.is-language-selector ads-button ::ng-deep .ads-button .ads-icon svg path{fill:var(--ads-color-white)}.ads-form-dropdown.is-language-selector ::ng-deep .language-selector_flag{position:absolute;top:50%;left:50%;display:block;overflow:hidden;width:1.25rem;height:1.25rem;border:none;margin:0;border-radius:50%;margin-block-end:0;margin-block-start:0;margin-inline-end:0;margin-inline-start:0;pointer-events:none;transform:translate(-50%,-54%)}.ads-form-dropdown.is-language-selector ::ng-deep .language-selector_flag img{position:absolute;top:52%;left:50%;height:2rem;transform:translate(-50%,-50%)}\n"] }]
        }], ctorParameters: function () { return [{ type: Window, decorators: [{
                    type: Inject,
                    args: [WINDOW]
                }] }, { type: Document, decorators: [{
                    type: Inject,
                    args: [DOCUMENT]
                }] }, { type: i1.CollisionDetectionService }]; }, propDecorators: { dropdown: [{
                type: ViewChild,
                args: ['dropdown']
            }], css: [{
                type: Input
            }], disabled: [{
                type: Input
            }], hideLabel: [{
                type: Input
            }], label: [{
                type: Input
            }], ariaLabelledBy: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1kcm9wZG93bi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FscGhhYmV0LWRlc2lnbi1zeXN0ZW0tdWkvc3JjL2xpYi9jb21wb25lbnRzL2Zvcm0tZHJvcGRvd24vZm9ybS1kcm9wZG93bi5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FscGhhYmV0LWRlc2lnbi1zeXN0ZW0tdWkvc3JjL2xpYi9jb21wb25lbnRzL2Zvcm0tZHJvcGRvd24vZm9ybS1kcm9wZG93bi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGdDQUFnQztBQUNoQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0MsT0FBTyxFQUdILHVCQUF1QixFQUN2QixTQUFTLEVBQ1QsVUFBVSxFQUNWLFVBQVUsRUFDVixNQUFNLEVBQ04sS0FBSyxFQUNMLFNBQVMsR0FDWixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQXdCLGlCQUFpQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDekUsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxZQUFZLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDckUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNqQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFeEMsT0FBTyxFQUFFLHlCQUF5QixFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQzs7Ozs7QUFpQjNELElBQU0sd0JBQXdCLGdDQUE5QixNQUFNLHdCQUF3QjtJQXNCakMsWUFDcUMsU0FBaUIsRUFDZixRQUFrQixFQUNwQyxrQkFBNkM7UUFGN0IsY0FBUyxHQUFULFNBQVMsQ0FBUTtRQUNmLGFBQVEsR0FBUixRQUFR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QUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsaUJBQWlCLENBQUMsRUFBTztRQUNyQixJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUN4QixDQUFDOztxSEExUlEsd0JBQXdCLGtCQXVCckIsTUFBTSxhQUNOLFFBQVE7eUdBeEJYLHdCQUF3QixvS0FYdEI7UUFDUDtZQUNJLE9BQU8sRUFBRSxpQkFBaUI7WUFDMUIsMERBQTBEO1lBQzFELFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsMEJBQXdCLENBQUM7WUFDdkQsS0FBSyxFQUFFLElBQUk7U0FDZDtLQUNKLGdJQ2hDTCx1ckNBNENBO0FEUmEsd0JBQXdCO0lBZnBDLFlBQVksRUFBRTtxQ0FzQ3FDLE1BQU07UUFDTCxRQUFRO1FBQ2hCLHlCQUF5QjtHQXpCekQsd0JBQXdCLENBNlJwQztTQTdSWSx3QkFBd0I7MkZBQXhCLHdCQUF3QjtrQkFkcEMsU0FBUzsrQkFDSSxtQkFBbUIsYUFFbEI7d0JBQ1A7NEJBQ0ksT0FBTyxFQUFFLGlCQUFpQjs0QkFDMUIsMERBQTBEOzRCQUMxRCxXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSx5QkFBeUIsQ0FBQzs0QkFDdkQsS0FBSyxFQUFFLElBQUk7eUJBQ2Q7cUJBQ0osbUJBRWdCLHVCQUF1QixDQUFDLE1BQU07OzBCQXlCMUMsTUFBTTsyQkFBQyxNQUFNOzswQkFDYixNQUFNOzJCQUFDLFFBQVE7b0ZBckJHLFFBQVE7c0JBQTlCLFNBQVM7dUJBQUMsVUFBVTtnQkFDWixHQUFHO3NCQUFYLEtBQUs7Z0JBQ0csUUFBUTtzQkFBaEIsS0FBSztnQkFDRyxTQUFTO3NCQUFqQixLQUFLO2dCQUNHLEtBQUs7c0JBQWIsS0FBSztnQkFDRyxjQUFjO3NCQUF0QixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgYnJhY2Utc3R5bGUgKi9cbmltcG9ydCB7IERPQ1VNRU5UIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7XG4gICAgQWZ0ZXJDb250ZW50Q2hlY2tlZCxcbiAgICBBZnRlclZpZXdJbml0LFxuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICAgIENvbXBvbmVudCxcbiAgICBFbGVtZW50UmVmLFxuICAgIGZvcndhcmRSZWYsXG4gICAgSW5qZWN0LFxuICAgIElucHV0LFxuICAgIFZpZXdDaGlsZCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBXSU5ET1cgfSBmcm9tICdAbmctd2ViLWFwaXMvY29tbW9uJztcbmltcG9ydCB7IFVudGlsRGVzdHJveSwgdW50aWxEZXN0cm95ZWQgfSBmcm9tICdAbmduZWF0L3VudGlsLWRlc3Ryb3knO1xuaW1wb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBBRFNLZXlFdmVudHMgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBDb2xsaXNpb25EZXRlY3Rpb25TZXJ2aWNlLCByYW5kb21JZCB9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuQFVudGlsRGVzdHJveSgpXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2Fkcy1mb3JtLWRyb3Bkb3duJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vZm9ybS1kcm9wZG93bi5jb21wb25lbnQuaHRtbCcsXG4gICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1mb3J3YXJkLXJlZlxuICAgICAgICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gQURTRm9ybURyb3Bkb3duQ29tcG9uZW50KSxcbiAgICAgICAgICAgIG11bHRpOiB0cnVlLFxuICAgICAgICB9LFxuICAgIF0sXG4gICAgc3R5bGVVcmxzOiBbJy4vZm9ybS1kcm9wZG93bi5jb21wb25lbnQuc2NzcyddLFxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBBRFNGb3JtRHJvcGRvd25Db21wb25lbnRcbiAgICBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBBZnRlckNvbnRlbnRDaGVja2VkXG57XG4gICAgQFZpZXdDaGlsZCgnZHJvcGRvd24nKSBkcm9wZG93biE6IEVsZW1lbnRSZWY7XG4gICAgQElucHV0KCkgY3NzITogc3RyaW5nO1xuICAgIEBJbnB1dCgpIGRpc2FibGVkID0gZmFsc2U7XG4gICAgQElucHV0KCkgaGlkZUxhYmVsITogYm9vbGVhbjtcbiAgICBASW5wdXQoKSBsYWJlbCA9ICcnO1xuICAgIEBJbnB1dCgpIGFyaWFMYWJlbGxlZEJ5ID0gJyc7XG4gICAgcmVhZG9ubHkgaWQgPSBgYWwtZm9ybS1kcm9wZG93bi0ke3JhbmRvbUlkKCl9YDtcblxuICAgIHByaXZhdGUgYnV0dG9uRWxlbWVudCE6IEhUTUxCdXR0b25FbGVtZW50O1xuICAgIHByaXZhdGUgaW5wdXRFbGVtZW50ITogSFRNTElucHV0RWxlbWVudDtcbiAgICBwcml2YXRlIG9wdGlvbnNFbGVtZW50ITogSFRNTFVMaXN0RWxlbWVudDtcbiAgICBwcml2YXRlIG9wdGlvbnNFbGVtZW50SXRlbXMhOiBBcnJheTxIVE1MTElFbGVtZW50PjtcbiAgICBwcml2YXRlIG5ld1ZhbHVlID0gJyc7XG4gICAgcHJpdmF0ZSBzZWxlY3RlZE9wdGlvbiA9IDA7XG4gICAgcHJpdmF0ZSBleHBhbmRlZCA9IGZhbHNlO1xuXG4gICAgdmFsdWUhOiBzdHJpbmcgfCBudWxsO1xuICAgIGlucHV0VmFsdWUhOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQEluamVjdChXSU5ET1cpIHByaXZhdGUgcmVhZG9ubHkgd2luZG93UmVmOiBXaW5kb3csXG4gICAgICAgIEBJbmplY3QoRE9DVU1FTlQpIHByaXZhdGUgcmVhZG9ubHkgZG9jdW1lbnQ6IERvY3VtZW50LFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGNvbGxpc2lvbkRldGVjdGlvbjogQ29sbGlzaW9uRGV0ZWN0aW9uU2VydmljZSxcbiAgICApIHt9XG5cbiAgICBidXR0b25DbGljaygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5leHBhbmRlZCA/IHRoaXMuaGlkZSgpIDogdGhpcy5pbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICBzaG93KCk6IHZvaWQge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuY3Rpb25hbC9pbW11dGFibGUtZGF0YVxuICAgICAgICB0aGlzLmV4cGFuZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoXG4gICAgICAgICAgICB0aGlzLmlucHV0RWxlbWVudC52YWx1ZS5sZW5ndGgsXG4gICAgICAgICAgICB0aGlzLmlucHV0RWxlbWVudC52YWx1ZS5sZW5ndGgsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZHJvcGRvd24ubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpcy1leHBhbmRlZCcpO1xuICAgICAgICB0aGlzLmNvbGxpc2lvbkRldGVjdGlvbi5kZXRlY3QodGhpcy5kcm9wZG93bi5uYXRpdmVFbGVtZW50LCB0aGlzLm9wdGlvbnNFbGVtZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhpZGUoKTogdm9pZCB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jdGlvbmFsL2ltbXV0YWJsZS1kYXRhXG4gICAgICAgIHRoaXMuZXhwYW5kZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gdGhpcy5pbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIHRoaXMuZHJvcGRvd24ubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1leHBhbmRlZCcpO1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gdGhpcy5uZXdWYWx1ZSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmN0aW9uYWwvaW1tdXRhYmxlLWRhdGFcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLm5ld1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSh0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZmlyc3QoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGVzZWxlY3RPcHRpb24oKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmN0aW9uYWwvaW1tdXRhYmxlLWRhdGFcbiAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXN0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRlc2VsZWN0T3B0aW9uKCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jdGlvbmFsL2ltbXV0YWJsZS1kYXRhXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSB0aGlzLm9wdGlvbnNFbGVtZW50SXRlbXMubGVuZ3RoIC0gMTtcbiAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG5leHQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGVzZWxlY3RPcHRpb24oKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmN0aW9uYWwvaW1tdXRhYmxlLWRhdGFcbiAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiA9XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uICsgMSA+IHRoaXMub3B0aW9uc0VsZW1lbnRJdGVtcy5sZW5ndGggLSAxXG4gICAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgICAgOiB0aGlzLnNlbGVjdGVkT3B0aW9uICsgMTtcbiAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByZXZpb3VzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRlc2VsZWN0T3B0aW9uKCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jdGlvbmFsL2ltbXV0YWJsZS1kYXRhXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPVxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiAtIDEgPCAwXG4gICAgICAgICAgICAgICAgPyB0aGlzLm9wdGlvbnNFbGVtZW50SXRlbXMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgIDogdGhpcy5zZWxlY3RlZE9wdGlvbiAtIDE7XG4gICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjdXJyZW50KGl0ZW06IEhUTUxMSUVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kZXNlbGVjdE9wdGlvbigpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuY3Rpb25hbC9pbW11dGFibGUtZGF0YVxuICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uID0gdGhpcy5vcHRpb25zRWxlbWVudEl0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uKCk7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdGlhbE9wdGlvbigpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9uc0VsZW1lbnRJdGVtcykge1xuICAgICAgICAgICAgdGhpcy5kZXNlbGVjdE9wdGlvbigpO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLm9wdGlvbnNFbGVtZW50SXRlbXMuZmluZChcbiAgICAgICAgICAgICAgICBpdGVtID0+IGl0ZW0uZGF0YXNldFsndmFsdWUnXSA9PT0gdGhpcy52YWx1ZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuY3Rpb25hbC9pbW11dGFibGUtZGF0YVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSB0aGlzLm9wdGlvbnNFbGVtZW50SXRlbXMuaW5kZXhPZihzZWxlY3RlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZGVzZWxlY3RPcHRpb24oKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGl0ZW06IEhUTUxMSUVsZW1lbnQgfCBudWxsID0gdGhpcy5vcHRpb25zRWxlbWVudEl0ZW1zW3RoaXMuc2VsZWN0ZWRPcHRpb25dO1xuICAgICAgICBpdGVtPy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNlbGVjdE9wdGlvbigpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgaXRlbTogSFRNTExJRWxlbWVudCB8IG51bGwgPSB0aGlzLm9wdGlvbnNFbGVtZW50SXRlbXNbdGhpcy5zZWxlY3RlZE9wdGlvbl07XG5cbiAgICAgICAgaWYgKCFpdGVtPy5pZCkgcmV0dXJuO1xuXG4gICAgICAgIGl0ZW0/LnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcbiAgICAgICAgICAgIGJsb2NrOiAnbmVhcmVzdCcsXG4gICAgICAgICAgICBpbmxpbmU6ICdzdGFydCcsXG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtPy5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAndHJ1ZScpO1xuICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcsIGl0ZW0uaWQpO1xuICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgaXRlbS5kYXRhc2V0WydsYWJlbCddID8/ICcnKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmN0aW9uYWwvaW1tdXRhYmxlLWRhdGFcbiAgICAgICAgdGhpcy5uZXdWYWx1ZSA9IGl0ZW0uZGF0YXNldFsndmFsdWUnXSA/PyAnJztcbiAgICB9XG5cbiAgICBuZ0FmdGVyQ29udGVudENoZWNrZWQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRyb3Bkb3duICYmIHRoaXMub3B0aW9uc0VsZW1lbnQpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jdGlvbmFsL2ltbXV0YWJsZS1kYXRhXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNFbGVtZW50SXRlbXMgPSBBcnJheS5mcm9tKFxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uc0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGk6bm90KFtkaXNhYmxlZF0pJyksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zRWxlbWVudEl0ZW1zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICAgICAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2lkJywgYCR7dGhpcy5pZH0tb3B0aW9uLSR7aW5kZXh9YCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgdGhpcy5idXR0b25FbGVtZW50ID0gdGhpcy5kcm9wZG93bi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC5hZHMtYnV0dG9uYCk7XG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50ID0gdGhpcy5kcm9wZG93bi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3RoaXMuaWR9YCk7XG4gICAgICAgIHRoaXMub3B0aW9uc0VsZW1lbnQgPSB0aGlzLmRyb3Bkb3duLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcigndWwnKTtcbiAgICAgICAgdGhpcy5vcHRpb25zRWxlbWVudEl0ZW1zID0gQXJyYXkuZnJvbShcbiAgICAgICAgICAgIHRoaXMub3B0aW9uc0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGk6bm90KFtkaXNhYmxlZF0pJyksXG4gICAgICAgICk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cblxuICAgICAgICB0aGlzLm9wdGlvbnNFbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgdGhpcy5vcHRpb25zRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgYCR7dGhpcy5pZH0tbGlzdGApO1xuICAgICAgICB0aGlzLm9wdGlvbnNFbGVtZW50LnNldEF0dHJpYnV0ZSgncm9sZScsICdsaXN0Ym94Jyk7XG4gICAgICAgIHRoaXMub3B0aW9uc0VsZW1lbnRJdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBgJHt0aGlzLmlkfS1vcHRpb24tJHtpbmRleH1gKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW51bGwvbm8tbnVsbFxuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsT3B0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnJvbUV2ZW50PEtleWJvYXJkRXZlbnQ+KHRoaXMuaW5wdXRFbGVtZW50LCAna2V5ZG93bicpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICB1bnRpbERlc3Ryb3llZCh0aGlzKSxcbiAgICAgICAgICAgICAgICBmaWx0ZXIoKCkgPT4gdGhpcy5leHBhbmRlZCksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBBRFNLZXlFdmVudHMuS0VZX0FSUk9XX0RPV04pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IEFEU0tleUV2ZW50cy5LRVlfQVJST1dfVVApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBBRFNLZXlFdmVudHMuS0VZX0hPTUUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJzdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBBRFNLZXlFdmVudHMuS0VZX0VORCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gQURTS2V5RXZlbnRzLktFWV9FU0NBUEUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsT3B0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBBRFNLZXlFdmVudHMuS0VZX0VOVEVSKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IEFEU0tleUV2ZW50cy5LRVlfVEFCKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzZWxlY3RPcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXR0b25FbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgZnJvbUV2ZW50PE1vdXNlRXZlbnQ+KHRoaXMub3B0aW9uc0VsZW1lbnQsICdjbGljaycpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICB1bnRpbERlc3Ryb3llZCh0aGlzKSxcbiAgICAgICAgICAgICAgICBmaWx0ZXIoKCkgPT4gdGhpcy5leHBhbmRlZCksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IDxIVE1MTElFbGVtZW50PmV2ZW50LnRhcmdldDtcblxuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuYmx1cigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgZnJvbUV2ZW50PE1vdXNlRXZlbnQ+KHRoaXMuZG9jdW1lbnQsICdjbGljaycpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICB1bnRpbERlc3Ryb3llZCh0aGlzKSxcbiAgICAgICAgICAgICAgICBmaWx0ZXIoKCkgPT4gdGhpcy5leHBhbmRlZCksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBldmVudDtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLmRyb3Bkb3duLm5hdGl2ZUVsZW1lbnQuY29udGFpbnModGFyZ2V0KVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBmcm9tRXZlbnQodGhpcy53aW5kb3dSZWYsICdyZXNpemUnKVxuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgICAgdW50aWxEZXN0cm95ZWQodGhpcyksXG4gICAgICAgICAgICAgICAgZmlsdGVyKCgpID0+IHRoaXMuZXhwYW5kZWQpLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PlxuICAgICAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uRGV0ZWN0aW9uLmRldGVjdCh0aGlzLmRyb3Bkb3duLm5hdGl2ZUVsZW1lbnQsIHRoaXMub3B0aW9uc0VsZW1lbnQpLFxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb24sIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIGZ1bmN0aW9uYWwvaW1tdXRhYmxlLWRhdGEsXG5cdCAgIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xuICAgIG9uQ2hhbmdlKHZhbHVlOiBhbnkpOiB2b2lkIHt9XG5cbiAgICBvblRvdWNoZWQoKTogdm9pZCB7fVxuXG4gICAgd3JpdGVWYWx1ZSh2YWx1ZTogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbnVsbC9uby1udWxsXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbnVsbC9uby1udWxsXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWUgPT09IG51bGwgPyB2YWx1ZSA6IHZhbHVlLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1udWxsL25vLW51bGxcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsT3B0aW9uKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZ2lzdGVyT25DaGFuZ2UoZm46IGFueSkge1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gZm47XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJPblRvdWNoZWQoZm46IGFueSkge1xuICAgICAgICB0aGlzLm9uVG91Y2hlZCA9IGZuO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvbiwgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgZnVuY3Rpb25hbC9pbW11dGFibGUtZGF0YSxcblx0ICAgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXG59XG4iLCI8IS0tIERyb3Bkb3duIC0tPlxyXG48ZGl2XHJcbiAgICAjZHJvcGRvd25cclxuICAgIGNsYXNzPVwiYWRzLWZvcm0tZHJvcGRvd24ge3sgY3NzIH19XCJcclxuICAgIFtuZ0NsYXNzXT1cIntcclxuICAgICAgICAnaGFzLW5vLWxhYmVsJzogbGFiZWwgPT09ICcnIHx8IGhpZGVMYWJlbCA9PT0gdHJ1ZVxyXG4gICAgfVwiXHJcbj5cclxuICAgIDxsYWJlbFxyXG4gICAgICAgICpuZ0lmPVwibGFiZWxcIlxyXG4gICAgICAgIGZvcj1cInt7IGlkIH19XCJcclxuICAgICAgICBjbGFzcz1cImFkcy1pbnB1dF9sYWJlbFwiXHJcbiAgICAgICAgW25nQ2xhc3NdPVwie1xyXG4gICAgICAgICAgICAnbGFiZWwtaXMtaGlkZGVuJzogaGlkZUxhYmVsID09PSB0cnVlXHJcbiAgICAgICAgfVwiXHJcbiAgICA+XHJcbiAgICAgICAge3sgbGFiZWwgfX1cclxuICAgIDwvbGFiZWw+XHJcbiAgICA8aW5wdXRcclxuICAgICAgICBpZD1cInt7IGlkIH19XCJcclxuICAgICAgICBjbGFzcz1cImFkcy1pbnB1dCB7eyBjc3MgfX1cIlxyXG4gICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAoZm9jdXMpPVwic2hvdygpXCJcclxuICAgICAgICB2YWx1ZT1cIlwiXHJcbiAgICAgICAgYXV0b2NvbXBsZXRlPVwib2ZmXCJcclxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXHJcbiAgICAgICAgYXJpYS1yZWFkb25seT1cInRydWVcIlxyXG4gICAgICAgIFthdHRyLmRpc2FibGVkXT1cImRpc2FibGVkID8gdHJ1ZSA6IG51bGxcIlxyXG4gICAgICAgIGF0dHIuYXJpYS1vd25zPVwie3sgaWQgfX0tbGlzdFwiXHJcbiAgICAvPlxyXG4gICAgPGFkcy1idXR0b25cclxuICAgICAgICBpY29uPVwiYXZfY3VzdG9tX2NoZXZyb25fZG93blwiXHJcbiAgICAgICAgaWQ9XCJ7eyBpZCB9fS1idXR0b25cIlxyXG4gICAgICAgIGNvbG9yPVwiZ2hvc3RcIlxyXG4gICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgW2xhYmVsXT1cImxhYmVsXCJcclxuICAgICAgICBbYXJpYUxhYmVsbGVkQnldPVwiYXJpYUxhYmVsbGVkQnlcIlxyXG4gICAgICAgIFtpY29uT25seV09XCJ0cnVlXCJcclxuICAgICAgICBbZGlzYWJsZWRdPVwiZGlzYWJsZWRcIlxyXG4gICAgICAgIChjbGljayk9XCJidXR0b25DbGljaygpXCJcclxuICAgID5cclxuICAgIDwvYWRzLWJ1dHRvbj5cclxuICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cclxuPC9kaXY+XHJcbiJdfQ==