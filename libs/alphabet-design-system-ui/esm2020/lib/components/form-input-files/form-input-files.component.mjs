import { __decorate, __metadata } from "tslib";
/* eslint-disable functional/immutable-data */
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, Output, ViewChild, } from '@angular/core';
import { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';
import { filter, fromEvent } from 'rxjs';
import { MIMETypes } from '../../types';
import { formatToBytes } from '../../utils';
import { ADSConfirmationBoxComponent } from '../confirmation-box/confirmation-box.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../chip/chip.component";
import * as i3 from "../confirmation-box/confirmation-box.component";
import * as i4 from "../icon/icon.component";
let ADSFormInputFilesComponent = class ADSFormInputFilesComponent {
    constructor(cdr) {
        this.cdr = cdr;
        this.filesEmitter = new EventEmitter();
        this.acceptedFileTypes = '.doc, .docx, .jpg, .jpeg, .png, .pdf, .xls, .xlsx, .zip';
        this.fileLimit = 0;
        this.sizeLimit = 0;
        this.disabled = false;
        this.files = [];
        this.fileIcons = {
            default: 'optimal_representation',
            pdf: 'download_pdf',
            ppt: 'download_ppt',
            xls: 'download_xls',
            'vnd.openxmlformats-officedocument.spreadsheetml.sheet': 'download_xls',
            'x-zip-compressed': 'download_zip',
        };
        this.mimeTypes = MIMETypes;
        this.dragover = false;
        this.focus = false;
        this.acceptedMimeTypes = [];
        this.fileLimitReached = false;
        this.sizeLimitReached = false;
    }
    // --- file properties
    getFileType(type) {
        return type ? type.split('/')[1].toLowerCase() ?? '' : '';
    }
    getFileIcon(type) {
        return this.fileIcons[this.getFileType(type)] ?? this.fileIcons['default'];
    }
    getFormattedFileSize(size) {
        return formatToBytes(size, 0);
    }
    getFormattedTotalFilesSize() {
        const total = this.files.reduce((acc, file) => acc + file.size, 0);
        return formatToBytes(total, 0);
    }
    getFormattedSizeLimit() {
        return formatToBytes(this.sizeLimit, 0);
    }
    // -- mime types
    setAcceptedMimeTypes() {
        this.acceptedMimeTypes =
            this.acceptedFileTypes !== ''
                ? [
                    ...new Set(Object.entries(this.mimeTypes)
                        .filter(([key]) => this.acceptedFileTypes.indexOf(key) > -1)
                        .map(item => item[1])),
                ]
                : [...new Set(Object.entries(this.mimeTypes).map(item => item[1]))];
    }
    // --- fileList checks
    checkFileType(type) {
        return this.acceptedMimeTypes.indexOf(type) > -1;
    }
    checkFileLimit(length) {
        return +this.fileLimit > 0 && +this.fileLimit <= length;
    }
    checkFileLimitReached() {
        this.fileLimitReached = this.checkFileLimit(this.files.length);
    }
    checkSizeLimit(list, size) {
        const total = list.reduce((acc, file) => acc + file.size, 0);
        return +this.sizeLimit > 0 ? total + size > +this.sizeLimit : false;
    }
    checkSizeLimitReached() {
        this.sizeLimitReached = this.checkSizeLimit(this.files, 500000);
    }
    checkDuplicates(list, name) {
        return list.find(item => item.name === name) ? true : false;
    }
    // --- filelist updates
    removeFile(filename) {
        this.files = Array.from(this.files).filter(item => item.name !== filename);
        this.checkFileLimitReached();
        this.checkSizeLimitReached();
        this.filesEmitter.emit(this.files);
        this.cdr.detectChanges();
    }
    // .msg/otf formats are not recognized by browsers yet leaving their mimetypes empty
    getFileTypeFromName(filename) {
        if (filename.toLowerCase().endsWith('.msg')) {
            return this.mimeTypes['.msg'];
        }
        else if (filename.toLowerCase().endsWith('.oft')) {
            return this.mimeTypes['.oft'];
        }
        return '';
    }
    addFiles(files) {
        const dataTransfer = new DataTransfer();
        for (const currentFile of Array.from(this.files)) {
            dataTransfer.items.add(currentFile);
        }
        if (files.length) {
            for (const file of Array.from(files)) {
                const fileLimit = this.checkFileLimit(dataTransfer.items.length);
                const fileType = this.checkFileType(file.type || this.getFileTypeFromName(file.name));
                const sizeLimit = this.checkSizeLimit(Array.from(dataTransfer.files), file.size);
                const duplicate = this.checkDuplicates(Array.from(dataTransfer.files), file.name);
                if (fileLimit) {
                    this.alertModal.show('', $localize `:@@ADSUIFileErrorLimit: You've reached the maximum amount of files`);
                }
                else if (!fileType) {
                    this.alertModal.show('', $localize `:@@ADSUIFileErrorType: File format not supported`);
                }
                else if (sizeLimit) {
                    this.alertModal.show('', $localize `:@@ADSUIFileErrorSize: File size exceeds the maximum limit`);
                }
                else if (duplicate) {
                    this.alertModal.show('', $localize `:@@ADSUIFileErrorDuplicate: A duplicate file has been detected`);
                }
                else {
                    dataTransfer.items.add(file);
                }
            }
        }
        this.files = Array.from(dataTransfer.files);
        this.checkFileLimitReached();
        this.checkSizeLimitReached();
        this.filesEmitter.emit(this.files);
    }
    // -- View Init
    ngAfterViewInit() {
        if (!this.disabled) {
            if (this.removeAllFilesEmitter) {
                this.removeAllFilesEmitter.pipe(untilDestroyed(this)).subscribe(() => {
                    this.files.forEach(file => this.removeFile(file.name));
                });
            }
            this.setAcceptedMimeTypes();
            this.dropzoneElement = this.dropzone.nativeElement;
            this.inputElement = this.fileInput.nativeElement;
            fromEvent(this.inputElement, 'focus')
                .pipe(untilDestroyed(this), filter(() => !this.fileLimitReached))
                .subscribe(() => {
                this.focus = true;
                this.cdr.detectChanges();
            });
            fromEvent(this.inputElement, 'blur')
                .pipe(untilDestroyed(this), filter(() => !this.fileLimitReached))
                .subscribe(() => {
                this.focus = false;
                this.cdr.detectChanges();
            });
            fromEvent(this.inputElement, 'change')
                .pipe(untilDestroyed(this), filter(() => !this.fileLimitReached))
                .subscribe(() => {
                this.focus = false;
                this.dragover = false;
                if (this.inputElement.files?.length) {
                    this.addFiles(this.inputElement.files);
                    this.inputElement.value = '';
                }
                this.cdr.detectChanges();
            });
            fromEvent(this.dropzoneElement, 'dragover')
                .pipe(untilDestroyed(this))
                .subscribe((event) => {
                event.preventDefault();
                if (!this.fileLimitReached && !this.sizeLimitReached) {
                    this.dragover = true;
                }
                this.cdr.detectChanges();
            });
            fromEvent(this.dropzoneElement, 'dragleave')
                .pipe(untilDestroyed(this))
                .subscribe((event) => {
                event.preventDefault();
                this.dragover = false;
                this.cdr.detectChanges();
            });
            fromEvent(this.dropzoneElement, 'dragend')
                .pipe(untilDestroyed(this))
                .subscribe((event) => {
                event.preventDefault();
                this.dragover = false;
                this.cdr.detectChanges();
            });
            fromEvent(this.dropzoneElement, 'drop')
                .pipe(untilDestroyed(this))
                .subscribe((event) => {
                event.preventDefault();
                this.dragover = false;
                this.focus = false;
                if (event.dataTransfer?.files.length && !this.fileLimitReached) {
                    this.addFiles(event.dataTransfer.files);
                }
                else {
                    this.alertModal.show('', $localize `:@@ADSUIFileErrorLimit: You've reached the maximum amount of files`);
                }
                this.cdr.detectChanges();
            });
            fromEvent(this.dropzoneElement, 'click')
                .pipe(untilDestroyed(this), filter(() => !this.fileLimitReached && !this.sizeLimitReached))
                .subscribe(() => {
                this.inputElement.dispatchEvent(new MouseEvent('click'));
            });
        }
    }
    // --- Track index
    trackByIndex(index) {
        return index;
    }
};
ADSFormInputFilesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.6", ngImport: i0, type: ADSFormInputFilesComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });
ADSFormInputFilesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.6", type: ADSFormInputFilesComponent, selector: "ads-form-input-files", inputs: { acceptedFileTypes: "acceptedFileTypes", css: "css", fileLimit: "fileLimit", sizeLimit: "sizeLimit", disabled: "disabled", id: "id", label: "label", description: "description", removeAllFilesEmitter: "removeAllFilesEmitter", files: "files" }, outputs: { filesEmitter: "filesEmitter" }, viewQueries: [{ propertyName: "fileInput", first: true, predicate: ["fileInput"], descendants: true }, { propertyName: "dropzone", first: true, predicate: ["dropzone"], descendants: true }, { propertyName: "alertModal", first: true, predicate: ["alertModal"], descendants: true }], ngImport: i0, template: "<section class=\"ads-form-file-input\">\r\n    <div\r\n        #dropzone\r\n        class=\"ads-form-file-input_dropzone {{ css }}\"\r\n        [ngClass]=\"{\r\n            'has-focus': focus,\r\n            'has-status-dragover': dragover,\r\n            'has-reached-limit': fileLimitReached || sizeLimitReached,\r\n            'is-disabled': disabled,\r\n        }\"\r\n    >\r\n        <ads-icon type=\"av_custom_cloud_upload\" color=\"primary\" label=\"icon\" size=\"huge\"></ads-icon>\r\n        <label for=\"ads-form-file-input-{{ id }}\">\r\n            {{ label }}\r\n        </label>\r\n        <span>{{ description }}</span>\r\n        <input\r\n            #fileInput\r\n            class=\"ads-form-file-input_form-element\"\r\n            type=\"file\"\r\n            multiple\r\n            [disabled]=\"disabled\"\r\n            id=\"ads-form-file-input-{{ id }}\"\r\n        />\r\n    </div>\r\n    <ul *ngIf=\"files.length > 0\" class=\"ads-form-file-input_files ads-fx-appear-fast\">\r\n        <li\r\n            *ngFor=\"let file of files; trackBy: trackByIndex\"\r\n            role=\"presentation\"\r\n            class=\"ads-fx-appear-fast\"\r\n        >\r\n            <ads-chip\r\n                css=\"display-as-file\"\r\n                [label]=\"file.name\"\r\n                color=\"primary\"\r\n                size=\"regular\"\r\n                [sublabel]=\"getFormattedFileSize(file.size)\"\r\n                type=\"deletable\"\r\n                [icon]=\"getFileIcon(file.type)\"\r\n                (clickEmitter)=\"removeFile(file.name)\"\r\n            >\r\n            </ads-chip>\r\n        </li>\r\n    </ul>\r\n</section>\r\n<section class=\"ads-form-file-input_details\">\r\n    <ng-container *ngIf=\"files.length > 0\">\r\n        <span\r\n            class=\"ads-form-file-input_details-filesize\"\r\n            [ngClass]=\"{\r\n                'has-reached-limit': sizeLimitReached\r\n            }\"\r\n            >{{ getFormattedTotalFilesSize()\r\n            }}<span *ngIf=\"sizeLimit > 0\"> / {{ getFormattedSizeLimit() }}</span></span\r\n        >\r\n        <span\r\n            class=\"ads-form-file-input_details-nr-of-files\"\r\n            [ngClass]=\"{\r\n                'has-reached-limit': fileLimitReached\r\n            }\"\r\n            >{{ files.length }}\r\n            <span *ngIf=\"fileLimit > 0\"> / {{ fileLimit }}</span>\r\n        </span>\r\n    </ng-container>\r\n</section>\r\n<ads-confirmation-box [type]=\"'alert'\" #alertModal></ads-confirmation-box>\r\n", styles: [":root{--ads-color-white: #fff;--ads-color-white_foreground: #000;--ads-color-gray-6: #f0f0f0;--ads-color-gray-6_foreground: #000;--ads-color-gray-12: #e0e0e0;--ads-color-gray-12_foreground: #000;--ads-color-gray-20: #cccccc;--ads-color-gray-20_foreground: #000;--ads-color-gray-50: gray;--ads-color-gray-50_foreground: #fff;--ads-color-gray-70: #4d4d4d;--ads-color-gray-70_foreground: #fff;--ads-color-gray-85: #262626;--ads-color-gray-85_foreground: #fff;--ads-color-black: #000;--ads-color-black_foreground: #fff;--ads-color-error: #d21e36;--ads-color-error_hover: #a5182b;--ads-color-error-background: #fceaea;--ads-color-info: #1e236e;--ads-color-info-background: var(--ads-color-gray-6);--ads-color-success: #01964c;--ads-color-success_hover: #016332;--ads-color-success-background: #eaf6eb;--ads-color-warning: #ef7d00;--ads-color-warning-background: #fff7ef;--ads-color-notification: #ffd900;--ads-color-notification-background: #fffdf0;--ads-color-primary: #1e236e;--ads-color-primary-40: #a5a7c5;--ads-color-primary-65: #6e71a2;--ads-color-primary-foreground: #fff;--ads-color-primary_active: #0a0c26;--ads-color-primary_active-foreground: #fff;--ads-color-primary_focus: #0f1136;--ads-color-primary_focus-foreground: #fff;--ads-color-primary_hover: #131646;--ads-color-primary_hover-foreground: #fff;--ads-color-secondary: #00d7e7;--ads-color-secondary-40: #9aeff5;--ads-color-secondary-65: #5ae5ef;--ads-color-secondary-foreground: #fff;--ads-color-secondary_active: #00828b;--ads-color-secondary_active-foreground: #fff;--ads-color-secondary_focus: #0095a0;--ads-color-secondary_focus-foreground: #fff;--ads-color-secondary_hover: #00a8b4;--ads-color-secondary_hover-foreground: #fff;--ads-color-accent: #ff6d6a;--ads-color-accent-40: #ffc5c3;--ads-color-accent-65: #ffa19f;--ads-color-accent-foreground: #fff;--ads-color-accent_active: #ff5451;--ads-color-accent_active-foreground: #fff;--ads-color-accent_hover: #ff3b37;--ads-color-accent_hover-foreground: #fff;--ads-color-accent_focus: #ff221e;--ads-color-accent_focus-foreground: #fff;--ads-color-disabled: #e0e0e0;--ads-color-disabled-foreground: gray;--ads-color-app: #fff;--ads-color-app-text: #262626;--ads-color-app-navigation: #1e236e;--ads-color-app-navigation-divider: #6e71a2;--ads-color-app-navigation-menu-item-foreground: #fff;--ads-color-app-navigation-menu-item-background: #1e236e;--ads-color-app-navigation-menu-item-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-background_hover: #1e236e;--ads-color-app-navigation-menu-item-foreground_focus: #fff;--ads-color-app-navigation-menu-item-background_focus: #fff;--ads-color-app-navigation-menu-item-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-background_selected: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground: #fff;--ads-color-app-navigation-menu-item-icon-background: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_hover: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-menu-item-icon-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_selected: #1e236e;--ads-color-app-navigation-toolbar: #fff;--ads-color-app-navigation-toolbar-divider: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_selected: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_selected: #f0f0f0;--ads-color-solid-gradient-primary-to-accent: linear-gradient(90deg, #1e236e 0%, #ff6d6a 100%);--ads-color-solid-gradient-secondary-to-accent: linear-gradient(-170deg, rgba(0, 215, 231, 0) 60%, #00d7e7 125%), linear-gradient(170deg, #ff6d6a 60%, #ff6d6a 125%);--ads-color-solid-gradient-accent-to-secondary-to-primary: linear-gradient(90deg, #ff6d6a 0%, #00d7e7 50%, #1e236e 100%);--ads-color-solid-gradient-gray-to-primary: linear-gradient(90deg, #e0e0e0 0%, #a5a7c5 100%);--ads-color-image-gradient-primary-to-accent: linear-gradient(90deg, rgba(30, 35, 110, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-primary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(30, 35, 110, .7) 100%);--ads-color-image-gradient-secondary-to-accent: linear-gradient(90deg, rgba(0, 215, 231, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-secondary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(0, 215, 231, .7) 100%);--ads-color-image-gradient-mask: linear-gradient(to bottom, rgba(0,0,0,0) 48%, rgba(0,0,0,.5) 80%, rgba(0,0,0,1) 100%);--ads-color-image-gradient-darken-bottom: linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .1) 40%, rgba(0, 0, 0, .4) 100%);--ads-color-app-gradient-secondary-to-accent: linear-gradient(160deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .4) 90%), linear-gradient(220deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 60%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-large: linear-gradient(170deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .5) 90%), linear-gradient(210deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 70%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-foreground: #fff;--ads-color-app-gradient-primary-to-accent: linear-gradient(200deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .7) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 60%, rgba(30, 35, 110, .4) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-large: linear-gradient(190deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .6) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 70%, rgba(30, 35, 110, .5) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-foreground: #1e236e;--ads-color-app-gradient-primary-inverted: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 60%, rgba(255, 109, 106, .4) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 65%, rgba(0, 215, 231, .45) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-large: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 75%, rgba(255, 109, 106, .05) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 75%, rgba(0, 215, 231, .02) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-foreground: #1e236e;--ads-ring_active: 0 0 0 2px #fff, 0 0 0 5px #1e236e;--ads-ring_focus: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_hover: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_transparent: 0 0 0 2px transparent, 0 0 0 3px transparent;--ads-ring_focus-inset: inset 0 0 0 2px #fff, inset 0 0 0 3px #1e236e;--ads-ring_focus-inset-inverted: inset 0 0 0 2px #1e236e, inset 0 0 0 4px #fff;--ads-ring-focus-with-contextmenu: 0 0 0 1px #fff, 0 0 0 2px #555cd1, 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-0: 0 0 0 0 rgba(0, 0, 0, 0);--ads-shadow-depth-1: 0 .4px .4px rgba(0, 0, 0, .05), 0 1px 1px rgba(0, 0, 0, .036), 0 1.9px 1.9px rgba(0, 0, 0, .03), 0 3.4px 3.4px rgba(0, 0, 0, .025), 0 6.3px 6.3px rgba(0, 0, 0, .02), 0 15px 15px rgba(0, 0, 0, .014);--ads-shadow-depth-2: 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-3: 0 .7px .7px rgba(0, 0, 0, .017), 0 1.7px 1.7px rgba(0, 0, 0, .024), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .036), 0 10.4px 10.4px rgba(0, 0, 0, .043), 0 25px 25px rgba(0, 0, 0, .06);--ads-shadow-depth-4: 0 1px 1px rgba(0, 0, 0, .014), 0 2.3px 2.3px rgba(0, 0, 0, .02), 0 4.4px 4.4px rgba(0, 0, 0, .025), 0 7.8px 7.8px rgba(0, 0, 0, .03), 0 14.6px 14.6px rgba(0, 0, 0, .036), 0 35px 35px rgba(0, 0, 0, .05);--ads-shadow-depth-5: 0 1.2px 1.2px rgba(0, 0, 0, .014), 0 3px 3px rgba(0, 0, 0, .02), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.1px 10.1px rgba(0, 0, 0, .03), 0 18.8px 18.8px rgba(0, 0, 0, .036), 0 45px 45px rgba(0, 0, 0, .05);--ads-shadow-depth-6: 0 .9px .9px rgba(0, 0, 0, .011), 0 1.9px 1.9px rgba(0, 0, 0, .016), 0 3.2px 3.2px rgba(0, 0, 0, .019), 0 4.8px 4.8px rgba(0, 0, 0, .022), 0 6.9px 6.9px rgba(0, 0, 0, .025), 0 9.7px 9.7px rgba(0, 0, 0, .028), 0 13.8px 13.8px rgba(0, 0, 0, .031), 0 20.1px 20.1px rgba(0, 0, 0, .034), 0 30.9px 30.9px rgba(0, 0, 0, .039), 0 55px 55px rgba(0, 0, 0, .05)}.ads-form-file-input{display:flex;flex-direction:row;gap:1rem}.ads-form-file-input_files{flex:none;max-width:50%;border:1px solid var(--ads-color-gray-50);background-color:var(--ads-color-white);border-radius:.125rem;list-style:none;display:flex;flex-direction:column;flex-wrap:nowrap;gap:.5rem;padding:.5rem;min-height:15rem;max-height:15rem;min-width:12.5rem;overflow-x:hidden;overflow-y:auto}.ads-form-file-input_files li{display:block;width:100%;height:auto}.ads-form-file-input_files li ads-chip{width:100%}.ads-form-file-input_form-element{overflow:hidden;width:1px;height:1px;padding:0;border-width:0;margin:-1px;clip:rect(0,0,0,0);white-space:nowrap;outline:none;border:none}.ads-form-file-input_dropzone{flex:1 1 auto;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;min-height:15rem;max-height:15rem;border:1px solid var(--ads-color-gray-50);background-color:var(--ads-color-white);border-radius:.125rem;color:var(--ads-color-primary);font-family:Alphabet sans pro light,sans-serif;font-size:1rem;font-style:normal;font-weight:400;line-height:1;padding:3rem 2rem 2rem;outline:0;outline-offset:0;text-align:left;box-shadow:var(--ads-ring_transparent);transition:color .15s cubic-bezier(.55,.085,.68,.53),border-color .15s cubic-bezier(.55,.085,.68,.53),background-color .15s cubic-bezier(.55,.085,.68,.53),box-shadow .15s cubic-bezier(.55,.085,.68,.53),opacity .15s cubic-bezier(.55,.085,.68,.53)}.ads-form-file-input_dropzone.has-reached-limit{opacity:.5}.ads-form-file-input_dropzone ads-icon{pointer-events:none;margin-bottom:2rem}.ads-form-file-input_dropzone ads-icon:before{content:\"\";position:absolute;left:50%;top:50%;width:calc(100% + 2rem);height:calc(100% + 2rem);border-radius:50%;background-color:var(--ads-color-gray-6);border:2px solid var(--ads-color-gray-6);transform:translate(-50%,-50%);transition:border-color .15s cubic-bezier(.55,.085,.68,.53)}.ads-form-file-input_dropzone label{pointer-events:none;color:var(--ads-color-primary);font-family:Alphabet sans pro light,sans-serif;font-size:1rem;font-style:normal;font-weight:600;margin:0 0 .5rem}.ads-form-file-input_dropzone span{pointer-events:none;color:var(--ads-color-app-text);font-family:Alphabet sans pro light,sans-serif;font-size:.75rem;font-style:normal;font-weight:400;margin:0}.ads-form-file-input_dropzone:hover:not(.has-reached-limit):not(.is-disabled){cursor:grab;border-color:var(--ads-color-primary);color:var(--ads-color-primary_hover);background-color:var(--ads-color-gray-6)}.ads-form-file-input_dropzone:hover:not(.has-reached-limit):not(.is-disabled) ads-icon:before{border-color:var(--ads-color-primary)}.ads-form-file-input_dropzone.has-focus{box-shadow:var(--ads-ring_focus);border-color:var(--ads-color-primary);color:var(--ads-color-primary_hover);background-color:var(--ads-color-gray-6)}.ads-form-file-input_dropzone.has-focus ads-icon:before{border-color:var(--ads-color-primary)}.ads-form-file-input_dropzone.has-status-dragover{cursor:no-drop;box-shadow:var(--ads-ring_focus);border-color:var(--ads-color-primary);color:var(--ads-color-primary_hover);background-color:var(--ads-color-gray-6)}.ads-form-file-input_dropzone.has-status-dragover ads-icon:before{border-color:var(--ads-color-primary)}.ads-form-file-input_dropzone.is-disabled{cursor:not-allowed;box-shadow:var(--ads-ring_transparent);border-color:var(--ads-color-gray-50);opacity:.5;background-color:var(--ads-color-gray-6)}.ads-form-file-input_details{color:var(--ads-color-gray-50);font-family:Alphabet sans pro light,sans-serif;font-size:.75rem;font-style:normal;font-weight:400;text-align:right;padding-top:1rem;transition:width .15s cubic-bezier(.55,.085,.68,.53)}.ads-form-file-input_details .ads-form-file-input_details-filesize{margin:0 .5rem 0 0}.ads-form-file-input_details .ads-form-file-input_details-filesize.has-reached-limit{color:var(--ads-color-accent)}.ads-form-file-input_details .ads-form-file-input_details-nr-of-files{color:var(--ads-color-white);background-color:var(--ads-color-secondary);padding:.25rem .5rem;border-radius:1rem}.ads-form-file-input_details .ads-form-file-input_details-nr-of-files.has-reached-limit{background-color:var(--ads-color-accent)}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.ADSChipComponent, selector: "ads-chip", inputs: ["avatar", "color", "css", "disabled", "flag", "id", "icon", "label", "selected", "size", "sublabel", "type"], outputs: ["clickEmitter"] }, { kind: "component", type: i3.ADSConfirmationBoxComponent, selector: "ads-confirmation-box", inputs: ["type"], outputs: ["confirmed"] }, { kind: "component", type: i4.ADSIconComponent, selector: "ads-icon", inputs: ["color", "css", "label", "size", "type"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
ADSFormInputFilesComponent = __decorate([
    UntilDestroy(),
    __metadata("design:paramtypes", [ChangeDetectorRef])
], ADSFormInputFilesComponent);
export { ADSFormInputFilesComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.6", ngImport: i0, type: ADSFormInputFilesComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ads-form-input-files', changeDetection: ChangeDetectionStrategy.OnPush, template: "<section class=\"ads-form-file-input\">\r\n    <div\r\n        #dropzone\r\n        class=\"ads-form-file-input_dropzone {{ css }}\"\r\n        [ngClass]=\"{\r\n            'has-focus': focus,\r\n            'has-status-dragover': dragover,\r\n            'has-reached-limit': fileLimitReached || sizeLimitReached,\r\n            'is-disabled': disabled,\r\n        }\"\r\n    >\r\n        <ads-icon type=\"av_custom_cloud_upload\" color=\"primary\" label=\"icon\" size=\"huge\"></ads-icon>\r\n        <label for=\"ads-form-file-input-{{ id }}\">\r\n            {{ label }}\r\n        </label>\r\n        <span>{{ description }}</span>\r\n        <input\r\n            #fileInput\r\n            class=\"ads-form-file-input_form-element\"\r\n            type=\"file\"\r\n            multiple\r\n            [disabled]=\"disabled\"\r\n            id=\"ads-form-file-input-{{ id }}\"\r\n        />\r\n    </div>\r\n    <ul *ngIf=\"files.length > 0\" class=\"ads-form-file-input_files ads-fx-appear-fast\">\r\n        <li\r\n            *ngFor=\"let file of files; trackBy: trackByIndex\"\r\n            role=\"presentation\"\r\n            class=\"ads-fx-appear-fast\"\r\n        >\r\n            <ads-chip\r\n                css=\"display-as-file\"\r\n                [label]=\"file.name\"\r\n                color=\"primary\"\r\n                size=\"regular\"\r\n                [sublabel]=\"getFormattedFileSize(file.size)\"\r\n                type=\"deletable\"\r\n                [icon]=\"getFileIcon(file.type)\"\r\n                (clickEmitter)=\"removeFile(file.name)\"\r\n            >\r\n            </ads-chip>\r\n        </li>\r\n    </ul>\r\n</section>\r\n<section class=\"ads-form-file-input_details\">\r\n    <ng-container *ngIf=\"files.length > 0\">\r\n        <span\r\n            class=\"ads-form-file-input_details-filesize\"\r\n            [ngClass]=\"{\r\n                'has-reached-limit': sizeLimitReached\r\n            }\"\r\n            >{{ getFormattedTotalFilesSize()\r\n            }}<span *ngIf=\"sizeLimit > 0\"> / {{ getFormattedSizeLimit() }}</span></span\r\n        >\r\n        <span\r\n            class=\"ads-form-file-input_details-nr-of-files\"\r\n            [ngClass]=\"{\r\n                'has-reached-limit': fileLimitReached\r\n            }\"\r\n            >{{ files.length }}\r\n            <span *ngIf=\"fileLimit > 0\"> / {{ fileLimit }}</span>\r\n        </span>\r\n    </ng-container>\r\n</section>\r\n<ads-confirmation-box [type]=\"'alert'\" #alertModal></ads-confirmation-box>\r\n", styles: [":root{--ads-color-white: #fff;--ads-color-white_foreground: #000;--ads-color-gray-6: #f0f0f0;--ads-color-gray-6_foreground: #000;--ads-color-gray-12: #e0e0e0;--ads-color-gray-12_foreground: #000;--ads-color-gray-20: #cccccc;--ads-color-gray-20_foreground: #000;--ads-color-gray-50: gray;--ads-color-gray-50_foreground: #fff;--ads-color-gray-70: #4d4d4d;--ads-color-gray-70_foreground: #fff;--ads-color-gray-85: #262626;--ads-color-gray-85_foreground: #fff;--ads-color-black: #000;--ads-color-black_foreground: #fff;--ads-color-error: #d21e36;--ads-color-error_hover: #a5182b;--ads-color-error-background: #fceaea;--ads-color-info: #1e236e;--ads-color-info-background: var(--ads-color-gray-6);--ads-color-success: #01964c;--ads-color-success_hover: #016332;--ads-color-success-background: #eaf6eb;--ads-color-warning: #ef7d00;--ads-color-warning-background: #fff7ef;--ads-color-notification: #ffd900;--ads-color-notification-background: #fffdf0;--ads-color-primary: #1e236e;--ads-color-primary-40: #a5a7c5;--ads-color-primary-65: #6e71a2;--ads-color-primary-foreground: #fff;--ads-color-primary_active: #0a0c26;--ads-color-primary_active-foreground: #fff;--ads-color-primary_focus: #0f1136;--ads-color-primary_focus-foreground: #fff;--ads-color-primary_hover: #131646;--ads-color-primary_hover-foreground: #fff;--ads-color-secondary: #00d7e7;--ads-color-secondary-40: #9aeff5;--ads-color-secondary-65: #5ae5ef;--ads-color-secondary-foreground: #fff;--ads-color-secondary_active: #00828b;--ads-color-secondary_active-foreground: #fff;--ads-color-secondary_focus: #0095a0;--ads-color-secondary_focus-foreground: #fff;--ads-color-secondary_hover: #00a8b4;--ads-color-secondary_hover-foreground: #fff;--ads-color-accent: #ff6d6a;--ads-color-accent-40: #ffc5c3;--ads-color-accent-65: #ffa19f;--ads-color-accent-foreground: #fff;--ads-color-accent_active: #ff5451;--ads-color-accent_active-foreground: #fff;--ads-color-accent_hover: #ff3b37;--ads-color-accent_hover-foreground: #fff;--ads-color-accent_focus: #ff221e;--ads-color-accent_focus-foreground: #fff;--ads-color-disabled: #e0e0e0;--ads-color-disabled-foreground: gray;--ads-color-app: #fff;--ads-color-app-text: #262626;--ads-color-app-navigation: #1e236e;--ads-color-app-navigation-divider: #6e71a2;--ads-color-app-navigation-menu-item-foreground: #fff;--ads-color-app-navigation-menu-item-background: #1e236e;--ads-color-app-navigation-menu-item-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-background_hover: #1e236e;--ads-color-app-navigation-menu-item-foreground_focus: #fff;--ads-color-app-navigation-menu-item-background_focus: #fff;--ads-color-app-navigation-menu-item-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-background_selected: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground: #fff;--ads-color-app-navigation-menu-item-icon-background: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_hover: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-menu-item-icon-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_selected: #1e236e;--ads-color-app-navigation-toolbar: #fff;--ads-color-app-navigation-toolbar-divider: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_selected: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_selected: #f0f0f0;--ads-color-solid-gradient-primary-to-accent: linear-gradient(90deg, #1e236e 0%, #ff6d6a 100%);--ads-color-solid-gradient-secondary-to-accent: linear-gradient(-170deg, rgba(0, 215, 231, 0) 60%, #00d7e7 125%), linear-gradient(170deg, #ff6d6a 60%, #ff6d6a 125%);--ads-color-solid-gradient-accent-to-secondary-to-primary: linear-gradient(90deg, #ff6d6a 0%, #00d7e7 50%, #1e236e 100%);--ads-color-solid-gradient-gray-to-primary: linear-gradient(90deg, #e0e0e0 0%, #a5a7c5 100%);--ads-color-image-gradient-primary-to-accent: linear-gradient(90deg, rgba(30, 35, 110, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-primary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(30, 35, 110, .7) 100%);--ads-color-image-gradient-secondary-to-accent: linear-gradient(90deg, rgba(0, 215, 231, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-secondary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(0, 215, 231, .7) 100%);--ads-color-image-gradient-mask: linear-gradient(to bottom, rgba(0,0,0,0) 48%, rgba(0,0,0,.5) 80%, rgba(0,0,0,1) 100%);--ads-color-image-gradient-darken-bottom: linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .1) 40%, rgba(0, 0, 0, .4) 100%);--ads-color-app-gradient-secondary-to-accent: linear-gradient(160deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .4) 90%), linear-gradient(220deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 60%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-large: linear-gradient(170deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .5) 90%), linear-gradient(210deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 70%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-foreground: #fff;--ads-color-app-gradient-primary-to-accent: linear-gradient(200deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .7) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 60%, rgba(30, 35, 110, .4) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-large: linear-gradient(190deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .6) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 70%, rgba(30, 35, 110, .5) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-foreground: #1e236e;--ads-color-app-gradient-primary-inverted: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 60%, rgba(255, 109, 106, .4) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 65%, rgba(0, 215, 231, .45) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-large: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 75%, rgba(255, 109, 106, .05) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 75%, rgba(0, 215, 231, .02) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-foreground: #1e236e;--ads-ring_active: 0 0 0 2px #fff, 0 0 0 5px #1e236e;--ads-ring_focus: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_hover: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_transparent: 0 0 0 2px transparent, 0 0 0 3px transparent;--ads-ring_focus-inset: inset 0 0 0 2px #fff, inset 0 0 0 3px #1e236e;--ads-ring_focus-inset-inverted: inset 0 0 0 2px #1e236e, inset 0 0 0 4px #fff;--ads-ring-focus-with-contextmenu: 0 0 0 1px #fff, 0 0 0 2px #555cd1, 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-0: 0 0 0 0 rgba(0, 0, 0, 0);--ads-shadow-depth-1: 0 .4px .4px rgba(0, 0, 0, .05), 0 1px 1px rgba(0, 0, 0, .036), 0 1.9px 1.9px rgba(0, 0, 0, .03), 0 3.4px 3.4px rgba(0, 0, 0, .025), 0 6.3px 6.3px rgba(0, 0, 0, .02), 0 15px 15px rgba(0, 0, 0, .014);--ads-shadow-depth-2: 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-3: 0 .7px .7px rgba(0, 0, 0, .017), 0 1.7px 1.7px rgba(0, 0, 0, .024), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .036), 0 10.4px 10.4px rgba(0, 0, 0, .043), 0 25px 25px rgba(0, 0, 0, .06);--ads-shadow-depth-4: 0 1px 1px rgba(0, 0, 0, .014), 0 2.3px 2.3px rgba(0, 0, 0, .02), 0 4.4px 4.4px rgba(0, 0, 0, .025), 0 7.8px 7.8px rgba(0, 0, 0, .03), 0 14.6px 14.6px rgba(0, 0, 0, .036), 0 35px 35px rgba(0, 0, 0, .05);--ads-shadow-depth-5: 0 1.2px 1.2px rgba(0, 0, 0, .014), 0 3px 3px rgba(0, 0, 0, .02), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.1px 10.1px rgba(0, 0, 0, .03), 0 18.8px 18.8px rgba(0, 0, 0, .036), 0 45px 45px rgba(0, 0, 0, .05);--ads-shadow-depth-6: 0 .9px .9px rgba(0, 0, 0, .011), 0 1.9px 1.9px rgba(0, 0, 0, .016), 0 3.2px 3.2px rgba(0, 0, 0, .019), 0 4.8px 4.8px rgba(0, 0, 0, .022), 0 6.9px 6.9px rgba(0, 0, 0, .025), 0 9.7px 9.7px rgba(0, 0, 0, .028), 0 13.8px 13.8px rgba(0, 0, 0, .031), 0 20.1px 20.1px rgba(0, 0, 0, .034), 0 30.9px 30.9px rgba(0, 0, 0, .039), 0 55px 55px rgba(0, 0, 0, .05)}.ads-form-file-input{display:flex;flex-direction:row;gap:1rem}.ads-form-file-input_files{flex:none;max-width:50%;border:1px solid var(--ads-color-gray-50);background-color:var(--ads-color-white);border-radius:.125rem;list-style:none;display:flex;flex-direction:column;flex-wrap:nowrap;gap:.5rem;padding:.5rem;min-height:15rem;max-height:15rem;min-width:12.5rem;overflow-x:hidden;overflow-y:auto}.ads-form-file-input_files li{display:block;width:100%;height:auto}.ads-form-file-input_files li ads-chip{width:100%}.ads-form-file-input_form-element{overflow:hidden;width:1px;height:1px;padding:0;border-width:0;margin:-1px;clip:rect(0,0,0,0);white-space:nowrap;outline:none;border:none}.ads-form-file-input_dropzone{flex:1 1 auto;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;min-height:15rem;max-height:15rem;border:1px solid var(--ads-color-gray-50);background-color:var(--ads-color-white);border-radius:.125rem;color:var(--ads-color-primary);font-family:Alphabet sans pro light,sans-serif;font-size:1rem;font-style:normal;font-weight:400;line-height:1;padding:3rem 2rem 2rem;outline:0;outline-offset:0;text-align:left;box-shadow:var(--ads-ring_transparent);transition:color .15s cubic-bezier(.55,.085,.68,.53),border-color .15s cubic-bezier(.55,.085,.68,.53),background-color .15s cubic-bezier(.55,.085,.68,.53),box-shadow .15s cubic-bezier(.55,.085,.68,.53),opacity .15s cubic-bezier(.55,.085,.68,.53)}.ads-form-file-input_dropzone.has-reached-limit{opacity:.5}.ads-form-file-input_dropzone ads-icon{pointer-events:none;margin-bottom:2rem}.ads-form-file-input_dropzone ads-icon:before{content:\"\";position:absolute;left:50%;top:50%;width:calc(100% + 2rem);height:calc(100% + 2rem);border-radius:50%;background-color:var(--ads-color-gray-6);border:2px solid var(--ads-color-gray-6);transform:translate(-50%,-50%);transition:border-color .15s cubic-bezier(.55,.085,.68,.53)}.ads-form-file-input_dropzone label{pointer-events:none;color:var(--ads-color-primary);font-family:Alphabet sans pro light,sans-serif;font-size:1rem;font-style:normal;font-weight:600;margin:0 0 .5rem}.ads-form-file-input_dropzone span{pointer-events:none;color:var(--ads-color-app-text);font-family:Alphabet sans pro light,sans-serif;font-size:.75rem;font-style:normal;font-weight:400;margin:0}.ads-form-file-input_dropzone:hover:not(.has-reached-limit):not(.is-disabled){cursor:grab;border-color:var(--ads-color-primary);color:var(--ads-color-primary_hover);background-color:var(--ads-color-gray-6)}.ads-form-file-input_dropzone:hover:not(.has-reached-limit):not(.is-disabled) ads-icon:before{border-color:var(--ads-color-primary)}.ads-form-file-input_dropzone.has-focus{box-shadow:var(--ads-ring_focus);border-color:var(--ads-color-primary);color:var(--ads-color-primary_hover);background-color:var(--ads-color-gray-6)}.ads-form-file-input_dropzone.has-focus ads-icon:before{border-color:var(--ads-color-primary)}.ads-form-file-input_dropzone.has-status-dragover{cursor:no-drop;box-shadow:var(--ads-ring_focus);border-color:var(--ads-color-primary);color:var(--ads-color-primary_hover);background-color:var(--ads-color-gray-6)}.ads-form-file-input_dropzone.has-status-dragover ads-icon:before{border-color:var(--ads-color-primary)}.ads-form-file-input_dropzone.is-disabled{cursor:not-allowed;box-shadow:var(--ads-ring_transparent);border-color:var(--ads-color-gray-50);opacity:.5;background-color:var(--ads-color-gray-6)}.ads-form-file-input_details{color:var(--ads-color-gray-50);font-family:Alphabet sans pro light,sans-serif;font-size:.75rem;font-style:normal;font-weight:400;text-align:right;padding-top:1rem;transition:width .15s cubic-bezier(.55,.085,.68,.53)}.ads-form-file-input_details .ads-form-file-input_details-filesize{margin:0 .5rem 0 0}.ads-form-file-input_details .ads-form-file-input_details-filesize.has-reached-limit{color:var(--ads-color-accent)}.ads-form-file-input_details .ads-form-file-input_details-nr-of-files{color:var(--ads-color-white);background-color:var(--ads-color-secondary);padding:.25rem .5rem;border-radius:1rem}.ads-form-file-input_details .ads-form-file-input_details-nr-of-files.has-reached-limit{background-color:var(--ads-color-accent)}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }]; }, propDecorators: { fileInput: [{
                type: ViewChild,
                args: ['fileInput']
            }], dropzone: [{
                type: ViewChild,
                args: ['dropzone']
            }], alertModal: [{
                type: ViewChild,
                args: ['alertModal']
            }], filesEmitter: [{
                type: Output
            }], acceptedFileTypes: [{
                type: Input
            }], css: [{
                type: Input
            }], fileLimit: [{
                type: Input
            }], sizeLimit: [{
                type: Input
            }], disabled: [{
                type: Input
            }], id: [{
                type: Input
            }], label: [{
                type: Input
            }], description: [{
                type: Input
            }], removeAllFilesEmitter: [{
                type: Input
            }], files: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1pbnB1dC1maWxlcy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FscGhhYmV0LWRlc2lnbi1zeXN0ZW0tdWkvc3JjL2xpYi9jb21wb25lbnRzL2Zvcm0taW5wdXQtZmlsZXMvZm9ybS1pbnB1dC1maWxlcy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FscGhhYmV0LWRlc2lnbi1zeXN0ZW0tdWkvc3JjL2xpYi9jb21wb25lbnRzL2Zvcm0taW5wdXQtZmlsZXMvZm9ybS1pbnB1dC1maWxlcy5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsOENBQThDO0FBQzlDLE9BQU8sRUFFSCx1QkFBdUIsRUFDdkIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxVQUFVLEVBQ1YsWUFBWSxFQUNaLEtBQUssRUFDTCxNQUFNLEVBQ04sU0FBUyxHQUNaLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxZQUFZLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDckUsT0FBTyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDekMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN4QyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzVDLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLGdEQUFnRCxDQUFDOzs7Ozs7QUFTdEYsSUFBTSwwQkFBMEIsR0FBaEMsTUFBTSwwQkFBMEI7SUFvQ25DLFlBQTZCLEdBQXNCO1FBQXRCLFFBQUcsR0FBSCxHQUFHLENBQW1CO1FBL0JoQyxpQkFBWSxHQUE4QixJQUFJLFlBQVksRUFBRSxDQUFDO1FBRXZFLHNCQUFpQixHQUFHLHlEQUF5RCxDQUFDO1FBRTlFLGNBQVMsR0FBRyxDQUFDLENBQUM7UUFDZCxjQUFTLEdB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c0JBQWpCLEtBQUs7Z0JBQ0csU0FBUztzQkFBakIsS0FBSztnQkFDRyxRQUFRO3NCQUFoQixLQUFLO2dCQUNHLEVBQUU7c0JBQVYsS0FBSztnQkFDRyxLQUFLO3NCQUFiLEtBQUs7Z0JBQ0csV0FBVztzQkFBbkIsS0FBSztnQkFDRyxxQkFBcUI7c0JBQTdCLEtBQUs7Z0JBQ0csS0FBSztzQkFBYixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgZnVuY3Rpb25hbC9pbW11dGFibGUtZGF0YSAqL1xyXG5pbXBvcnQge1xyXG4gICAgQWZ0ZXJWaWV3SW5pdCxcclxuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxyXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgICBDb21wb25lbnQsXHJcbiAgICBFbGVtZW50UmVmLFxyXG4gICAgRXZlbnRFbWl0dGVyLFxyXG4gICAgSW5wdXQsXHJcbiAgICBPdXRwdXQsXHJcbiAgICBWaWV3Q2hpbGQsXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFVudGlsRGVzdHJveSwgdW50aWxEZXN0cm95ZWQgfSBmcm9tICdAbmduZWF0L3VudGlsLWRlc3Ryb3knO1xyXG5pbXBvcnQgeyBmaWx0ZXIsIGZyb21FdmVudCB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBNSU1FVHlwZXMgfSBmcm9tICcuLi8uLi90eXBlcyc7XHJcbmltcG9ydCB7IGZvcm1hdFRvQnl0ZXMgfSBmcm9tICcuLi8uLi91dGlscyc7XHJcbmltcG9ydCB7IEFEU0NvbmZpcm1hdGlvbkJveENvbXBvbmVudCB9IGZyb20gJy4uL2NvbmZpcm1hdGlvbi1ib3gvY29uZmlybWF0aW9uLWJveC5jb21wb25lbnQnO1xyXG5cclxuQFVudGlsRGVzdHJveSgpXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdhZHMtZm9ybS1pbnB1dC1maWxlcycsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vZm9ybS1pbnB1dC1maWxlcy5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi9mb3JtLWlucHV0LWZpbGVzLmNvbXBvbmVudC5zY3NzJ10sXHJcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxufSlcclxuZXhwb3J0IGNsYXNzIEFEU0Zvcm1JbnB1dEZpbGVzQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XHJcbiAgICBAVmlld0NoaWxkKCdmaWxlSW5wdXQnKSBmaWxlSW5wdXQhOiBFbGVtZW50UmVmO1xyXG4gICAgQFZpZXdDaGlsZCgnZHJvcHpvbmUnKSBkcm9wem9uZSE6IEVsZW1lbnRSZWY7XHJcbiAgICBAVmlld0NoaWxkKCdhbGVydE1vZGFsJykgYWxlcnRNb2RhbCE6IEFEU0NvbmZpcm1hdGlvbkJveENvbXBvbmVudDtcclxuXHJcbiAgICBAT3V0cHV0KCkgcmVhZG9ubHkgZmlsZXNFbWl0dGVyOiBFdmVudEVtaXR0ZXI8QXJyYXk8RmlsZT4+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIEBJbnB1dCgpIGFjY2VwdGVkRmlsZVR5cGVzID0gJy5kb2MsIC5kb2N4LCAuanBnLCAuanBlZywgLnBuZywgLnBkZiwgLnhscywgLnhsc3gsIC56aXAnO1xyXG4gICAgQElucHV0KCkgY3NzITogc3RyaW5nO1xyXG4gICAgQElucHV0KCkgZmlsZUxpbWl0ID0gMDtcclxuICAgIEBJbnB1dCgpIHNpemVMaW1pdCA9IDA7XHJcbiAgICBASW5wdXQoKSBkaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgQElucHV0KCkgaWQhOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSBsYWJlbCE6IHN0cmluZztcclxuICAgIEBJbnB1dCgpIGRlc2NyaXB0aW9uITogc3RyaW5nO1xyXG4gICAgQElucHV0KCkgcmVtb3ZlQWxsRmlsZXNFbWl0dGVyPzogRXZlbnRFbWl0dGVyPHZvaWQ+O1xyXG4gICAgQElucHV0KCkgZmlsZXM6IEFycmF5PEZpbGU+ID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBkcm9wem9uZUVsZW1lbnQhOiBIVE1MRGl2RWxlbWVudDtcclxuICAgIHByaXZhdGUgaW5wdXRFbGVtZW50ITogSFRNTElucHV0RWxlbWVudDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZmlsZUljb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICAgIGRlZmF1bHQ6ICdvcHRpbWFsX3JlcHJlc2VudGF0aW9uJyxcclxuICAgICAgICBwZGY6ICdkb3dubG9hZF9wZGYnLFxyXG4gICAgICAgIHBwdDogJ2Rvd25sb2FkX3BwdCcsXHJcbiAgICAgICAgeGxzOiAnZG93bmxvYWRfeGxzJyxcclxuICAgICAgICAndm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQnOiAnZG93bmxvYWRfeGxzJyxcclxuICAgICAgICAneC16aXAtY29tcHJlc3NlZCc6ICdkb3dubG9hZF96aXAnLFxyXG4gICAgfTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbWltZVR5cGVzID0gTUlNRVR5cGVzO1xyXG5cclxuICAgIGRyYWdvdmVyID0gZmFsc2U7XHJcbiAgICBmb2N1cyA9IGZhbHNlO1xyXG4gICAgYWNjZXB0ZWRNaW1lVHlwZXM6IEFycmF5PHN0cmluZz4gPSBbXTtcclxuICAgIGZpbGVMaW1pdFJlYWNoZWQgPSBmYWxzZTtcclxuICAgIHNpemVMaW1pdFJlYWNoZWQgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHt9XHJcblxyXG4gICAgLy8gLS0tIGZpbGUgcHJvcGVydGllc1xyXG5cclxuICAgIGdldEZpbGVUeXBlKHR5cGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGUgPyB0eXBlLnNwbGl0KCcvJylbMV0udG9Mb3dlckNhc2UoKSA/PyAnJyA6ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZpbGVJY29uKHR5cGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsZUljb25zW3RoaXMuZ2V0RmlsZVR5cGUodHlwZSldID8/IHRoaXMuZmlsZUljb25zWydkZWZhdWx0J107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Rm9ybWF0dGVkRmlsZVNpemUoc2l6ZTogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gZm9ybWF0VG9CeXRlcyhzaXplLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGb3JtYXR0ZWRUb3RhbEZpbGVzU2l6ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy5maWxlcy5yZWR1Y2UoKGFjYywgZmlsZSkgPT4gYWNjICsgZmlsZS5zaXplLCAwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRvQnl0ZXModG90YWwsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZvcm1hdHRlZFNpemVMaW1pdCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBmb3JtYXRUb0J5dGVzKHRoaXMuc2l6ZUxpbWl0LCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLSBtaW1lIHR5cGVzXHJcblxyXG4gICAgc2V0QWNjZXB0ZWRNaW1lVHlwZXMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hY2NlcHRlZE1pbWVUeXBlcyA9XHJcbiAgICAgICAgICAgIHRoaXMuYWNjZXB0ZWRGaWxlVHlwZXMgIT09ICcnXHJcbiAgICAgICAgICAgICAgICA/IFtcclxuICAgICAgICAgICAgICAgICAgICAgIC4uLm5ldyBTZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5taW1lVHlwZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKFtrZXldKSA9PiB0aGlzLmFjY2VwdGVkRmlsZVR5cGVzLmluZGV4T2Yoa2V5KSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGl0ZW0gPT4gaXRlbVsxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICA6IFsuLi5uZXcgU2V0KE9iamVjdC5lbnRyaWVzKHRoaXMubWltZVR5cGVzKS5tYXAoaXRlbSA9PiBpdGVtWzFdKSldO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLSBmaWxlTGlzdCBjaGVja3NcclxuXHJcbiAgICBjaGVja0ZpbGVUeXBlKHR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFjY2VwdGVkTWltZVR5cGVzLmluZGV4T2YodHlwZSkgPiAtMTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja0ZpbGVMaW1pdChsZW5ndGg6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiArdGhpcy5maWxlTGltaXQgPiAwICYmICt0aGlzLmZpbGVMaW1pdCA8PSBsZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tGaWxlTGltaXRSZWFjaGVkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZmlsZUxpbWl0UmVhY2hlZCA9IHRoaXMuY2hlY2tGaWxlTGltaXQodGhpcy5maWxlcy5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrU2l6ZUxpbWl0KGxpc3Q6IEFycmF5PEZpbGU+LCBzaXplOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCB0b3RhbCA9IGxpc3QucmVkdWNlKChhY2MsIGZpbGUpID0+IGFjYyArIGZpbGUuc2l6ZSwgMCk7XHJcblxyXG4gICAgICAgIHJldHVybiArdGhpcy5zaXplTGltaXQgPiAwID8gdG90YWwgKyBzaXplID4gK3RoaXMuc2l6ZUxpbWl0IDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tTaXplTGltaXRSZWFjaGVkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2l6ZUxpbWl0UmVhY2hlZCA9IHRoaXMuY2hlY2tTaXplTGltaXQodGhpcy5maWxlcywgNTAwMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja0R1cGxpY2F0ZXMobGlzdDogQXJyYXk8RmlsZT4sIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBsaXN0LmZpbmQoaXRlbSA9PiBpdGVtLm5hbWUgPT09IG5hbWUpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLSBmaWxlbGlzdCB1cGRhdGVzXHJcblxyXG4gICAgcmVtb3ZlRmlsZShmaWxlbmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5maWxlcyA9IEFycmF5LmZyb20odGhpcy5maWxlcykuZmlsdGVyKGl0ZW0gPT4gaXRlbS5uYW1lICE9PSBmaWxlbmFtZSk7XHJcbiAgICAgICAgdGhpcy5jaGVja0ZpbGVMaW1pdFJlYWNoZWQoKTtcclxuICAgICAgICB0aGlzLmNoZWNrU2l6ZUxpbWl0UmVhY2hlZCgpO1xyXG4gICAgICAgIHRoaXMuZmlsZXNFbWl0dGVyLmVtaXQodGhpcy5maWxlcyk7XHJcbiAgICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgfVxyXG4gICAgLy8gLm1zZy9vdGYgZm9ybWF0cyBhcmUgbm90IHJlY29nbml6ZWQgYnkgYnJvd3NlcnMgeWV0IGxlYXZpbmcgdGhlaXIgbWltZXR5cGVzIGVtcHR5XHJcbiAgICBnZXRGaWxlVHlwZUZyb21OYW1lKGZpbGVuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoZmlsZW5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnLm1zZycpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbWVUeXBlc1snLm1zZyddO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZW5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnLm9mdCcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbWVUeXBlc1snLm9mdCddO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEZpbGVzKGZpbGVzOiBGaWxlTGlzdCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGRhdGFUcmFuc2ZlciA9IG5ldyBEYXRhVHJhbnNmZXIoKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBjdXJyZW50RmlsZSBvZiBBcnJheS5mcm9tKHRoaXMuZmlsZXMpKSB7XHJcbiAgICAgICAgICAgIGRhdGFUcmFuc2Zlci5pdGVtcy5hZGQoY3VycmVudEZpbGUgYXMgdW5rbm93biBhcyBGaWxlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChmaWxlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIEFycmF5LmZyb20oZmlsZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlTGltaXQgPSB0aGlzLmNoZWNrRmlsZUxpbWl0KGRhdGFUcmFuc2Zlci5pdGVtcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZVR5cGUgPSB0aGlzLmNoZWNrRmlsZVR5cGUoXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZS50eXBlIHx8IHRoaXMuZ2V0RmlsZVR5cGVGcm9tTmFtZShmaWxlLm5hbWUpLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVMaW1pdCA9IHRoaXMuY2hlY2tTaXplTGltaXQoQXJyYXkuZnJvbShkYXRhVHJhbnNmZXIuZmlsZXMpLCBmaWxlLnNpemUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZHVwbGljYXRlID0gdGhpcy5jaGVja0R1cGxpY2F0ZXMoQXJyYXkuZnJvbShkYXRhVHJhbnNmZXIuZmlsZXMpLCBmaWxlLm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChmaWxlTGltaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0TW9kYWwuc2hvdyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhbGl6ZWA6QEBBRFNVSUZpbGVFcnJvckxpbWl0OiBZb3UndmUgcmVhY2hlZCB0aGUgbWF4aW11bSBhbW91bnQgb2YgZmlsZXNgLFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFmaWxlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRNb2RhbC5zaG93KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2FsaXplYDpAQEFEU1VJRmlsZUVycm9yVHlwZTogRmlsZSBmb3JtYXQgbm90IHN1cHBvcnRlZGAsXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2l6ZUxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGVydE1vZGFsLnNob3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9jYWxpemVgOkBAQURTVUlGaWxlRXJyb3JTaXplOiBGaWxlIHNpemUgZXhjZWVkcyB0aGUgbWF4aW11bSBsaW1pdGAsXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZHVwbGljYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGVydE1vZGFsLnNob3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9jYWxpemVgOkBAQURTVUlGaWxlRXJyb3JEdXBsaWNhdGU6IEEgZHVwbGljYXRlIGZpbGUgaGFzIGJlZW4gZGV0ZWN0ZWRgLFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUcmFuc2Zlci5pdGVtcy5hZGQoZmlsZSBhcyB1bmtub3duIGFzIEZpbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmZpbGVzID0gQXJyYXkuZnJvbShkYXRhVHJhbnNmZXIuZmlsZXMpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tGaWxlTGltaXRSZWFjaGVkKCk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NpemVMaW1pdFJlYWNoZWQoKTtcclxuICAgICAgICB0aGlzLmZpbGVzRW1pdHRlci5lbWl0KHRoaXMuZmlsZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tIFZpZXcgSW5pdFxyXG5cclxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVtb3ZlQWxsRmlsZXNFbWl0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUFsbEZpbGVzRW1pdHRlci5waXBlKHVudGlsRGVzdHJveWVkKHRoaXMpKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZXMuZm9yRWFjaChmaWxlID0+IHRoaXMucmVtb3ZlRmlsZShmaWxlLm5hbWUpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QWNjZXB0ZWRNaW1lVHlwZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5kcm9wem9uZUVsZW1lbnQgPSB0aGlzLmRyb3B6b25lLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRFbGVtZW50ID0gdGhpcy5maWxlSW5wdXQubmF0aXZlRWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgIGZyb21FdmVudDxLZXlib2FyZEV2ZW50Pih0aGlzLmlucHV0RWxlbWVudCwgJ2ZvY3VzJylcclxuICAgICAgICAgICAgICAgIC5waXBlKFxyXG4gICAgICAgICAgICAgICAgICAgIHVudGlsRGVzdHJveWVkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcigoKSA9PiAhdGhpcy5maWxlTGltaXRSZWFjaGVkKSxcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9jdXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnJvbUV2ZW50PEtleWJvYXJkRXZlbnQ+KHRoaXMuaW5wdXRFbGVtZW50LCAnYmx1cicpXHJcbiAgICAgICAgICAgICAgICAucGlwZShcclxuICAgICAgICAgICAgICAgICAgICB1bnRpbERlc3Ryb3llZCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIoKCkgPT4gIXRoaXMuZmlsZUxpbWl0UmVhY2hlZCksXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmcm9tRXZlbnQ8S2V5Ym9hcmRFdmVudD4odGhpcy5pbnB1dEVsZW1lbnQsICdjaGFuZ2UnKVxyXG4gICAgICAgICAgICAgICAgLnBpcGUoXHJcbiAgICAgICAgICAgICAgICAgICAgdW50aWxEZXN0cm95ZWQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyKCgpID0+ICF0aGlzLmZpbGVMaW1pdFJlYWNoZWQpLFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ292ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dEVsZW1lbnQuZmlsZXM/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEZpbGVzKHRoaXMuaW5wdXRFbGVtZW50LmZpbGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmcm9tRXZlbnQ8RHJhZ0V2ZW50Pih0aGlzLmRyb3B6b25lRWxlbWVudCwgJ2RyYWdvdmVyJylcclxuICAgICAgICAgICAgICAgIC5waXBlKHVudGlsRGVzdHJveWVkKHRoaXMpKVxyXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmZpbGVMaW1pdFJlYWNoZWQgJiYgIXRoaXMuc2l6ZUxpbWl0UmVhY2hlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdvdmVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmcm9tRXZlbnQ8RHJhZ0V2ZW50Pih0aGlzLmRyb3B6b25lRWxlbWVudCwgJ2RyYWdsZWF2ZScpXHJcbiAgICAgICAgICAgICAgICAucGlwZSh1bnRpbERlc3Ryb3llZCh0aGlzKSlcclxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ292ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZyb21FdmVudDxEcmFnRXZlbnQ+KHRoaXMuZHJvcHpvbmVFbGVtZW50LCAnZHJhZ2VuZCcpXHJcbiAgICAgICAgICAgICAgICAucGlwZSh1bnRpbERlc3Ryb3llZCh0aGlzKSlcclxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ292ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZyb21FdmVudDxEcmFnRXZlbnQ+KHRoaXMuZHJvcHpvbmVFbGVtZW50LCAnZHJvcCcpXHJcbiAgICAgICAgICAgICAgICAucGlwZSh1bnRpbERlc3Ryb3llZCh0aGlzKSlcclxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ292ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXI/LmZpbGVzLmxlbmd0aCAmJiAhdGhpcy5maWxlTGltaXRSZWFjaGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRmlsZXMoZXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0TW9kYWwuc2hvdyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2FsaXplYDpAQEFEU1VJRmlsZUVycm9yTGltaXQ6IFlvdSd2ZSByZWFjaGVkIHRoZSBtYXhpbXVtIGFtb3VudCBvZiBmaWxlc2AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZyb21FdmVudDxLZXlib2FyZEV2ZW50Pih0aGlzLmRyb3B6b25lRWxlbWVudCwgJ2NsaWNrJylcclxuICAgICAgICAgICAgICAgIC5waXBlKFxyXG4gICAgICAgICAgICAgICAgICAgIHVudGlsRGVzdHJveWVkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcigoKSA9PiAhdGhpcy5maWxlTGltaXRSZWFjaGVkICYmICF0aGlzLnNpemVMaW1pdFJlYWNoZWQpLFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnY2xpY2snKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tIFRyYWNrIGluZGV4XHJcblxyXG4gICAgdHJhY2tCeUluZGV4KGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxufVxyXG4iLCI8c2VjdGlvbiBjbGFzcz1cImFkcy1mb3JtLWZpbGUtaW5wdXRcIj5cclxuICAgIDxkaXZcclxuICAgICAgICAjZHJvcHpvbmVcclxuICAgICAgICBjbGFzcz1cImFkcy1mb3JtLWZpbGUtaW5wdXRfZHJvcHpvbmUge3sgY3NzIH19XCJcclxuICAgICAgICBbbmdDbGFzc109XCJ7XHJcbiAgICAgICAgICAgICdoYXMtZm9jdXMnOiBmb2N1cyxcclxuICAgICAgICAgICAgJ2hhcy1zdGF0dXMtZHJhZ292ZXInOiBkcmFnb3ZlcixcclxuICAgICAgICAgICAgJ2hhcy1yZWFjaGVkLWxpbWl0JzogZmlsZUxpbWl0UmVhY2hlZCB8fCBzaXplTGltaXRSZWFjaGVkLFxyXG4gICAgICAgICAgICAnaXMtZGlzYWJsZWQnOiBkaXNhYmxlZCxcclxuICAgICAgICB9XCJcclxuICAgID5cclxuICAgICAgICA8YWRzLWljb24gdHlwZT1cImF2X2N1c3RvbV9jbG91ZF91cGxvYWRcIiBjb2xvcj1cInByaW1hcnlcIiBsYWJlbD1cImljb25cIiBzaXplPVwiaHVnZVwiPjwvYWRzLWljb24+XHJcbiAgICAgICAgPGxhYmVsIGZvcj1cImFkcy1mb3JtLWZpbGUtaW5wdXQte3sgaWQgfX1cIj5cclxuICAgICAgICAgICAge3sgbGFiZWwgfX1cclxuICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgIDxzcGFuPnt7IGRlc2NyaXB0aW9uIH19PC9zcGFuPlxyXG4gICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAjZmlsZUlucHV0XHJcbiAgICAgICAgICAgIGNsYXNzPVwiYWRzLWZvcm0tZmlsZS1pbnB1dF9mb3JtLWVsZW1lbnRcIlxyXG4gICAgICAgICAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgICAgIG11bHRpcGxlXHJcbiAgICAgICAgICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXHJcbiAgICAgICAgICAgIGlkPVwiYWRzLWZvcm0tZmlsZS1pbnB1dC17eyBpZCB9fVwiXHJcbiAgICAgICAgLz5cclxuICAgIDwvZGl2PlxyXG4gICAgPHVsICpuZ0lmPVwiZmlsZXMubGVuZ3RoID4gMFwiIGNsYXNzPVwiYWRzLWZvcm0tZmlsZS1pbnB1dF9maWxlcyBhZHMtZngtYXBwZWFyLWZhc3RcIj5cclxuICAgICAgICA8bGlcclxuICAgICAgICAgICAgKm5nRm9yPVwibGV0IGZpbGUgb2YgZmlsZXM7IHRyYWNrQnk6IHRyYWNrQnlJbmRleFwiXHJcbiAgICAgICAgICAgIHJvbGU9XCJwcmVzZW50YXRpb25cIlxyXG4gICAgICAgICAgICBjbGFzcz1cImFkcy1meC1hcHBlYXItZmFzdFwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgICA8YWRzLWNoaXBcclxuICAgICAgICAgICAgICAgIGNzcz1cImRpc3BsYXktYXMtZmlsZVwiXHJcbiAgICAgICAgICAgICAgICBbbGFiZWxdPVwiZmlsZS5uYW1lXCJcclxuICAgICAgICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICBzaXplPVwicmVndWxhclwiXHJcbiAgICAgICAgICAgICAgICBbc3VibGFiZWxdPVwiZ2V0Rm9ybWF0dGVkRmlsZVNpemUoZmlsZS5zaXplKVwiXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVsZXRhYmxlXCJcclxuICAgICAgICAgICAgICAgIFtpY29uXT1cImdldEZpbGVJY29uKGZpbGUudHlwZSlcIlxyXG4gICAgICAgICAgICAgICAgKGNsaWNrRW1pdHRlcik9XCJyZW1vdmVGaWxlKGZpbGUubmFtZSlcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDwvYWRzLWNoaXA+XHJcbiAgICAgICAgPC9saT5cclxuICAgIDwvdWw+XHJcbjwvc2VjdGlvbj5cclxuPHNlY3Rpb24gY2xhc3M9XCJhZHMtZm9ybS1maWxlLWlucHV0X2RldGFpbHNcIj5cclxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJmaWxlcy5sZW5ndGggPiAwXCI+XHJcbiAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgY2xhc3M9XCJhZHMtZm9ybS1maWxlLWlucHV0X2RldGFpbHMtZmlsZXNpemVcIlxyXG4gICAgICAgICAgICBbbmdDbGFzc109XCJ7XHJcbiAgICAgICAgICAgICAgICAnaGFzLXJlYWNoZWQtbGltaXQnOiBzaXplTGltaXRSZWFjaGVkXHJcbiAgICAgICAgICAgIH1cIlxyXG4gICAgICAgICAgICA+e3sgZ2V0Rm9ybWF0dGVkVG90YWxGaWxlc1NpemUoKVxyXG4gICAgICAgICAgICB9fTxzcGFuICpuZ0lmPVwic2l6ZUxpbWl0ID4gMFwiPiAvIHt7IGdldEZvcm1hdHRlZFNpemVMaW1pdCgpIH19PC9zcGFuPjwvc3BhblxyXG4gICAgICAgID5cclxuICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICBjbGFzcz1cImFkcy1mb3JtLWZpbGUtaW5wdXRfZGV0YWlscy1uci1vZi1maWxlc1wiXHJcbiAgICAgICAgICAgIFtuZ0NsYXNzXT1cIntcclxuICAgICAgICAgICAgICAgICdoYXMtcmVhY2hlZC1saW1pdCc6IGZpbGVMaW1pdFJlYWNoZWRcclxuICAgICAgICAgICAgfVwiXHJcbiAgICAgICAgICAgID57eyBmaWxlcy5sZW5ndGggfX1cclxuICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJmaWxlTGltaXQgPiAwXCI+IC8ge3sgZmlsZUxpbWl0IH19PC9zcGFuPlxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgIDwvbmctY29udGFpbmVyPlxyXG48L3NlY3Rpb24+XHJcbjxhZHMtY29uZmlybWF0aW9uLWJveCBbdHlwZV09XCInYWxlcnQnXCIgI2FsZXJ0TW9kYWw+PC9hZHMtY29uZmlybWF0aW9uLWJveD5cclxuIl19