import { __decorate, __metadata } from "tslib";
/* eslint-disable @typescript-eslint/no-explicit-any */
/* eslint-disable functional/immutable-data */
import { DOCUMENT } from '@angular/common';
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Inject, Input, Output, } from '@angular/core';
import { NavigationEnd, Router } from '@angular/router';
import { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';
import { filter, fromEvent } from 'rxjs';
import { getObjectPath } from '../../utils';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@angular/common";
import * as i3 from "../icon/icon.component";
let ADSNavigationToolbarComponent = class ADSNavigationToolbarComponent {
    constructor(document, router, cdr) {
        this.document = document;
        this.router = router;
        this.cdr = cdr;
        this.clickEmitter = new EventEmitter();
        this.labelToggle = 'Toggle menu';
        this.labelClose = 'Close menu';
        this.expandMainMenu = false;
        this.expandSubMenu = false;
        this.userPath = [];
        this.routerPath = [];
        this.router.events.subscribe((event) => {
            if (event instanceof NavigationEnd) {
                this.checkRouterChange(event.url.toLowerCase());
            }
        });
    }
    // --- Menu-bar
    toggleMenu() {
        if (!this.expandMainMenu && !this.expandSubMenu) {
            this.expandMainMenu = true;
        }
        else {
            this.closeMenu();
        }
    }
    openSubMenu() {
        if (!this.expandSubMenu) {
            this.expandSubMenu = true;
        }
    }
    closeMenu() {
        this.expandSubMenu = false;
        this.expandMainMenu = false;
        this.userPath = this.routerPath;
        this.cdr.detectChanges();
    }
    focusCheck(target, event = undefined) {
        const targetDetection = !target.closest('.ads-navigation-toolbar') === false ||
            !target.closest('.ads-navigation-toolbar_toggle') === false;
        if (!targetDetection) {
            if (this.expandSubMenu || this.expandMainMenu) {
                this.closeMenu();
            }
        }
        else {
            if (event && event.key === "Tab" /* ADSKeyEvents.KEY_TAB */) {
                const url = target.getAttribute('data-url') ?? '';
                const path = getObjectPath(this.navigation, url, 'url');
                const item = path[path.length - 1];
                const parent = this.userPath[this.userPath.length - 1];
                if (parent && parent.children && item && parent.children.indexOf(item) === -1) {
                    this.moveOneLevelUp(event);
                    this.cdr.detectChanges();
                }
            }
        }
    }
    // --- Menu-items
    menuItemSelect(item, event) {
        this.userPath = getObjectPath(this.navigation, item.url, 'url');
        this.openSubMenu();
        if (event) {
            if (event.type === 'click') {
                const evt = event;
                if (evt.pointerId === -1) {
                    this.menuItemFocus(item);
                }
            }
            if (event.type === 'keyup') {
                const evt = event;
                if (!evt.shiftKey && !item.root) {
                    this.menuItemFocus(item);
                }
            }
        }
    }
    moveOneLevelUp(event) {
        event.preventDefault();
        event.stopPropagation();
        this.userPath.pop();
    }
    menuItemFocus(item) {
        const [firstChild] = item?.children ?? [];
        const menuitem = this.document.querySelector(`[data-url="${firstChild.url ?? ''}"]`);
        if (menuitem) {
            setTimeout(() => menuitem.focus(), 10);
        }
    }
    menuItemInUserPath(item) {
        return this.userPath.find(path => path.url === item.url) ? true : false;
    }
    menuItemInRouterPath(item) {
        return this.routerPath.find(path => path.url === item.url) ? true : false;
    }
    menuItemHasChildren(item) {
        return item?.children ? item.children.length > 0 : false;
    }
    menuItemHasVisibleSubmenu(item) {
        const lastItem = this.userPath[this.userPath.length - 1];
        return this.userPath.find(path => path?.url === item.url) &&
            item.url !== (lastItem?.url ?? '')
            ? true
            : false;
    }
    // --- Router
    checkRouterChange(url) {
        if (this.navigation) {
            this.closeMenu();
            this.routerPath = getObjectPath(this.navigation, url, 'url');
            this.userPath = this.routerPath;
            this.cdr.detectChanges();
        }
        this.routerUrl = url;
    }
    // --- click events
    clickEvent() {
        this.clickEmitter.emit();
    }
    ngAfterViewInit() {
        fromEvent(this.document, 'click')
            .pipe(untilDestroyed(this), filter(() => this.expandMainMenu || this.expandSubMenu))
            .subscribe((event) => this.focusCheck(event.target));
        fromEvent(this.document, 'keydown')
            .pipe(untilDestroyed(this), filter((event) => this.expandSubMenu &&
            (event.key === "ArrowDown" /* ADSKeyEvents.KEY_ARROW_DOWN */ ||
                event.key === "ArrowUp" /* ADSKeyEvents.KEY_ARROW_UP */ ||
                event.key === "Escape" /* ADSKeyEvents.KEY_ESCAPE */)))
            .subscribe((event) => {
            if (event.key === "ArrowDown" /* ADSKeyEvents.KEY_ARROW_DOWN */ ||
                event.key === "ArrowUp" /* ADSKeyEvents.KEY_ARROW_UP */) {
                event.preventDefault();
            }
            if (event.key === "Escape" /* ADSKeyEvents.KEY_ESCAPE */) {
                this.closeMenu();
            }
        });
        fromEvent(this.document, 'keyup')
            .pipe(untilDestroyed(this), filter((event) => event.key === "Tab" /* ADSKeyEvents.KEY_TAB */))
            .subscribe((event) => this.focusCheck(event.target, event));
        this.checkRouterChange(this.router.url);
    }
    // --- Misc
    trackByIndex(index) {
        return index;
    }
    ngOnChanges(changes) {
        const { navigation } = changes;
        if (navigation) {
            this.navigation = navigation.currentValue;
            this.navigation.forEach((item) => {
                item.root = true;
            });
            this.routerPath = getObjectPath(this.navigation, this.routerUrl, 'url');
            this.userPath = this.routerPath;
            this.cdr.detectChanges();
        }
    }
};
ADSNavigationToolbarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.6", ngImport: i0, type: ADSNavigationToolbarComponent, deps: [{ token: DOCUMENT }, { token: i1.Router }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });
ADSNavigationToolbarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.6", type: ADSNavigationToolbarComponent, selector: "ads-navigation-toolbar", inputs: { labelToggle: "labelToggle", labelClose: "labelClose", navigation: "navigation" }, outputs: { clickEmitter: "clickEmitter" }, usesOnChanges: true, ngImport: i0, template: "<!-- Hamburger -->\r\n<div class=\"ads-navigation-toolbar_toggle\">\r\n    <button\r\n        class=\"ads-toolbar-hamburger\"\r\n        [title]=\"labelToggle\"\r\n        (click)=\"toggleMenu()\"\r\n        [ngClass]=\"{\r\n            'is-expanded': expandMainMenu || expandSubMenu\r\n        }\"\r\n    >\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n        <p class=\"screen-reader-only\">{{ labelToggle }}</p>\r\n    </button>\r\n</div>\r\n\r\n<div class=\"ads-navigation-toolbar_dimmer\" *ngIf=\"expandMainMenu\"></div>\r\n\r\n<section\r\n    class=\"ads-navigation-toolbar\"\r\n    [ngClass]=\"{\r\n        'is-expanded': expandMainMenu\r\n    }\"\r\n>\r\n    <!-- Path breadcrumbs -->\r\n    <div class=\"ads-navigation-toolbar_path\">\r\n        <span *ngIf=\"userPath.length < 1\">&nbsp;</span>\r\n        <button *ngIf=\"userPath.length >= 1\" (click)=\"moveOneLevelUp($event)\">\r\n            <ads-icon type=\"av_custom_chevron_left\" size=\"small\" css=\"mr-2 mb-1\"></ads-icon>\r\n            <ng-container *ngFor=\"let crumb of userPath; index as i; trackBy: trackByIndex\">\r\n                <ng-container *ngIf=\"i !== userPath.length\">../</ng-container>\r\n                <ng-container *ngIf=\"i === userPath.length - 1\">{{ crumb.label }}</ng-container>\r\n            </ng-container>\r\n        </button>\r\n    </div>\r\n\r\n    <!-- Navigation  -->\r\n    <nav class=\"ads-navigation-toolbar_menu\">\r\n        <ul\r\n            id=\"ads-navigation-toolbar-root\"\r\n            *ngIf=\"navigation\"\r\n            [ngClass]=\"{\r\n                'has-visible-submenu': userPath.length >= 1\r\n            }\"\r\n        >\r\n            <ng-container\r\n                *ngTemplateOutlet=\"navigationBar; context: { $implicit: navigation }\"\r\n            ></ng-container>\r\n        </ul>\r\n    </nav>\r\n</section>\r\n\r\n<!-- Navigation template  -->\r\n<ng-template #navigationBar let-navigation>\r\n    <li *ngFor=\"let menuitem of navigation; trackBy: trackByIndex\">\r\n        <!-- Menu item does not have children: Link -->\r\n        <ng-container *ngIf=\"!menuItemHasChildren(menuitem)\">\r\n            <ng-container\r\n                *ngTemplateOutlet=\"navigationLink; context: { $implicit: menuitem }\"\r\n            ></ng-container>\r\n        </ng-container>\r\n\r\n        <!-- Menu item has children: Button & children -->\r\n        <ng-container *ngIf=\"menuItemHasChildren(menuitem)\">\r\n            <ng-container\r\n                *ngTemplateOutlet=\"navigationButton; context: { $implicit: menuitem }\"\r\n            ></ng-container>\r\n            <ul\r\n                [attr.aria-hidden]=\"!menuItemInUserPath(menuitem) || !expandSubMenu\"\r\n                [attr.aria-expanded]=\"menuItemInUserPath(menuitem) && expandSubMenu\"\r\n                [attr.aria-label]=\"menuitem.label\"\r\n                [ngClass]=\"{\r\n                    'has-visible-submenu': menuItemHasVisibleSubmenu(menuitem) && expandSubMenu\r\n                }\"\r\n            >\r\n                <ng-container\r\n                    *ngTemplateOutlet=\"navigationBar; context: { $implicit: menuitem.children }\"\r\n                ></ng-container>\r\n            </ul>\r\n        </ng-container>\r\n    </li>\r\n</ng-template>\r\n\r\n<ng-template #navigationButton let-menuitem>\r\n    <button\r\n        type=\"button\"\r\n        aria-haspopup=\"true\"\r\n        [title]=\"menuitem.label\"\r\n        [class]=\"menuitem.root ? 'ads-toolbar-menu-item' : 'ads-toolbar-submenu-item'\"\r\n        [attr.data-url]=\"menuitem.url\"\r\n        [attr.data-root]=\"menuitem.root\"\r\n        [ngClass]=\"{\r\n            'is-selected': menuItemInUserPath(menuitem)\r\n        }\"\r\n        (click)=\"menuItemSelect(menuitem, $event)\"\r\n    >\r\n        <ads-icon *ngIf=\"menuitem?.icon\" [type]=\"menuitem.icon\" size=\"sub-menu\"></ads-icon>\r\n        <span>{{ menuitem.label }}</span>\r\n        <ads-icon type=\"av_custom_chevron_right\" size=\"extra-small\"></ads-icon>\r\n    </button>\r\n</ng-template>\r\n\r\n<ng-template #navigationLink let-menuitem>\r\n    <a\r\n        [title]=\"menuitem.label\"\r\n        [class]=\"menuitem.root ? 'ads-toolbar-menu-item' : 'ads-toolbar-submenu-item'\"\r\n        [ngClass]=\"{\r\n            'is-selected': menuItemInUserPath(menuitem),\r\n            'is-expanded': expandMainMenu\r\n        }\"\r\n        [attr.data-url]=\"menuitem.url\"\r\n        [routerLink]=\"menuitem.url\"\r\n        [routerLink]=\"menuitem.url\"\r\n        [routerLinkActive]=\"'is-current-page'\"\r\n        [routerLinkActiveOptions]=\"{ exact: true }\"\r\n    >\r\n        <ads-icon *ngIf=\"menuitem?.icon\" [type]=\"menuitem.icon\" size=\"sub-menu\"></ads-icon>\r\n        <span>{{ menuitem.label }}</span>\r\n    </a>\r\n</ng-template>\r\n", styles: [":root{--ads-color-white: #fff;--ads-color-white_foreground: #000;--ads-color-gray-6: #f0f0f0;--ads-color-gray-6_foreground: #000;--ads-color-gray-12: #e0e0e0;--ads-color-gray-12_foreground: #000;--ads-color-gray-20: #cccccc;--ads-color-gray-20_foreground: #000;--ads-color-gray-50: gray;--ads-color-gray-50_foreground: #fff;--ads-color-gray-70: #4d4d4d;--ads-color-gray-70_foreground: #fff;--ads-color-gray-85: #262626;--ads-color-gray-85_foreground: #fff;--ads-color-black: #000;--ads-color-black_foreground: #fff;--ads-color-error: #d21e36;--ads-color-error_hover: #a5182b;--ads-color-error-background: #fceaea;--ads-color-info: #1e236e;--ads-color-info-background: var(--ads-color-gray-6);--ads-color-success: #01964c;--ads-color-success_hover: #016332;--ads-color-success-background: #eaf6eb;--ads-color-warning: #ef7d00;--ads-color-warning-background: #fff7ef;--ads-color-notification: #ffd900;--ads-color-notification-background: #fffdf0;--ads-color-primary: #1e236e;--ads-color-primary-40: #a5a7c5;--ads-color-primary-65: #6e71a2;--ads-color-primary-foreground: #fff;--ads-color-primary_active: #0a0c26;--ads-color-primary_active-foreground: #fff;--ads-color-primary_focus: #0f1136;--ads-color-primary_focus-foreground: #fff;--ads-color-primary_hover: #131646;--ads-color-primary_hover-foreground: #fff;--ads-color-secondary: #00d7e7;--ads-color-secondary-40: #9aeff5;--ads-color-secondary-65: #5ae5ef;--ads-color-secondary-foreground: #fff;--ads-color-secondary_active: #00828b;--ads-color-secondary_active-foreground: #fff;--ads-color-secondary_focus: #0095a0;--ads-color-secondary_focus-foreground: #fff;--ads-color-secondary_hover: #00a8b4;--ads-color-secondary_hover-foreground: #fff;--ads-color-accent: #ff6d6a;--ads-color-accent-40: #ffc5c3;--ads-color-accent-65: #ffa19f;--ads-color-accent-foreground: #fff;--ads-color-accent_active: #ff5451;--ads-color-accent_active-foreground: #fff;--ads-color-accent_hover: #ff3b37;--ads-color-accent_hover-foreground: #fff;--ads-color-accent_focus: #ff221e;--ads-color-accent_focus-foreground: #fff;--ads-color-disabled: #e0e0e0;--ads-color-disabled-foreground: gray;--ads-color-app: #fff;--ads-color-app-text: #262626;--ads-color-app-navigation: #1e236e;--ads-color-app-navigation-divider: #6e71a2;--ads-color-app-navigation-menu-item-foreground: #fff;--ads-color-app-navigation-menu-item-background: #1e236e;--ads-color-app-navigation-menu-item-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-background_hover: #1e236e;--ads-color-app-navigation-menu-item-foreground_focus: #fff;--ads-color-app-navigation-menu-item-background_focus: #fff;--ads-color-app-navigation-menu-item-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-background_selected: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground: #fff;--ads-color-app-navigation-menu-item-icon-background: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_hover: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-menu-item-icon-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_selected: #1e236e;--ads-color-app-navigation-toolbar: #fff;--ads-color-app-navigation-toolbar-divider: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_selected: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_selected: #f0f0f0;--ads-color-solid-gradient-primary-to-accent: linear-gradient(90deg, #1e236e 0%, #ff6d6a 100%);--ads-color-solid-gradient-secondary-to-accent: linear-gradient(-170deg, rgba(0, 215, 231, 0) 60%, #00d7e7 125%), linear-gradient(170deg, #ff6d6a 60%, #ff6d6a 125%);--ads-color-solid-gradient-accent-to-secondary-to-primary: linear-gradient(90deg, #ff6d6a 0%, #00d7e7 50%, #1e236e 100%);--ads-color-solid-gradient-gray-to-primary: linear-gradient(90deg, #e0e0e0 0%, #a5a7c5 100%);--ads-color-image-gradient-primary-to-accent: linear-gradient(90deg, rgba(30, 35, 110, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-primary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(30, 35, 110, .7) 100%);--ads-color-image-gradient-secondary-to-accent: linear-gradient(90deg, rgba(0, 215, 231, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-secondary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(0, 215, 231, .7) 100%);--ads-color-image-gradient-mask: linear-gradient(to bottom, rgba(0,0,0,0) 48%, rgba(0,0,0,.5) 80%, rgba(0,0,0,1) 100%);--ads-color-image-gradient-darken-bottom: linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .1) 40%, rgba(0, 0, 0, .4) 100%);--ads-color-app-gradient-secondary-to-accent: linear-gradient(160deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .4) 90%), linear-gradient(220deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 60%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-large: linear-gradient(170deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .5) 90%), linear-gradient(210deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 70%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-foreground: #fff;--ads-color-app-gradient-primary-to-accent: linear-gradient(200deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .7) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 60%, rgba(30, 35, 110, .4) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-large: linear-gradient(190deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .6) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 70%, rgba(30, 35, 110, .5) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-foreground: #1e236e;--ads-color-app-gradient-primary-inverted: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 60%, rgba(255, 109, 106, .4) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 65%, rgba(0, 215, 231, .45) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-large: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 75%, rgba(255, 109, 106, .05) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 75%, rgba(0, 215, 231, .02) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-foreground: #1e236e;--ads-ring_active: 0 0 0 2px #fff, 0 0 0 5px #1e236e;--ads-ring_focus: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_hover: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_transparent: 0 0 0 2px transparent, 0 0 0 3px transparent;--ads-ring_focus-inset: inset 0 0 0 2px #fff, inset 0 0 0 3px #1e236e;--ads-ring_focus-inset-inverted: inset 0 0 0 2px #1e236e, inset 0 0 0 4px #fff;--ads-ring-focus-with-contextmenu: 0 0 0 1px #fff, 0 0 0 2px #555cd1, 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-0: 0 0 0 0 rgba(0, 0, 0, 0);--ads-shadow-depth-1: 0 .4px .4px rgba(0, 0, 0, .05), 0 1px 1px rgba(0, 0, 0, .036), 0 1.9px 1.9px rgba(0, 0, 0, .03), 0 3.4px 3.4px rgba(0, 0, 0, .025), 0 6.3px 6.3px rgba(0, 0, 0, .02), 0 15px 15px rgba(0, 0, 0, .014);--ads-shadow-depth-2: 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-3: 0 .7px .7px rgba(0, 0, 0, .017), 0 1.7px 1.7px rgba(0, 0, 0, .024), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .036), 0 10.4px 10.4px rgba(0, 0, 0, .043), 0 25px 25px rgba(0, 0, 0, .06);--ads-shadow-depth-4: 0 1px 1px rgba(0, 0, 0, .014), 0 2.3px 2.3px rgba(0, 0, 0, .02), 0 4.4px 4.4px rgba(0, 0, 0, .025), 0 7.8px 7.8px rgba(0, 0, 0, .03), 0 14.6px 14.6px rgba(0, 0, 0, .036), 0 35px 35px rgba(0, 0, 0, .05);--ads-shadow-depth-5: 0 1.2px 1.2px rgba(0, 0, 0, .014), 0 3px 3px rgba(0, 0, 0, .02), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.1px 10.1px rgba(0, 0, 0, .03), 0 18.8px 18.8px rgba(0, 0, 0, .036), 0 45px 45px rgba(0, 0, 0, .05);--ads-shadow-depth-6: 0 .9px .9px rgba(0, 0, 0, .011), 0 1.9px 1.9px rgba(0, 0, 0, .016), 0 3.2px 3.2px rgba(0, 0, 0, .019), 0 4.8px 4.8px rgba(0, 0, 0, .022), 0 6.9px 6.9px rgba(0, 0, 0, .025), 0 9.7px 9.7px rgba(0, 0, 0, .028), 0 13.8px 13.8px rgba(0, 0, 0, .031), 0 20.1px 20.1px rgba(0, 0, 0, .034), 0 30.9px 30.9px rgba(0, 0, 0, .039), 0 55px 55px rgba(0, 0, 0, .05)}.ads-navigation-toolbar{position:fixed;z-index:60;top:0;left:auto;width:85vw;height:calc(100vh - 4rem);display:flex;right:0;flex-direction:row;background-color:var(--ads-color-app-navigation-toolbar);box-shadow:var(--ads-shadow-depth-2);transform:translate(100%);transition:transform .3s cubic-bezier(.455,.03,.515,.955)}.ads-navigation-toolbar.is-expanded{transform:translate(0)}@media (min-width: 1200px){.ads-navigation-toolbar{position:relative;top:0;left:0;width:100%;height:auto;flex-direction:row;background-color:transparent;box-shadow:none;transform:none}.ads-navigation-toolbar:before{display:none}}nav.ads-navigation-toolbar_menu{position:relative;display:block;width:100%;height:100%;flex:none;margin:0;overflow-x:hidden}nav.ads-navigation-toolbar_menu ul{display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;position:absolute;left:100vw;width:85vw;top:0;list-style:none;padding:0 1rem 1rem;transition:left .3s cubic-bezier(.455,.03,.515,.955)}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root{top:5rem;left:0}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root.has-visible-submenu{left:-100vw}nav.ads-navigation-toolbar_menu ul[aria-hidden=true]{display:none}nav.ads-navigation-toolbar_menu ul.has-visible-submenu{left:0}nav.ads-navigation-toolbar_menu ul li{width:100%;padding:0 0 .25rem}@media (min-width: 1200px){nav.ads-navigation-toolbar_menu{flex:1 1 auto;margin:0;padding:0;width:auto;height:auto;overflow-x:initial}nav.ads-navigation-toolbar_menu ul{position:relative;left:auto;top:auto;width:auto;padding:0}nav.ads-navigation-toolbar_menu ul.has-visible-submenu{left:auto}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;margin:0;left:auto;top:auto}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root.has-visible-submenu{left:auto}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li{position:relative;display:inline-flex;width:auto;padding:0 .25rem 0 0}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li ul{width:100%;min-width:15rem;flex-direction:column;position:absolute;left:0;top:calc(3.75rem + 4px);border:1px solid var(--ads-color-app-navigation-toolbar-divider);border-radius:.25rem;box-shadow:var(--ads-shadow-depth-2);animation-delay:0;animation-duration:.3s;animation-fill-mode:forwards;animation-name:alFxAppearFromBottom;animation-timing-function:cubic-bezier(.215,.61,.355,1);opacity:0;transform:translateY(1rem)}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li ul li{position:relative;display:block;width:100%;padding:0}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li ul li .ads-toolbar-submenu-item{border-radius:0;border-bottom:1px solid var(--ads-color-app-navigation-toolbar-divider)}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li ul li:first-child>.ads-toolbar-submenu-item{border-top-left-radius:.25rem;border-top-right-radius:.25rem}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li ul li:last-child>.ads-toolbar-submenu-item{border-bottom:none;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li ul li ul{left:calc(100% + 4px);top:-1px}}.ads-navigation-toolbar_toggle{display:block;position:fixed;top:.5rem;right:.5rem;z-index:61}.ads-navigation-toolbar_toggle .ads-hamburger{display:block}@media (min-width: 1200px){.ads-navigation-toolbar_toggle{display:none}}.ads-navigation-toolbar_path{position:absolute;top:0;right:1.5rem;left:1.5rem;display:block;padding:.5rem 2rem .5rem 0;border-bottom:1px solid var(--ads-color-app-navigation-toolbar-menu-item-foreground_selected);z-index:59}.ads-navigation-toolbar_path span,.ads-navigation-toolbar_path button{display:flex;overflow:hidden;width:100%;padding:0;border:none;align-items:center;background-color:transparent;color:var(--ads-color-app-navigation-toolbar-menu-item-foreground_selected);font-family:Alphabet sans pro,sans-serif;font-size:.875rem;font-style:normal;font-weight:400;line-height:1;padding:1rem 0;outline:0;text-align:left;white-space:nowrap}.ads-navigation-toolbar_path span ::ng-deep .ads-icon svg>path,.ads-navigation-toolbar_path button ::ng-deep .ads-icon svg>path{fill:var(--ads-color-app-navigation-toolbar-menu-item-foreground_selected)!important}.ads-navigation-toolbar_path button:hover{cursor:pointer}@media (min-width: 1200px){.ads-navigation-toolbar_path{display:none}}@keyframes dimmerFxAppear{0%{opacity:0}to{opacity:1}}.ads-navigation-toolbar_dimmer{position:fixed;top:0;right:0;left:0;display:block;height:calc(100vh - 4rem);z-index:58;background-color:#0009;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);animation-duration:.3s;animation-fill-mode:forwards;animation-name:dimmerFxAppear;animation-timing-function:cubic-bezier(.55,.055,.675,.19);transform-style:preserve-3d}@media (min-width: 1200px){.ads-navigation-toolbar_dimmer{display:none}}\n"], dependencies: [{ kind: "directive", type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i1.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "directive", type: i1.RouterLinkActive, selector: "[routerLinkActive]", inputs: ["routerLinkActiveOptions", "ariaCurrentWhenActive", "routerLinkActive"], outputs: ["isActiveChange"], exportAs: ["routerLinkActive"] }, { kind: "component", type: i3.ADSIconComponent, selector: "ads-icon", inputs: ["color", "css", "label", "size", "type"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
ADSNavigationToolbarComponent = __decorate([
    UntilDestroy(),
    __metadata("design:paramtypes", [Document,
        Router,
        ChangeDetectorRef])
], ADSNavigationToolbarComponent);
export { ADSNavigationToolbarComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.6", ngImport: i0, type: ADSNavigationToolbarComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ads-navigation-toolbar', changeDetection: ChangeDetectionStrategy.OnPush, template: "<!-- Hamburger -->\r\n<div class=\"ads-navigation-toolbar_toggle\">\r\n    <button\r\n        class=\"ads-toolbar-hamburger\"\r\n        [title]=\"labelToggle\"\r\n        (click)=\"toggleMenu()\"\r\n        [ngClass]=\"{\r\n            'is-expanded': expandMainMenu || expandSubMenu\r\n        }\"\r\n    >\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n        <p class=\"screen-reader-only\">{{ labelToggle }}</p>\r\n    </button>\r\n</div>\r\n\r\n<div class=\"ads-navigation-toolbar_dimmer\" *ngIf=\"expandMainMenu\"></div>\r\n\r\n<section\r\n    class=\"ads-navigation-toolbar\"\r\n    [ngClass]=\"{\r\n        'is-expanded': expandMainMenu\r\n    }\"\r\n>\r\n    <!-- Path breadcrumbs -->\r\n    <div class=\"ads-navigation-toolbar_path\">\r\n        <span *ngIf=\"userPath.length < 1\">&nbsp;</span>\r\n        <button *ngIf=\"userPath.length >= 1\" (click)=\"moveOneLevelUp($event)\">\r\n            <ads-icon type=\"av_custom_chevron_left\" size=\"small\" css=\"mr-2 mb-1\"></ads-icon>\r\n            <ng-container *ngFor=\"let crumb of userPath; index as i; trackBy: trackByIndex\">\r\n                <ng-container *ngIf=\"i !== userPath.length\">../</ng-container>\r\n                <ng-container *ngIf=\"i === userPath.length - 1\">{{ crumb.label }}</ng-container>\r\n            </ng-container>\r\n        </button>\r\n    </div>\r\n\r\n    <!-- Navigation  -->\r\n    <nav class=\"ads-navigation-toolbar_menu\">\r\n        <ul\r\n            id=\"ads-navigation-toolbar-root\"\r\n            *ngIf=\"navigation\"\r\n            [ngClass]=\"{\r\n                'has-visible-submenu': userPath.length >= 1\r\n            }\"\r\n        >\r\n            <ng-container\r\n                *ngTemplateOutlet=\"navigationBar; context: { $implicit: navigation }\"\r\n            ></ng-container>\r\n        </ul>\r\n    </nav>\r\n</section>\r\n\r\n<!-- Navigation template  -->\r\n<ng-template #navigationBar let-navigation>\r\n    <li *ngFor=\"let menuitem of navigation; trackBy: trackByIndex\">\r\n        <!-- Menu item does not have children: Link -->\r\n        <ng-container *ngIf=\"!menuItemHasChildren(menuitem)\">\r\n            <ng-container\r\n                *ngTemplateOutlet=\"navigationLink; context: { $implicit: menuitem }\"\r\n            ></ng-container>\r\n        </ng-container>\r\n\r\n        <!-- Menu item has children: Button & children -->\r\n        <ng-container *ngIf=\"menuItemHasChildren(menuitem)\">\r\n            <ng-container\r\n                *ngTemplateOutlet=\"navigationButton; context: { $implicit: menuitem }\"\r\n            ></ng-container>\r\n            <ul\r\n                [attr.aria-hidden]=\"!menuItemInUserPath(menuitem) || !expandSubMenu\"\r\n                [attr.aria-expanded]=\"menuItemInUserPath(menuitem) && expandSubMenu\"\r\n                [attr.aria-label]=\"menuitem.label\"\r\n                [ngClass]=\"{\r\n                    'has-visible-submenu': menuItemHasVisibleSubmenu(menuitem) && expandSubMenu\r\n                }\"\r\n            >\r\n                <ng-container\r\n                    *ngTemplateOutlet=\"navigationBar; context: { $implicit: menuitem.children }\"\r\n                ></ng-container>\r\n            </ul>\r\n        </ng-container>\r\n    </li>\r\n</ng-template>\r\n\r\n<ng-template #navigationButton let-menuitem>\r\n    <button\r\n        type=\"button\"\r\n        aria-haspopup=\"true\"\r\n        [title]=\"menuitem.label\"\r\n        [class]=\"menuitem.root ? 'ads-toolbar-menu-item' : 'ads-toolbar-submenu-item'\"\r\n        [attr.data-url]=\"menuitem.url\"\r\n        [attr.data-root]=\"menuitem.root\"\r\n        [ngClass]=\"{\r\n            'is-selected': menuItemInUserPath(menuitem)\r\n        }\"\r\n        (click)=\"menuItemSelect(menuitem, $event)\"\r\n    >\r\n        <ads-icon *ngIf=\"menuitem?.icon\" [type]=\"menuitem.icon\" size=\"sub-menu\"></ads-icon>\r\n        <span>{{ menuitem.label }}</span>\r\n        <ads-icon type=\"av_custom_chevron_right\" size=\"extra-small\"></ads-icon>\r\n    </button>\r\n</ng-template>\r\n\r\n<ng-template #navigationLink let-menuitem>\r\n    <a\r\n        [title]=\"menuitem.label\"\r\n        [class]=\"menuitem.root ? 'ads-toolbar-menu-item' : 'ads-toolbar-submenu-item'\"\r\n        [ngClass]=\"{\r\n            'is-selected': menuItemInUserPath(menuitem),\r\n            'is-expanded': expandMainMenu\r\n        }\"\r\n        [attr.data-url]=\"menuitem.url\"\r\n        [routerLink]=\"menuitem.url\"\r\n        [routerLink]=\"menuitem.url\"\r\n        [routerLinkActive]=\"'is-current-page'\"\r\n        [routerLinkActiveOptions]=\"{ exact: true }\"\r\n    >\r\n        <ads-icon *ngIf=\"menuitem?.icon\" [type]=\"menuitem.icon\" size=\"sub-menu\"></ads-icon>\r\n        <span>{{ menuitem.label }}</span>\r\n    </a>\r\n</ng-template>\r\n", styles: [":root{--ads-color-white: #fff;--ads-color-white_foreground: #000;--ads-color-gray-6: #f0f0f0;--ads-color-gray-6_foreground: #000;--ads-color-gray-12: #e0e0e0;--ads-color-gray-12_foreground: #000;--ads-color-gray-20: #cccccc;--ads-color-gray-20_foreground: #000;--ads-color-gray-50: gray;--ads-color-gray-50_foreground: #fff;--ads-color-gray-70: #4d4d4d;--ads-color-gray-70_foreground: #fff;--ads-color-gray-85: #262626;--ads-color-gray-85_foreground: #fff;--ads-color-black: #000;--ads-color-black_foreground: #fff;--ads-color-error: #d21e36;--ads-color-error_hover: #a5182b;--ads-color-error-background: #fceaea;--ads-color-info: #1e236e;--ads-color-info-background: var(--ads-color-gray-6);--ads-color-success: #01964c;--ads-color-success_hover: #016332;--ads-color-success-background: #eaf6eb;--ads-color-warning: #ef7d00;--ads-color-warning-background: #fff7ef;--ads-color-notification: #ffd900;--ads-color-notification-background: #fffdf0;--ads-color-primary: #1e236e;--ads-color-primary-40: #a5a7c5;--ads-color-primary-65: #6e71a2;--ads-color-primary-foreground: #fff;--ads-color-primary_active: #0a0c26;--ads-color-primary_active-foreground: #fff;--ads-color-primary_focus: #0f1136;--ads-color-primary_focus-foreground: #fff;--ads-color-primary_hover: #131646;--ads-color-primary_hover-foreground: #fff;--ads-color-secondary: #00d7e7;--ads-color-secondary-40: #9aeff5;--ads-color-secondary-65: #5ae5ef;--ads-color-secondary-foreground: #fff;--ads-color-secondary_active: #00828b;--ads-color-secondary_active-foreground: #fff;--ads-color-secondary_focus: #0095a0;--ads-color-secondary_focus-foreground: #fff;--ads-color-secondary_hover: #00a8b4;--ads-color-secondary_hover-foreground: #fff;--ads-color-accent: #ff6d6a;--ads-color-accent-40: #ffc5c3;--ads-color-accent-65: #ffa19f;--ads-color-accent-foreground: #fff;--ads-color-accent_active: #ff5451;--ads-color-accent_active-foreground: #fff;--ads-color-accent_hover: #ff3b37;--ads-color-accent_hover-foreground: #fff;--ads-color-accent_focus: #ff221e;--ads-color-accent_focus-foreground: #fff;--ads-color-disabled: #e0e0e0;--ads-color-disabled-foreground: gray;--ads-color-app: #fff;--ads-color-app-text: #262626;--ads-color-app-navigation: #1e236e;--ads-color-app-navigation-divider: #6e71a2;--ads-color-app-navigation-menu-item-foreground: #fff;--ads-color-app-navigation-menu-item-background: #1e236e;--ads-color-app-navigation-menu-item-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-background_hover: #1e236e;--ads-color-app-navigation-menu-item-foreground_focus: #fff;--ads-color-app-navigation-menu-item-background_focus: #fff;--ads-color-app-navigation-menu-item-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-background_selected: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground: #fff;--ads-color-app-navigation-menu-item-icon-background: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_hover: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-menu-item-icon-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_selected: #1e236e;--ads-color-app-navigation-toolbar: #fff;--ads-color-app-navigation-toolbar-divider: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_selected: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_selected: #f0f0f0;--ads-color-solid-gradient-primary-to-accent: linear-gradient(90deg, #1e236e 0%, #ff6d6a 100%);--ads-color-solid-gradient-secondary-to-accent: linear-gradient(-170deg, rgba(0, 215, 231, 0) 60%, #00d7e7 125%), linear-gradient(170deg, #ff6d6a 60%, #ff6d6a 125%);--ads-color-solid-gradient-accent-to-secondary-to-primary: linear-gradient(90deg, #ff6d6a 0%, #00d7e7 50%, #1e236e 100%);--ads-color-solid-gradient-gray-to-primary: linear-gradient(90deg, #e0e0e0 0%, #a5a7c5 100%);--ads-color-image-gradient-primary-to-accent: linear-gradient(90deg, rgba(30, 35, 110, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-primary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(30, 35, 110, .7) 100%);--ads-color-image-gradient-secondary-to-accent: linear-gradient(90deg, rgba(0, 215, 231, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-secondary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(0, 215, 231, .7) 100%);--ads-color-image-gradient-mask: linear-gradient(to bottom, rgba(0,0,0,0) 48%, rgba(0,0,0,.5) 80%, rgba(0,0,0,1) 100%);--ads-color-image-gradient-darken-bottom: linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .1) 40%, rgba(0, 0, 0, .4) 100%);--ads-color-app-gradient-secondary-to-accent: linear-gradient(160deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .4) 90%), linear-gradient(220deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 60%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-large: linear-gradient(170deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .5) 90%), linear-gradient(210deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 70%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-foreground: #fff;--ads-color-app-gradient-primary-to-accent: linear-gradient(200deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .7) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 60%, rgba(30, 35, 110, .4) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-large: linear-gradient(190deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .6) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 70%, rgba(30, 35, 110, .5) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-foreground: #1e236e;--ads-color-app-gradient-primary-inverted: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 60%, rgba(255, 109, 106, .4) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 65%, rgba(0, 215, 231, .45) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-large: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 75%, rgba(255, 109, 106, .05) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 75%, rgba(0, 215, 231, .02) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-foreground: #1e236e;--ads-ring_active: 0 0 0 2px #fff, 0 0 0 5px #1e236e;--ads-ring_focus: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_hover: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_transparent: 0 0 0 2px transparent, 0 0 0 3px transparent;--ads-ring_focus-inset: inset 0 0 0 2px #fff, inset 0 0 0 3px #1e236e;--ads-ring_focus-inset-inverted: inset 0 0 0 2px #1e236e, inset 0 0 0 4px #fff;--ads-ring-focus-with-contextmenu: 0 0 0 1px #fff, 0 0 0 2px #555cd1, 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-0: 0 0 0 0 rgba(0, 0, 0, 0);--ads-shadow-depth-1: 0 .4px .4px rgba(0, 0, 0, .05), 0 1px 1px rgba(0, 0, 0, .036), 0 1.9px 1.9px rgba(0, 0, 0, .03), 0 3.4px 3.4px rgba(0, 0, 0, .025), 0 6.3px 6.3px rgba(0, 0, 0, .02), 0 15px 15px rgba(0, 0, 0, .014);--ads-shadow-depth-2: 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-3: 0 .7px .7px rgba(0, 0, 0, .017), 0 1.7px 1.7px rgba(0, 0, 0, .024), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .036), 0 10.4px 10.4px rgba(0, 0, 0, .043), 0 25px 25px rgba(0, 0, 0, .06);--ads-shadow-depth-4: 0 1px 1px rgba(0, 0, 0, .014), 0 2.3px 2.3px rgba(0, 0, 0, .02), 0 4.4px 4.4px rgba(0, 0, 0, .025), 0 7.8px 7.8px rgba(0, 0, 0, .03), 0 14.6px 14.6px rgba(0, 0, 0, .036), 0 35px 35px rgba(0, 0, 0, .05);--ads-shadow-depth-5: 0 1.2px 1.2px rgba(0, 0, 0, .014), 0 3px 3px rgba(0, 0, 0, .02), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.1px 10.1px rgba(0, 0, 0, .03), 0 18.8px 18.8px rgba(0, 0, 0, .036), 0 45px 45px rgba(0, 0, 0, .05);--ads-shadow-depth-6: 0 .9px .9px rgba(0, 0, 0, .011), 0 1.9px 1.9px rgba(0, 0, 0, .016), 0 3.2px 3.2px rgba(0, 0, 0, .019), 0 4.8px 4.8px rgba(0, 0, 0, .022), 0 6.9px 6.9px rgba(0, 0, 0, .025), 0 9.7px 9.7px rgba(0, 0, 0, .028), 0 13.8px 13.8px rgba(0, 0, 0, .031), 0 20.1px 20.1px rgba(0, 0, 0, .034), 0 30.9px 30.9px rgba(0, 0, 0, .039), 0 55px 55px rgba(0, 0, 0, .05)}.ads-navigation-toolbar{position:fixed;z-index:60;top:0;left:auto;width:85vw;height:calc(100vh - 4rem);display:flex;right:0;flex-direction:row;background-color:var(--ads-color-app-navigation-toolbar);box-shadow:var(--ads-shadow-depth-2);transform:translate(100%);transition:transform .3s cubic-bezier(.455,.03,.515,.955)}.ads-navigation-toolbar.is-expanded{transform:translate(0)}@media (min-width: 1200px){.ads-navigation-toolbar{position:relative;top:0;left:0;width:100%;height:auto;flex-direction:row;background-color:transparent;box-shadow:none;transform:none}.ads-navigation-toolbar:before{display:none}}nav.ads-navigation-toolbar_menu{position:relative;display:block;width:100%;height:100%;flex:none;margin:0;overflow-x:hidden}nav.ads-navigation-toolbar_menu ul{display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;position:absolute;left:100vw;width:85vw;top:0;list-style:none;padding:0 1rem 1rem;transition:left .3s cubic-bezier(.455,.03,.515,.955)}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root{top:5rem;left:0}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root.has-visible-submenu{left:-100vw}nav.ads-navigation-toolbar_menu ul[aria-hidden=true]{display:none}nav.ads-navigation-toolbar_menu ul.has-visible-submenu{left:0}nav.ads-navigation-toolbar_menu ul li{width:100%;padding:0 0 .25rem}@media (min-width: 1200px){nav.ads-navigation-toolbar_menu{flex:1 1 auto;margin:0;padding:0;width:auto;height:auto;overflow-x:initial}nav.ads-navigation-toolbar_menu ul{position:relative;left:auto;top:auto;width:auto;padding:0}nav.ads-navigation-toolbar_menu ul.has-visible-submenu{left:auto}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;margin:0;left:auto;top:auto}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root.has-visible-submenu{left:auto}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li{position:relative;display:inline-flex;width:auto;padding:0 .25rem 0 0}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li ul{width:100%;min-width:15rem;flex-direction:column;position:absolute;left:0;top:calc(3.75rem + 4px);border:1px solid var(--ads-color-app-navigation-toolbar-divider);border-radius:.25rem;box-shadow:var(--ads-shadow-depth-2);animation-delay:0;animation-duration:.3s;animation-fill-mode:forwards;animation-name:alFxAppearFromBottom;animation-timing-function:cubic-bezier(.215,.61,.355,1);opacity:0;transform:translateY(1rem)}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li ul li{position:relative;display:block;width:100%;padding:0}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li ul li .ads-toolbar-submenu-item{border-radius:0;border-bottom:1px solid var(--ads-color-app-navigation-toolbar-divider)}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li ul li:first-child>.ads-toolbar-submenu-item{border-top-left-radius:.25rem;border-top-right-radius:.25rem}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li ul li:last-child>.ads-toolbar-submenu-item{border-bottom:none;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}nav.ads-navigation-toolbar_menu ul#ads-navigation-toolbar-root li ul li ul{left:calc(100% + 4px);top:-1px}}.ads-navigation-toolbar_toggle{display:block;position:fixed;top:.5rem;right:.5rem;z-index:61}.ads-navigation-toolbar_toggle .ads-hamburger{display:block}@media (min-width: 1200px){.ads-navigation-toolbar_toggle{display:none}}.ads-navigation-toolbar_path{position:absolute;top:0;right:1.5rem;left:1.5rem;display:block;padding:.5rem 2rem .5rem 0;border-bottom:1px solid var(--ads-color-app-navigation-toolbar-menu-item-foreground_selected);z-index:59}.ads-navigation-toolbar_path span,.ads-navigation-toolbar_path button{display:flex;overflow:hidden;width:100%;padding:0;border:none;align-items:center;background-color:transparent;color:var(--ads-color-app-navigation-toolbar-menu-item-foreground_selected);font-family:Alphabet sans pro,sans-serif;font-size:.875rem;font-style:normal;font-weight:400;line-height:1;padding:1rem 0;outline:0;text-align:left;white-space:nowrap}.ads-navigation-toolbar_path span ::ng-deep .ads-icon svg>path,.ads-navigation-toolbar_path button ::ng-deep .ads-icon svg>path{fill:var(--ads-color-app-navigation-toolbar-menu-item-foreground_selected)!important}.ads-navigation-toolbar_path button:hover{cursor:pointer}@media (min-width: 1200px){.ads-navigation-toolbar_path{display:none}}@keyframes dimmerFxAppear{0%{opacity:0}to{opacity:1}}.ads-navigation-toolbar_dimmer{position:fixed;top:0;right:0;left:0;display:block;height:calc(100vh - 4rem);z-index:58;background-color:#0009;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);animation-duration:.3s;animation-fill-mode:forwards;animation-name:dimmerFxAppear;animation-timing-function:cubic-bezier(.55,.055,.675,.19);transform-style:preserve-3d}@media (min-width: 1200px){.ads-navigation-toolbar_dimmer{display:none}}\n"] }]
        }], ctorParameters: function () { return [{ type: Document, decorators: [{
                    type: Inject,
                    args: [DOCUMENT]
                }] }, { type: i1.Router }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { clickEmitter: [{
                type: Output
            }], labelToggle: [{
                type: Input
            }], labelClose: [{
                type: Input
            }], navigation: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF2aWdhdGlvbi10b29sYmFyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvYWxwaGFiZXQtZGVzaWduLXN5c3RlbS11aS9zcmMvbGliL2NvbXBvbmVudHMvbmF2aWdhdGlvbi10b29sYmFyL25hdmlnYXRpb24tdG9vbGJhci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FscGhhYmV0LWRlc2lnbi1zeXN0ZW0tdWkvc3JjL2xpYi9jb21wb25lbnRzL25hdmlnYXRpb24tdG9vbGJhci9uYXZpZ2F0aW9uLXRvb2xiYXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHVEQUF1RDtBQUN2RCw4Q0FBOEM7QUFDOUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFFSCx1QkFBdUIsRUFDdkIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxZQUFZLEVBQ1osTUFBTSxFQUNOLEtBQUssRUFFTCxNQUFNLEdBRVQsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsWUFBWSxFQUFFLGNBQWMsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ3JFLE9BQU8sRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRXpDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxhQUFhLENBQUM7Ozs7O0FBU3JDLElBQU0sNkJBQTZCLEdBQW5DLE1BQU0sNkJBQTZCO0lBYXRDLFlBQ3VDLFFBQWtCLEVBQ3BDLE1BQWMsRUFDZCxHQUFzQjtRQUZKLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDcEMsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNkLFFBQUcsR0FBSCxHQUFHLENBQW1CO1FBZnhCLGlCQUFZLEdB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QUFVLENBQUM7WUFDaEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsQ0FBQztTQUM1QjtJQUNMLENBQUM7OzBIQW5OUSw2QkFBNkIsa0JBYzFCLFFBQVE7OEdBZFgsNkJBQTZCLDBOQzVCMUMsNHVKQXlIQTtBRDdGYSw2QkFBNkI7SUFQekMsWUFBWSxFQUFFO3FDQXFCc0MsUUFBUTtRQUM1QixNQUFNO1FBQ1QsaUJBQWlCO0dBaEJsQyw2QkFBNkIsQ0FvTnpDO1NBcE5ZLDZCQUE2QjsyRkFBN0IsNkJBQTZCO2tCQU56QyxTQUFTOytCQUNJLHdCQUF3QixtQkFHakIsdUJBQXVCLENBQUMsTUFBTTs7MEJBZ0IxQyxNQUFNOzJCQUFDLFFBQVE7aUdBYkQsWUFBWTtzQkFBOUIsTUFBTTtnQkFFRSxXQUFXO3NCQUFuQixLQUFLO2dCQUNHLFVBQVU7c0JBQWxCLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cclxuLyogZXNsaW50LWRpc2FibGUgZnVuY3Rpb25hbC9pbW11dGFibGUtZGF0YSAqL1xyXG5pbXBvcnQgeyBET0NVTUVOVCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7XHJcbiAgICBBZnRlclZpZXdJbml0LFxyXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcbiAgICBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgIENvbXBvbmVudCxcclxuICAgIEV2ZW50RW1pdHRlcixcclxuICAgIEluamVjdCxcclxuICAgIElucHV0LFxyXG4gICAgT25DaGFuZ2VzLFxyXG4gICAgT3V0cHV0LFxyXG4gICAgU2ltcGxlQ2hhbmdlcyxcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTmF2aWdhdGlvbkVuZCwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgVW50aWxEZXN0cm95LCB1bnRpbERlc3Ryb3llZCB9IGZyb20gJ0BuZ25lYXQvdW50aWwtZGVzdHJveSc7XHJcbmltcG9ydCB7IGZpbHRlciwgZnJvbUV2ZW50IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IEFEU0tleUV2ZW50cywgSUFEU05hdmlnYXRpb24sIElBRFNOYXZpZ2F0aW9uSXRlbSB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHsgZ2V0T2JqZWN0UGF0aCB9IGZyb20gJy4uLy4uL3V0aWxzJztcclxuXHJcbkBVbnRpbERlc3Ryb3koKVxyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnYWRzLW5hdmlnYXRpb24tdG9vbGJhcicsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vbmF2aWdhdGlvbi10b29sYmFyLmNvbXBvbmVudC5odG1sJyxcclxuICAgIHN0eWxlVXJsczogWycuL25hdmlnYXRpb24tdG9vbGJhci5jb21wb25lbnQuc2NzcyddLFxyXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBBRFNOYXZpZ2F0aW9uVG9vbGJhckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcywgQWZ0ZXJWaWV3SW5pdCB7XHJcbiAgICBAT3V0cHV0KCkgcmVhZG9ubHkgY2xpY2tFbWl0dGVyOiBFdmVudEVtaXR0ZXI8RXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIEBJbnB1dCgpIGxhYmVsVG9nZ2xlID0gJ1RvZ2dsZSBtZW51JztcclxuICAgIEBJbnB1dCgpIGxhYmVsQ2xvc2UgPSAnQ2xvc2UgbWVudSc7XHJcbiAgICBASW5wdXQoKSBuYXZpZ2F0aW9uITogSUFEU05hdmlnYXRpb247XHJcblxyXG4gICAgZXhwYW5kTWFpbk1lbnUgPSBmYWxzZTtcclxuICAgIGV4cGFuZFN1Yk1lbnUgPSBmYWxzZTtcclxuICAgIHJvdXRlclVybCE6IHN0cmluZztcclxuICAgIHVzZXJQYXRoOiBBcnJheTxJQURTTmF2aWdhdGlvbkl0ZW0+ID0gW107XHJcbiAgICByb3V0ZXJQYXRoOiBBcnJheTxJQURTTmF2aWdhdGlvbkl0ZW0+ID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgQEluamVjdChET0NVTUVOVCkgcHJpdmF0ZSByZWFkb25seSBkb2N1bWVudDogRG9jdW1lbnQsXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSByb3V0ZXI6IFJvdXRlcixcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLnJvdXRlci5ldmVudHMuc3Vic2NyaWJlKChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIE5hdmlnYXRpb25FbmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tSb3V0ZXJDaGFuZ2UoZXZlbnQudXJsLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tIE1lbnUtYmFyXHJcblxyXG4gICAgdG9nZ2xlTWVudSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuZXhwYW5kTWFpbk1lbnUgJiYgIXRoaXMuZXhwYW5kU3ViTWVudSkge1xyXG4gICAgICAgICAgICB0aGlzLmV4cGFuZE1haW5NZW51ID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlTWVudSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvcGVuU3ViTWVudSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuZXhwYW5kU3ViTWVudSkge1xyXG4gICAgICAgICAgICB0aGlzLmV4cGFuZFN1Yk1lbnUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjbG9zZU1lbnUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5leHBhbmRTdWJNZW51ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5leHBhbmRNYWluTWVudSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudXNlclBhdGggPSB0aGlzLnJvdXRlclBhdGg7XHJcbiAgICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvY3VzQ2hlY2sodGFyZ2V0OiBFbGVtZW50LCBldmVudDogS2V5Ym9hcmRFdmVudCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldERldGVjdGlvbiA9XHJcbiAgICAgICAgICAgICF0YXJnZXQuY2xvc2VzdCgnLmFkcy1uYXZpZ2F0aW9uLXRvb2xiYXInKSA9PT0gZmFsc2UgfHxcclxuICAgICAgICAgICAgIXRhcmdldC5jbG9zZXN0KCcuYWRzLW5hdmlnYXRpb24tdG9vbGJhcl90b2dnbGUnKSA9PT0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmICghdGFyZ2V0RGV0ZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmV4cGFuZFN1Yk1lbnUgfHwgdGhpcy5leHBhbmRNYWluTWVudSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZU1lbnUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgPT09IEFEU0tleUV2ZW50cy5LRVlfVEFCKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXVybCcpID8/ICcnO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGdldE9iamVjdFBhdGgodGhpcy5uYXZpZ2F0aW9uLCB1cmwsICd1cmwnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnVzZXJQYXRoW3RoaXMudXNlclBhdGgubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuY2hpbGRyZW4gJiYgaXRlbSAmJiBwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVPbmVMZXZlbFVwKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tIE1lbnUtaXRlbXNcclxuXHJcbiAgICBtZW51SXRlbVNlbGVjdChpdGVtOiBJQURTTmF2aWdhdGlvbkl0ZW0sIGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudXNlclBhdGggPSBnZXRPYmplY3RQYXRoKHRoaXMubmF2aWdhdGlvbiwgaXRlbS51cmwsICd1cmwnKTtcclxuICAgICAgICB0aGlzLm9wZW5TdWJNZW51KCk7XHJcblxyXG4gICAgICAgIGlmIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2NsaWNrJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXZ0OiBQb2ludGVyRXZlbnQgPSBldmVudCBhcyBQb2ludGVyRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZ0LnBvaW50ZXJJZCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbnVJdGVtRm9jdXMoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV2dDogS2V5Ym9hcmRFdmVudCA9IGV2ZW50IGFzIEtleWJvYXJkRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWV2dC5zaGlmdEtleSAmJiAhaXRlbS5yb290KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW51SXRlbUZvY3VzKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1vdmVPbmVMZXZlbFVwKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgdGhpcy51c2VyUGF0aC5wb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICBtZW51SXRlbUZvY3VzKGl0ZW06IElBRFNOYXZpZ2F0aW9uSXRlbSkge1xyXG4gICAgICAgIGNvbnN0IFtmaXJzdENoaWxkXSA9IGl0ZW0/LmNoaWxkcmVuID8/IFtdO1xyXG4gICAgICAgIGNvbnN0IG1lbnVpdGVtOiBIVE1MRWxlbWVudCB8IG51bGwgPSB0aGlzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgIGBbZGF0YS11cmw9XCIke2ZpcnN0Q2hpbGQudXJsID8/ICcnfVwiXWAsXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKG1lbnVpdGVtKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gbWVudWl0ZW0uZm9jdXMoKSwgMTApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtZW51SXRlbUluVXNlclBhdGgoaXRlbTogSUFEU05hdmlnYXRpb25JdGVtKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlclBhdGguZmluZChwYXRoID0+IHBhdGgudXJsID09PSBpdGVtLnVybCkgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgbWVudUl0ZW1JblJvdXRlclBhdGgoaXRlbTogSUFEU05hdmlnYXRpb25JdGVtKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm91dGVyUGF0aC5maW5kKHBhdGggPT4gcGF0aC51cmwgPT09IGl0ZW0udXJsKSA/IHRydWUgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBtZW51SXRlbUhhc0NoaWxkcmVuKGl0ZW06IElBRFNOYXZpZ2F0aW9uSXRlbSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBpdGVtPy5jaGlsZHJlbiA/IGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCA6IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIG1lbnVJdGVtSGFzVmlzaWJsZVN1Ym1lbnUoaXRlbTogSUFEU05hdmlnYXRpb25JdGVtKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgbGFzdEl0ZW0gPSB0aGlzLnVzZXJQYXRoW3RoaXMudXNlclBhdGgubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnVzZXJQYXRoLmZpbmQocGF0aCA9PiBwYXRoPy51cmwgPT09IGl0ZW0udXJsKSAmJlxyXG4gICAgICAgICAgICBpdGVtLnVybCAhPT0gKGxhc3RJdGVtPy51cmwgPz8gJycpXHJcbiAgICAgICAgICAgID8gdHJ1ZVxyXG4gICAgICAgICAgICA6IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLSBSb3V0ZXJcclxuXHJcbiAgICBjaGVja1JvdXRlckNoYW5nZSh1cmw6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm5hdmlnYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZU1lbnUoKTtcclxuICAgICAgICAgICAgdGhpcy5yb3V0ZXJQYXRoID0gZ2V0T2JqZWN0UGF0aCh0aGlzLm5hdmlnYXRpb24sIHVybCwgJ3VybCcpO1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJQYXRoID0gdGhpcy5yb3V0ZXJQYXRoO1xyXG4gICAgICAgICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJvdXRlclVybCA9IHVybDtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0gY2xpY2sgZXZlbnRzXHJcblxyXG4gICAgY2xpY2tFdmVudCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNsaWNrRW1pdHRlci5lbWl0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xyXG4gICAgICAgIGZyb21FdmVudDxNb3VzZUV2ZW50Pih0aGlzLmRvY3VtZW50LCAnY2xpY2snKVxyXG4gICAgICAgICAgICAucGlwZShcclxuICAgICAgICAgICAgICAgIHVudGlsRGVzdHJveWVkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVyKCgpID0+IHRoaXMuZXhwYW5kTWFpbk1lbnUgfHwgdGhpcy5leHBhbmRTdWJNZW51KSxcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChldmVudDogTW91c2VFdmVudCkgPT4gdGhpcy5mb2N1c0NoZWNrKGV2ZW50LnRhcmdldCBhcyBFbGVtZW50KSk7XHJcblxyXG4gICAgICAgIGZyb21FdmVudDxLZXlib2FyZEV2ZW50Pih0aGlzLmRvY3VtZW50LCAna2V5ZG93bicpXHJcbiAgICAgICAgICAgIC5waXBlKFxyXG4gICAgICAgICAgICAgICAgdW50aWxEZXN0cm95ZWQodGhpcyksXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZFN1Yk1lbnUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGV2ZW50LmtleSA9PT0gQURTS2V5RXZlbnRzLktFWV9BUlJPV19ET1dOIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5rZXkgPT09IEFEU0tleUV2ZW50cy5LRVlfQVJST1dfVVAgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmtleSA9PT0gQURTS2V5RXZlbnRzLktFWV9FU0NBUEUpLFxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmtleSA9PT0gQURTS2V5RXZlbnRzLktFWV9BUlJPV19ET1dOIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQua2V5ID09PSBBRFNLZXlFdmVudHMuS0VZX0FSUk9XX1VQXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IEFEU0tleUV2ZW50cy5LRVlfRVNDQVBFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZU1lbnUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZyb21FdmVudDxLZXlib2FyZEV2ZW50Pih0aGlzLmRvY3VtZW50LCAna2V5dXAnKVxyXG4gICAgICAgICAgICAucGlwZShcclxuICAgICAgICAgICAgICAgIHVudGlsRGVzdHJveWVkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVyKChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gZXZlbnQua2V5ID09PSBBRFNLZXlFdmVudHMuS0VZX1RBQiksXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgLnN1YnNjcmliZSgoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHRoaXMuZm9jdXNDaGVjayhldmVudC50YXJnZXQgYXMgRWxlbWVudCwgZXZlbnQpKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGVja1JvdXRlckNoYW5nZSh0aGlzLnJvdXRlci51cmwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLSBNaXNjXHJcblxyXG4gICAgdHJhY2tCeUluZGV4KGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgeyBuYXZpZ2F0aW9uIH0gPSBjaGFuZ2VzO1xyXG5cclxuICAgICAgICBpZiAobmF2aWdhdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRpb24gPSBuYXZpZ2F0aW9uLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmZvckVhY2goKGl0ZW06IElBRFNOYXZpZ2F0aW9uSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5yb290ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGVyUGF0aCA9IGdldE9iamVjdFBhdGgodGhpcy5uYXZpZ2F0aW9uLCB0aGlzLnJvdXRlclVybCwgJ3VybCcpO1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJQYXRoID0gdGhpcy5yb3V0ZXJQYXRoO1xyXG4gICAgICAgICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIjwhLS0gSGFtYnVyZ2VyIC0tPlxyXG48ZGl2IGNsYXNzPVwiYWRzLW5hdmlnYXRpb24tdG9vbGJhcl90b2dnbGVcIj5cclxuICAgIDxidXR0b25cclxuICAgICAgICBjbGFzcz1cImFkcy10b29sYmFyLWhhbWJ1cmdlclwiXHJcbiAgICAgICAgW3RpdGxlXT1cImxhYmVsVG9nZ2xlXCJcclxuICAgICAgICAoY2xpY2spPVwidG9nZ2xlTWVudSgpXCJcclxuICAgICAgICBbbmdDbGFzc109XCJ7XHJcbiAgICAgICAgICAgICdpcy1leHBhbmRlZCc6IGV4cGFuZE1haW5NZW51IHx8IGV4cGFuZFN1Yk1lbnVcclxuICAgICAgICB9XCJcclxuICAgID5cclxuICAgICAgICA8c3Bhbj48L3NwYW4+XHJcbiAgICAgICAgPHNwYW4+PC9zcGFuPlxyXG4gICAgICAgIDxzcGFuPjwvc3Bhbj5cclxuICAgICAgICA8cCBjbGFzcz1cInNjcmVlbi1yZWFkZXItb25seVwiPnt7IGxhYmVsVG9nZ2xlIH19PC9wPlxyXG4gICAgPC9idXR0b24+XHJcbjwvZGl2PlxyXG5cclxuPGRpdiBjbGFzcz1cImFkcy1uYXZpZ2F0aW9uLXRvb2xiYXJfZGltbWVyXCIgKm5nSWY9XCJleHBhbmRNYWluTWVudVwiPjwvZGl2PlxyXG5cclxuPHNlY3Rpb25cclxuICAgIGNsYXNzPVwiYWRzLW5hdmlnYXRpb24tdG9vbGJhclwiXHJcbiAgICBbbmdDbGFzc109XCJ7XHJcbiAgICAgICAgJ2lzLWV4cGFuZGVkJzogZXhwYW5kTWFpbk1lbnVcclxuICAgIH1cIlxyXG4+XHJcbiAgICA8IS0tIFBhdGggYnJlYWRjcnVtYnMgLS0+XHJcbiAgICA8ZGl2IGNsYXNzPVwiYWRzLW5hdmlnYXRpb24tdG9vbGJhcl9wYXRoXCI+XHJcbiAgICAgICAgPHNwYW4gKm5nSWY9XCJ1c2VyUGF0aC5sZW5ndGggPCAxXCI+Jm5ic3A7PC9zcGFuPlxyXG4gICAgICAgIDxidXR0b24gKm5nSWY9XCJ1c2VyUGF0aC5sZW5ndGggPj0gMVwiIChjbGljayk9XCJtb3ZlT25lTGV2ZWxVcCgkZXZlbnQpXCI+XHJcbiAgICAgICAgICAgIDxhZHMtaWNvbiB0eXBlPVwiYXZfY3VzdG9tX2NoZXZyb25fbGVmdFwiIHNpemU9XCJzbWFsbFwiIGNzcz1cIm1yLTIgbWItMVwiPjwvYWRzLWljb24+XHJcbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGNydW1iIG9mIHVzZXJQYXRoOyBpbmRleCBhcyBpOyB0cmFja0J5OiB0cmFja0J5SW5kZXhcIj5cclxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJpICE9PSB1c2VyUGF0aC5sZW5ndGhcIj4uLi88L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJpID09PSB1c2VyUGF0aC5sZW5ndGggLSAxXCI+e3sgY3J1bWIubGFiZWwgfX08L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8IS0tIE5hdmlnYXRpb24gIC0tPlxyXG4gICAgPG5hdiBjbGFzcz1cImFkcy1uYXZpZ2F0aW9uLXRvb2xiYXJfbWVudVwiPlxyXG4gICAgICAgIDx1bFxyXG4gICAgICAgICAgICBpZD1cImFkcy1uYXZpZ2F0aW9uLXRvb2xiYXItcm9vdFwiXHJcbiAgICAgICAgICAgICpuZ0lmPVwibmF2aWdhdGlvblwiXHJcbiAgICAgICAgICAgIFtuZ0NsYXNzXT1cIntcclxuICAgICAgICAgICAgICAgICdoYXMtdmlzaWJsZS1zdWJtZW51JzogdXNlclBhdGgubGVuZ3RoID49IDFcclxuICAgICAgICAgICAgfVwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgICA8bmctY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAqbmdUZW1wbGF0ZU91dGxldD1cIm5hdmlnYXRpb25CYXI7IGNvbnRleHQ6IHsgJGltcGxpY2l0OiBuYXZpZ2F0aW9uIH1cIlxyXG4gICAgICAgICAgICA+PC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgPC91bD5cclxuICAgIDwvbmF2PlxyXG48L3NlY3Rpb24+XHJcblxyXG48IS0tIE5hdmlnYXRpb24gdGVtcGxhdGUgIC0tPlxyXG48bmctdGVtcGxhdGUgI25hdmlnYXRpb25CYXIgbGV0LW5hdmlnYXRpb24+XHJcbiAgICA8bGkgKm5nRm9yPVwibGV0IG1lbnVpdGVtIG9mIG5hdmlnYXRpb247IHRyYWNrQnk6IHRyYWNrQnlJbmRleFwiPlxyXG4gICAgICAgIDwhLS0gTWVudSBpdGVtIGRvZXMgbm90IGhhdmUgY2hpbGRyZW46IExpbmsgLS0+XHJcbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIiFtZW51SXRlbUhhc0NoaWxkcmVuKG1lbnVpdGVtKVwiPlxyXG4gICAgICAgICAgICA8bmctY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAqbmdUZW1wbGF0ZU91dGxldD1cIm5hdmlnYXRpb25MaW5rOyBjb250ZXh0OiB7ICRpbXBsaWNpdDogbWVudWl0ZW0gfVwiXHJcbiAgICAgICAgICAgID48L25nLWNvbnRhaW5lcj5cclxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuXHJcbiAgICAgICAgPCEtLSBNZW51IGl0ZW0gaGFzIGNoaWxkcmVuOiBCdXR0b24gJiBjaGlsZHJlbiAtLT5cclxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwibWVudUl0ZW1IYXNDaGlsZHJlbihtZW51aXRlbSlcIj5cclxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgKm5nVGVtcGxhdGVPdXRsZXQ9XCJuYXZpZ2F0aW9uQnV0dG9uOyBjb250ZXh0OiB7ICRpbXBsaWNpdDogbWVudWl0ZW0gfVwiXHJcbiAgICAgICAgICAgID48L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgPHVsXHJcbiAgICAgICAgICAgICAgICBbYXR0ci5hcmlhLWhpZGRlbl09XCIhbWVudUl0ZW1JblVzZXJQYXRoKG1lbnVpdGVtKSB8fCAhZXhwYW5kU3ViTWVudVwiXHJcbiAgICAgICAgICAgICAgICBbYXR0ci5hcmlhLWV4cGFuZGVkXT1cIm1lbnVJdGVtSW5Vc2VyUGF0aChtZW51aXRlbSkgJiYgZXhwYW5kU3ViTWVudVwiXHJcbiAgICAgICAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cIm1lbnVpdGVtLmxhYmVsXCJcclxuICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cIntcclxuICAgICAgICAgICAgICAgICAgICAnaGFzLXZpc2libGUtc3VibWVudSc6IG1lbnVJdGVtSGFzVmlzaWJsZVN1Ym1lbnUobWVudWl0ZW0pICYmIGV4cGFuZFN1Yk1lbnVcclxuICAgICAgICAgICAgICAgIH1cIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgKm5nVGVtcGxhdGVPdXRsZXQ9XCJuYXZpZ2F0aW9uQmFyOyBjb250ZXh0OiB7ICRpbXBsaWNpdDogbWVudWl0ZW0uY2hpbGRyZW4gfVwiXHJcbiAgICAgICAgICAgICAgICA+PC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICA8L2xpPlxyXG48L25nLXRlbXBsYXRlPlxyXG5cclxuPG5nLXRlbXBsYXRlICNuYXZpZ2F0aW9uQnV0dG9uIGxldC1tZW51aXRlbT5cclxuICAgIDxidXR0b25cclxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXHJcbiAgICAgICAgW3RpdGxlXT1cIm1lbnVpdGVtLmxhYmVsXCJcclxuICAgICAgICBbY2xhc3NdPVwibWVudWl0ZW0ucm9vdCA/ICdhZHMtdG9vbGJhci1tZW51LWl0ZW0nIDogJ2Fkcy10b29sYmFyLXN1Ym1lbnUtaXRlbSdcIlxyXG4gICAgICAgIFthdHRyLmRhdGEtdXJsXT1cIm1lbnVpdGVtLnVybFwiXHJcbiAgICAgICAgW2F0dHIuZGF0YS1yb290XT1cIm1lbnVpdGVtLnJvb3RcIlxyXG4gICAgICAgIFtuZ0NsYXNzXT1cIntcclxuICAgICAgICAgICAgJ2lzLXNlbGVjdGVkJzogbWVudUl0ZW1JblVzZXJQYXRoKG1lbnVpdGVtKVxyXG4gICAgICAgIH1cIlxyXG4gICAgICAgIChjbGljayk9XCJtZW51SXRlbVNlbGVjdChtZW51aXRlbSwgJGV2ZW50KVwiXHJcbiAgICA+XHJcbiAgICAgICAgPGFkcy1pY29uICpuZ0lmPVwibWVudWl0ZW0/Lmljb25cIiBbdHlwZV09XCJtZW51aXRlbS5pY29uXCIgc2l6ZT1cInN1Yi1tZW51XCI+PC9hZHMtaWNvbj5cclxuICAgICAgICA8c3Bhbj57eyBtZW51aXRlbS5sYWJlbCB9fTwvc3Bhbj5cclxuICAgICAgICA8YWRzLWljb24gdHlwZT1cImF2X2N1c3RvbV9jaGV2cm9uX3JpZ2h0XCIgc2l6ZT1cImV4dHJhLXNtYWxsXCI+PC9hZHMtaWNvbj5cclxuICAgIDwvYnV0dG9uPlxyXG48L25nLXRlbXBsYXRlPlxyXG5cclxuPG5nLXRlbXBsYXRlICNuYXZpZ2F0aW9uTGluayBsZXQtbWVudWl0ZW0+XHJcbiAgICA8YVxyXG4gICAgICAgIFt0aXRsZV09XCJtZW51aXRlbS5sYWJlbFwiXHJcbiAgICAgICAgW2NsYXNzXT1cIm1lbnVpdGVtLnJvb3QgPyAnYWRzLXRvb2xiYXItbWVudS1pdGVtJyA6ICdhZHMtdG9vbGJhci1zdWJtZW51LWl0ZW0nXCJcclxuICAgICAgICBbbmdDbGFzc109XCJ7XHJcbiAgICAgICAgICAgICdpcy1zZWxlY3RlZCc6IG1lbnVJdGVtSW5Vc2VyUGF0aChtZW51aXRlbSksXHJcbiAgICAgICAgICAgICdpcy1leHBhbmRlZCc6IGV4cGFuZE1haW5NZW51XHJcbiAgICAgICAgfVwiXHJcbiAgICAgICAgW2F0dHIuZGF0YS11cmxdPVwibWVudWl0ZW0udXJsXCJcclxuICAgICAgICBbcm91dGVyTGlua109XCJtZW51aXRlbS51cmxcIlxyXG4gICAgICAgIFtyb3V0ZXJMaW5rXT1cIm1lbnVpdGVtLnVybFwiXHJcbiAgICAgICAgW3JvdXRlckxpbmtBY3RpdmVdPVwiJ2lzLWN1cnJlbnQtcGFnZSdcIlxyXG4gICAgICAgIFtyb3V0ZXJMaW5rQWN0aXZlT3B0aW9uc109XCJ7IGV4YWN0OiB0cnVlIH1cIlxyXG4gICAgPlxyXG4gICAgICAgIDxhZHMtaWNvbiAqbmdJZj1cIm1lbnVpdGVtPy5pY29uXCIgW3R5cGVdPVwibWVudWl0ZW0uaWNvblwiIHNpemU9XCJzdWItbWVudVwiPjwvYWRzLWljb24+XHJcbiAgICAgICAgPHNwYW4+e3sgbWVudWl0ZW0ubGFiZWwgfX08L3NwYW4+XHJcbiAgICA8L2E+XHJcbjwvbmctdGVtcGxhdGU+XHJcbiJdfQ==