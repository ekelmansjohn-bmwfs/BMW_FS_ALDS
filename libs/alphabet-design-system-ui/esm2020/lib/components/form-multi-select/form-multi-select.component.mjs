var ADSFormMultiSelectComponent_1;
import { __decorate, __metadata } from "tslib";
/* eslint-disable functional/immutable-data */
import { DOCUMENT } from '@angular/common';
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, forwardRef, Inject, Input, Output, ViewChild, } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { WINDOW } from '@ng-web-apis/common';
import { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';
import { fromEvent } from 'rxjs';
import { filter } from 'rxjs/operators';
import { CollisionDetectionService, randomId } from '../../utils';
import * as i0 from "@angular/core";
import * as i1 from "../../utils";
import * as i2 from "@angular/common";
import * as i3 from "@angular/forms";
import * as i4 from "../button/button.component";
import * as i5 from "../form-checkbox/form-checkbox.component";
let ADSFormMultiSelectComponent = ADSFormMultiSelectComponent_1 = class ADSFormMultiSelectComponent {
    constructor(windowRef, document, collisionDetection, cdr) {
        this.windowRef = windowRef;
        this.document = document;
        this.collisionDetection = collisionDetection;
        this.cdr = cdr;
        this.label = '';
        this.disabled = false;
        this.optionClicked = new EventEmitter();
        this.id = `al-form-multi-select-${randomId()}`;
        this.allText = 'All';
        this.selectedOption = 0;
        this.expanded = false;
        this.selectAll = false;
    }
    buttonClick() {
        this.expanded ? this.hide() : this.inputElement.focus();
    }
    // --- show / hide ---
    show() {
        this.expanded = true;
        this.inputElement.setSelectionRange(this.inputElement.value.length, this.inputElement.value.length);
        this.multiselect.nativeElement.classList.add('is-expanded');
        this.collisionDetection.detect(this.multiselect.nativeElement, this.optionsElement);
        this.selectOption();
    }
    hide() {
        this.expanded = false;
        this.inputElement.setAttribute('aria-expanded', 'false');
        this.multiselect.nativeElement.classList.remove('is-expanded');
        this.selectedOption = 0;
    }
    // --- item selection from events ---
    first() {
        this.deselectOption();
        this.selectedOption = 0;
        this.selectOption();
    }
    last() {
        this.deselectOption();
        this.selectedOption = this.optionsElementItems.length - 1;
        this.selectOption();
    }
    next() {
        this.deselectOption();
        this.selectedOption =
            this.selectedOption + 1 > this.optionsElementItems.length - 1
                ? 0
                : this.selectedOption + 1;
        this.selectOption();
    }
    previous() {
        this.deselectOption();
        this.selectedOption =
            this.selectedOption - 1 < 0
                ? this.optionsElementItems.length - 1
                : this.selectedOption - 1;
        this.selectOption();
    }
    deselectOption() {
        const item = this.optionsElementItems[this.selectedOption];
        item?.removeAttribute('aria-selected');
        const checkbox = this.optionsElementItems[this.selectedOption].querySelector('.ads-form-checkbox');
        checkbox?.blur();
    }
    selectOption() {
        const item = this.optionsElementItems[this.selectedOption];
        item?.setAttribute('aria-selected', 'true');
        this.inputElement.setAttribute('aria-activedescendant', item.id);
        const checkbox = this.optionsElementItems[this.selectedOption].querySelector('.ads-form-checkbox');
        checkbox?.focus();
    }
    // --- checkbox changes
    selectAllItems(select) {
        this.data.forEach(item => (item.selected = select));
        this.selectedValues();
    }
    selectItem(item) {
        this.optionClicked.emit(item);
        this.selectedValues();
    }
    selectedValues() {
        this.selectAll = this.data.every(item => item.selected);
        const val = [];
        const lab = [];
        this.data.forEach(item => {
            if (item.selected) {
                val.push(item.value);
                lab.push(item.label);
            }
        });
        this.displayedValue =
            !this.selectAll || this.data.length < 2
                ? !this.valueAsNumberedResult
                    ? lab
                    : [`${lab.length} of ${this.data.length}`]
                : [this.allText];
        this.cdr.detectChanges();
        this.onChange(val);
    }
    // ---
    trackByIndex(index) {
        return index;
    }
    // ---
    init() {
        this.buttonElement = this.multiselect.nativeElement.querySelector(`.ads-button`);
        this.inputElement = this.multiselect.nativeElement.querySelector(`#${this.id}`);
        this.optionsElement = this.multiselect.nativeElement.querySelector('ul');
        this.optionsElementItems = Array.from(this.optionsElement.querySelectorAll('li')).filter((item) => item.querySelector('.ads-form-checkbox'));
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        this.checkboxItems = this.optionsElement.querySelectorAll('.ads-form-checkbox');
        this.optionsElement.setAttribute('tabindex', '-1');
        this.optionsElement.setAttribute('id', `${this.id}-list`);
        this.optionsElement.setAttribute('role', 'listbox');
        this.optionsElementItems.forEach((item, index) => {
            item.setAttribute('role', 'option');
            item.setAttribute('id', `${this.id}-option-${index}`);
        });
        this.selectedValues();
        if (this.inputElement && this.checkboxItems?.length > 0) {
            fromEvent((this.inputElement, this.checkboxItems), 'keydown')
                .pipe(untilDestroyed(this), filter(() => this.expanded))
                .subscribe((event) => {
                if (event.key === "ArrowDown" /* ADSKeyEvents.KEY_ARROW_DOWN */) {
                    event.preventDefault();
                    this.next();
                }
                if (event.key === "ArrowUp" /* ADSKeyEvents.KEY_ARROW_UP */) {
                    event.preventDefault();
                    this.previous();
                }
                if (event.key === "Home" /* ADSKeyEvents.KEY_HOME */) {
                    event.preventDefault();
                    this.first();
                }
                if (event.key === "End" /* ADSKeyEvents.KEY_END */) {
                    event.preventDefault();
                    this.last();
                }
                if (event.key === "Escape" /* ADSKeyEvents.KEY_ESCAPE */) {
                    if (this.document.activeElement !== this.buttonElement) {
                        event.preventDefault();
                        this.hide();
                        this.inputElement.blur();
                        this.buttonElement.focus();
                    }
                    else {
                        this.buttonElement.blur();
                    }
                }
                if (event.key === "Tab" /* ADSKeyEvents.KEY_TAB */) {
                    if (this.document.activeElement ===
                        this.optionsElementItems[this.optionsElementItems.length - 1].querySelector('input[type="checkbox"]')) {
                        this.hide();
                    }
                }
            });
        }
        fromEvent(this.document, 'click')
            .pipe(untilDestroyed(this), filter(() => this.expanded))
            .subscribe((event) => {
            const { target } = event;
            if (target instanceof HTMLElement &&
                !this.multiselect.nativeElement.contains(target)) {
                this.hide();
            }
        });
        fromEvent(this.windowRef, 'resize')
            .pipe(untilDestroyed(this), filter(() => this.expanded))
            .subscribe(() => this.collisionDetection.detect(this.multiselect.nativeElement, this.optionsElement));
    }
    // --- data changes ---
    ngOnChanges(changes) {
        const { data } = changes;
        if (data?.currentValue &&
            JSON.stringify(data.currentValue) !== JSON.stringify(data.previousValue)) {
            setTimeout(() => this.init(), 0);
        }
    }
    /* eslint-disable @typescript-eslint/no-empty-function, @typescript-eslint/no-explicit-any, functional/immutable-data,
       @typescript-eslint/no-unused-vars */
    onChange(value) { }
    onTouched() { }
    writeValue(value) {
        this.value = value;
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
};
ADSFormMultiSelectComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.6", ngImport: i0, type: ADSFormMultiSelectComponent, deps: [{ token: WINDOW }, { token: DOCUMENT }, { token: i1.CollisionDetectionService }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });
ADSFormMultiSelectComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.6", type: ADSFormMultiSelectComponent, selector: "ads-form-multi-select", inputs: { allSelector: "allSelector", valueAsNumberedResult: "valueAsNumberedResult", css: "css", data: "data", label: "label", disabled: "disabled" }, outputs: { optionClicked: "optionClicked" }, providers: [
        {
            provide: NG_VALUE_ACCESSOR,
            // eslint-disable-next-line @angular-eslint/no-forward-ref
            useExisting: forwardRef(() => ADSFormMultiSelectComponent_1),
            multi: true,
        },
    ], viewQueries: [{ propertyName: "multiselect", first: true, predicate: ["multiselect"], descendants: true }], usesOnChanges: true, ngImport: i0, template: "<!-- MultiSelect -->\r\n<div #multiselect class=\"ads-form-multi-select {{ css }}\"\r\n    [ngClass]=\"{\r\n        'has-no-label': label === ''\r\n    }\">\r\n    <label *ngIf=\"label\" for=\"{{ id }}\" class=\"ads-input_label\">\r\n        {{ label }}\r\n    </label>\r\n    <input\r\n        id=\"{{ id }}\"\r\n        class=\"ads-input {{ css }}\"\r\n        type=\"text\"\r\n        (focus)=\"show()\"\r\n        value=\"{{ displayedValue }}\"\r\n        autocomplete=\"off\"\r\n        aria-haspopup=\"true\"\r\n        aria-readonly=\"true\"\r\n        [attr.disabled]=\"disabled ? true : null\"\r\n        attr.aria-owns=\"{{ id }}-list\"\r\n    />\r\n    <ads-button\r\n        icon=\"av_custom_chevron_down\"\r\n        id=\"{{ id }}-button\"\r\n        color=\"ghost\"\r\n        size=\"small\"\r\n        [iconOnly]=\"true\"\r\n        [disabled]=\"disabled\"\r\n        (click)=\"buttonClick()\"\r\n    >\r\n    </ads-button>\r\n    <ul>\r\n        <li *ngIf=\"allSelector && this.data.length > 1\">\r\n            <ads-form-checkbox\r\n                id=\"{{ id }}-multiselect-all\"\r\n                size=\"small\"\r\n                label=\"Select all\"\r\n                i18n-label=\"@@ADSUiComponentFormMultiSelextSelectAllCheckbox\"\r\n                labelColor=\"accent\"\r\n                [(ngModel)]=\"selectAll\"\r\n                (ngModelChange)=\"selectAllItems($event)\"\r\n                [checked]=\"selectAll\"\r\n                [fullWidth]=\"true\"\r\n            >\r\n            </ads-form-checkbox>\r\n        </li>\r\n        <li *ngFor=\"let item of data; trackBy: trackByIndex; let i = index\">\r\n            <ads-form-checkbox\r\n                id=\"{{ id }}-multiselect-{{ i }}\"\r\n                type=\"checkbox\"\r\n                size=\"small\"\r\n                label=\"{{ item.label ? item.label : item.description }}\"\r\n                value=\"{{ item.value }}\"\r\n                [(ngModel)]=\"item.selected\"\r\n                (ngModelChange)=\"selectItem(item)\"\r\n                [fullWidth]=\"true\"\r\n                [checked]=\"item.selected\"\r\n            >\r\n            </ads-form-checkbox>\r\n        </li>\r\n    </ul>\r\n</div>\r\n", styles: [":root{--ads-color-white: #fff;--ads-color-white_foreground: #000;--ads-color-gray-6: #f0f0f0;--ads-color-gray-6_foreground: #000;--ads-color-gray-12: #e0e0e0;--ads-color-gray-12_foreground: #000;--ads-color-gray-20: #cccccc;--ads-color-gray-20_foreground: #000;--ads-color-gray-50: gray;--ads-color-gray-50_foreground: #fff;--ads-color-gray-70: #4d4d4d;--ads-color-gray-70_foreground: #fff;--ads-color-gray-85: #262626;--ads-color-gray-85_foreground: #fff;--ads-color-black: #000;--ads-color-black_foreground: #fff;--ads-color-error: #d21e36;--ads-color-error_hover: #a5182b;--ads-color-error-background: #fceaea;--ads-color-info: #1e236e;--ads-color-info-background: var(--ads-color-gray-6);--ads-color-success: #01964c;--ads-color-success_hover: #016332;--ads-color-success-background: #eaf6eb;--ads-color-warning: #ef7d00;--ads-color-warning-background: #fff7ef;--ads-color-notification: #ffd900;--ads-color-notification-background: #fffdf0;--ads-color-primary: #1e236e;--ads-color-primary-40: #a5a7c5;--ads-color-primary-65: #6e71a2;--ads-color-primary-foreground: #fff;--ads-color-primary_active: #0a0c26;--ads-color-primary_active-foreground: #fff;--ads-color-primary_focus: #0f1136;--ads-color-primary_focus-foreground: #fff;--ads-color-primary_hover: #131646;--ads-color-primary_hover-foreground: #fff;--ads-color-secondary: #00d7e7;--ads-color-secondary-40: #9aeff5;--ads-color-secondary-65: #5ae5ef;--ads-color-secondary-foreground: #fff;--ads-color-secondary_active: #00828b;--ads-color-secondary_active-foreground: #fff;--ads-color-secondary_focus: #0095a0;--ads-color-secondary_focus-foreground: #fff;--ads-color-secondary_hover: #00a8b4;--ads-color-secondary_hover-foreground: #fff;--ads-color-accent: #ff6d6a;--ads-color-accent-40: #ffc5c3;--ads-color-accent-65: #ffa19f;--ads-color-accent-foreground: #fff;--ads-color-accent_active: #ff5451;--ads-color-accent_active-foreground: #fff;--ads-color-accent_hover: #ff3b37;--ads-color-accent_hover-foreground: #fff;--ads-color-accent_focus: #ff221e;--ads-color-accent_focus-foreground: #fff;--ads-color-disabled: #e0e0e0;--ads-color-disabled-foreground: gray;--ads-color-app: #fff;--ads-color-app-text: #262626;--ads-color-app-navigation: #1e236e;--ads-color-app-navigation-divider: #6e71a2;--ads-color-app-navigation-menu-item-foreground: #fff;--ads-color-app-navigation-menu-item-background: #1e236e;--ads-color-app-navigation-menu-item-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-background_hover: #1e236e;--ads-color-app-navigation-menu-item-foreground_focus: #fff;--ads-color-app-navigation-menu-item-background_focus: #fff;--ads-color-app-navigation-menu-item-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-background_selected: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground: #fff;--ads-color-app-navigation-menu-item-icon-background: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_hover: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-menu-item-icon-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_selected: #1e236e;--ads-color-app-navigation-toolbar: #fff;--ads-color-app-navigation-toolbar-divider: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_selected: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_selected: #f0f0f0;--ads-color-solid-gradient-primary-to-accent: linear-gradient(90deg, #1e236e 0%, #ff6d6a 100%);--ads-color-solid-gradient-secondary-to-accent: linear-gradient(-170deg, rgba(0, 215, 231, 0) 60%, #00d7e7 125%), linear-gradient(170deg, #ff6d6a 60%, #ff6d6a 125%);--ads-color-solid-gradient-accent-to-secondary-to-primary: linear-gradient(90deg, #ff6d6a 0%, #00d7e7 50%, #1e236e 100%);--ads-color-solid-gradient-gray-to-primary: linear-gradient(90deg, #e0e0e0 0%, #a5a7c5 100%);--ads-color-image-gradient-primary-to-accent: linear-gradient(90deg, rgba(30, 35, 110, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-primary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(30, 35, 110, .7) 100%);--ads-color-image-gradient-secondary-to-accent: linear-gradient(90deg, rgba(0, 215, 231, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-secondary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(0, 215, 231, .7) 100%);--ads-color-image-gradient-mask: linear-gradient(to bottom, rgba(0,0,0,0) 48%, rgba(0,0,0,.5) 80%, rgba(0,0,0,1) 100%);--ads-color-image-gradient-darken-bottom: linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .1) 40%, rgba(0, 0, 0, .4) 100%);--ads-color-app-gradient-secondary-to-accent: linear-gradient(160deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .4) 90%), linear-gradient(220deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 60%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-large: linear-gradient(170deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .5) 90%), linear-gradient(210deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 70%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-foreground: #fff;--ads-color-app-gradient-primary-to-accent: linear-gradient(200deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .7) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 60%, rgba(30, 35, 110, .4) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-large: linear-gradient(190deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .6) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 70%, rgba(30, 35, 110, .5) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-foreground: #1e236e;--ads-color-app-gradient-primary-inverted: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 60%, rgba(255, 109, 106, .4) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 65%, rgba(0, 215, 231, .45) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-large: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 75%, rgba(255, 109, 106, .05) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 75%, rgba(0, 215, 231, .02) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-foreground: #1e236e;--ads-ring_active: 0 0 0 2px #fff, 0 0 0 5px #1e236e;--ads-ring_focus: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_hover: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_transparent: 0 0 0 2px transparent, 0 0 0 3px transparent;--ads-ring_focus-inset: inset 0 0 0 2px #fff, inset 0 0 0 3px #1e236e;--ads-ring_focus-inset-inverted: inset 0 0 0 2px #1e236e, inset 0 0 0 4px #fff;--ads-ring-focus-with-contextmenu: 0 0 0 1px #fff, 0 0 0 2px #555cd1, 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-0: 0 0 0 0 rgba(0, 0, 0, 0);--ads-shadow-depth-1: 0 .4px .4px rgba(0, 0, 0, .05), 0 1px 1px rgba(0, 0, 0, .036), 0 1.9px 1.9px rgba(0, 0, 0, .03), 0 3.4px 3.4px rgba(0, 0, 0, .025), 0 6.3px 6.3px rgba(0, 0, 0, .02), 0 15px 15px rgba(0, 0, 0, .014);--ads-shadow-depth-2: 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-3: 0 .7px .7px rgba(0, 0, 0, .017), 0 1.7px 1.7px rgba(0, 0, 0, .024), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .036), 0 10.4px 10.4px rgba(0, 0, 0, .043), 0 25px 25px rgba(0, 0, 0, .06);--ads-shadow-depth-4: 0 1px 1px rgba(0, 0, 0, .014), 0 2.3px 2.3px rgba(0, 0, 0, .02), 0 4.4px 4.4px rgba(0, 0, 0, .025), 0 7.8px 7.8px rgba(0, 0, 0, .03), 0 14.6px 14.6px rgba(0, 0, 0, .036), 0 35px 35px rgba(0, 0, 0, .05);--ads-shadow-depth-5: 0 1.2px 1.2px rgba(0, 0, 0, .014), 0 3px 3px rgba(0, 0, 0, .02), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.1px 10.1px rgba(0, 0, 0, .03), 0 18.8px 18.8px rgba(0, 0, 0, .036), 0 45px 45px rgba(0, 0, 0, .05);--ads-shadow-depth-6: 0 .9px .9px rgba(0, 0, 0, .011), 0 1.9px 1.9px rgba(0, 0, 0, .016), 0 3.2px 3.2px rgba(0, 0, 0, .019), 0 4.8px 4.8px rgba(0, 0, 0, .022), 0 6.9px 6.9px rgba(0, 0, 0, .025), 0 9.7px 9.7px rgba(0, 0, 0, .028), 0 13.8px 13.8px rgba(0, 0, 0, .031), 0 20.1px 20.1px rgba(0, 0, 0, .034), 0 30.9px 30.9px rgba(0, 0, 0, .039), 0 55px 55px rgba(0, 0, 0, .05)}.ads-form-multi-select{position:relative;z-index:auto;display:inline-block;width:100%;padding:0;margin:0}.ads-form-multi-select ::ng-deep .ads-button{position:absolute;right:0;bottom:0}.ads-form-multi-select ::ng-deep .ads-button .ads-icon svg{transform:scaleY(1);transition:transform .15s cubic-bezier(.455,.03,.515,.955)}.ads-form-multi-select.is-expanded ::ng-deep ul{z-index:10;display:block}.ads-form-multi-select.is-expanded ::ng-deep .ads-button .ads-icon svg{transform:scaleY(-1);transform-origin:center center}.ads-form-multi-select .ads-input{padding-right:2.5rem;caret-color:transparent;cursor:pointer}.ads-form-multi-select ::ng-deep ul{position:absolute;z-index:10;top:4.5rem;right:auto;bottom:auto;left:0;display:none;overflow:hidden;width:100%;min-width:15rem;max-height:20rem;border:1px solid var(--ads-color-gray-20);background-color:#fff;border-radius:.25rem;box-shadow:var(--ads-shadow-depth-3);outline:0;outline-offset:0;overflow-y:auto}.ads-form-multi-select ::ng-deep ul li{display:flex;width:100%;align-items:center;padding:.5rem 1rem;border-bottom:1px solid var(--ads-color-gray-20);color:var(--ads-color-app-text);font-family:Alphabet sans pro light,sans-serif;font-size:1rem;font-style:normal;font-weight:400;line-height:1;transition:background-color .1s cubic-bezier(.55,.085,.68,.53),color .1s cubic-bezier(.55,.085,.68,.53)}.ads-form-multi-select ::ng-deep ul li:last-of-type{border-bottom:none}.ads-form-multi-select ::ng-deep ul li:hover:not([disabled],[aria-selected=true]){background-color:var(--ads-color-gray-20)}.ads-form-multi-select ::ng-deep ul li[aria-selected=true]{background-color:var(--ads-color-gray-12)}.ads-form-multi-select ::ng-deep ul li[disabled]{cursor:not-allowed;opacity:.5}.ads-form-multi-select ::ng-deep ul li al-form-checkbox{display:block;width:100%}.ads-form-multi-select ::ng-deep ul li al-form-checkbox .ads-form-checkbox+label{margin:.5rem 0!important}.ads-form-multi-select.place-floating-element-left ::ng-deep ul{right:0;left:auto}.ads-form-multi-select.place-floating-element-right ::ng-deep ul{right:auto;left:0}.ads-form-multi-select.place-floating-element-at-top ::ng-deep ul{top:auto;bottom:3rem}.ads-form-multi-select.place-floating-element-at-top.has-no-label ::ng-deep ul{bottom:2.7rem}.ads-form-multi-select.place-floating-element-at-bottom ::ng-deep ul{top:4.2rem;bottom:auto}.ads-form-multi-select.place-floating-element-at-bottom.has-no-label ::ng-deep ul{top:2.7rem}\n"], dependencies: [{ kind: "directive", type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i3.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: i4.ADSButtonComponent, selector: "ads-button", inputs: ["color", "css", "disabled", "id", "icon", "iconOnly", "iconPosition", "label", "tooltip", "loading", "loadingLabel", "notification", "size", "tabindex", "type", "ariaControls", "ariaExpanded", "ariaLabelledBy"], outputs: ["clickEmitter"] }, { kind: "component", type: i5.ADSFormCheckboxComponent, selector: "ads-form-checkbox", inputs: ["css", "checked", "disabled", "id", "icon", "fullWidth", "hideLabel", "label", "labelPosition", "labelColor", "size", "type", "value"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
ADSFormMultiSelectComponent = ADSFormMultiSelectComponent_1 = __decorate([
    UntilDestroy(),
    __metadata("design:paramtypes", [Window,
        Document,
        CollisionDetectionService,
        ChangeDetectorRef])
], ADSFormMultiSelectComponent);
export { ADSFormMultiSelectComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.6", ngImport: i0, type: ADSFormMultiSelectComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ads-form-multi-select', providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            // eslint-disable-next-line @angular-eslint/no-forward-ref
                            useExisting: forwardRef(() => ADSFormMultiSelectComponent),
                            multi: true,
                        },
                    ], changeDetection: ChangeDetectionStrategy.OnPush, template: "<!-- MultiSelect -->\r\n<div #multiselect class=\"ads-form-multi-select {{ css }}\"\r\n    [ngClass]=\"{\r\n        'has-no-label': label === ''\r\n    }\">\r\n    <label *ngIf=\"label\" for=\"{{ id }}\" class=\"ads-input_label\">\r\n        {{ label }}\r\n    </label>\r\n    <input\r\n        id=\"{{ id }}\"\r\n        class=\"ads-input {{ css }}\"\r\n        type=\"text\"\r\n        (focus)=\"show()\"\r\n        value=\"{{ displayedValue }}\"\r\n        autocomplete=\"off\"\r\n        aria-haspopup=\"true\"\r\n        aria-readonly=\"true\"\r\n        [attr.disabled]=\"disabled ? true : null\"\r\n        attr.aria-owns=\"{{ id }}-list\"\r\n    />\r\n    <ads-button\r\n        icon=\"av_custom_chevron_down\"\r\n        id=\"{{ id }}-button\"\r\n        color=\"ghost\"\r\n        size=\"small\"\r\n        [iconOnly]=\"true\"\r\n        [disabled]=\"disabled\"\r\n        (click)=\"buttonClick()\"\r\n    >\r\n    </ads-button>\r\n    <ul>\r\n        <li *ngIf=\"allSelector && this.data.length > 1\">\r\n            <ads-form-checkbox\r\n                id=\"{{ id }}-multiselect-all\"\r\n                size=\"small\"\r\n                label=\"Select all\"\r\n                i18n-label=\"@@ADSUiComponentFormMultiSelextSelectAllCheckbox\"\r\n                labelColor=\"accent\"\r\n                [(ngModel)]=\"selectAll\"\r\n                (ngModelChange)=\"selectAllItems($event)\"\r\n                [checked]=\"selectAll\"\r\n                [fullWidth]=\"true\"\r\n            >\r\n            </ads-form-checkbox>\r\n        </li>\r\n        <li *ngFor=\"let item of data; trackBy: trackByIndex; let i = index\">\r\n            <ads-form-checkbox\r\n                id=\"{{ id }}-multiselect-{{ i }}\"\r\n                type=\"checkbox\"\r\n                size=\"small\"\r\n                label=\"{{ item.label ? item.label : item.description }}\"\r\n                value=\"{{ item.value }}\"\r\n                [(ngModel)]=\"item.selected\"\r\n                (ngModelChange)=\"selectItem(item)\"\r\n                [fullWidth]=\"true\"\r\n                [checked]=\"item.selected\"\r\n            >\r\n            </ads-form-checkbox>\r\n        </li>\r\n    </ul>\r\n</div>\r\n", styles: [":root{--ads-color-white: #fff;--ads-color-white_foreground: #000;--ads-color-gray-6: #f0f0f0;--ads-color-gray-6_foreground: #000;--ads-color-gray-12: #e0e0e0;--ads-color-gray-12_foreground: #000;--ads-color-gray-20: #cccccc;--ads-color-gray-20_foreground: #000;--ads-color-gray-50: gray;--ads-color-gray-50_foreground: #fff;--ads-color-gray-70: #4d4d4d;--ads-color-gray-70_foreground: #fff;--ads-color-gray-85: #262626;--ads-color-gray-85_foreground: #fff;--ads-color-black: #000;--ads-color-black_foreground: #fff;--ads-color-error: #d21e36;--ads-color-error_hover: #a5182b;--ads-color-error-background: #fceaea;--ads-color-info: #1e236e;--ads-color-info-background: var(--ads-color-gray-6);--ads-color-success: #01964c;--ads-color-success_hover: #016332;--ads-color-success-background: #eaf6eb;--ads-color-warning: #ef7d00;--ads-color-warning-background: #fff7ef;--ads-color-notification: #ffd900;--ads-color-notification-background: #fffdf0;--ads-color-primary: #1e236e;--ads-color-primary-40: #a5a7c5;--ads-color-primary-65: #6e71a2;--ads-color-primary-foreground: #fff;--ads-color-primary_active: #0a0c26;--ads-color-primary_active-foreground: #fff;--ads-color-primary_focus: #0f1136;--ads-color-primary_focus-foreground: #fff;--ads-color-primary_hover: #131646;--ads-color-primary_hover-foreground: #fff;--ads-color-secondary: #00d7e7;--ads-color-secondary-40: #9aeff5;--ads-color-secondary-65: #5ae5ef;--ads-color-secondary-foreground: #fff;--ads-color-secondary_active: #00828b;--ads-color-secondary_active-foreground: #fff;--ads-color-secondary_focus: #0095a0;--ads-color-secondary_focus-foreground: #fff;--ads-color-secondary_hover: #00a8b4;--ads-color-secondary_hover-foreground: #fff;--ads-color-accent: #ff6d6a;--ads-color-accent-40: #ffc5c3;--ads-color-accent-65: #ffa19f;--ads-color-accent-foreground: #fff;--ads-color-accent_active: #ff5451;--ads-color-accent_active-foreground: #fff;--ads-color-accent_hover: #ff3b37;--ads-color-accent_hover-foreground: #fff;--ads-color-accent_focus: #ff221e;--ads-color-accent_focus-foreground: #fff;--ads-color-disabled: #e0e0e0;--ads-color-disabled-foreground: gray;--ads-color-app: #fff;--ads-color-app-text: #262626;--ads-color-app-navigation: #1e236e;--ads-color-app-navigation-divider: #6e71a2;--ads-color-app-navigation-menu-item-foreground: #fff;--ads-color-app-navigation-menu-item-background: #1e236e;--ads-color-app-navigation-menu-item-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-background_hover: #1e236e;--ads-color-app-navigation-menu-item-foreground_focus: #fff;--ads-color-app-navigation-menu-item-background_focus: #fff;--ads-color-app-navigation-menu-item-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-background_selected: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground: #fff;--ads-color-app-navigation-menu-item-icon-background: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_hover: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_hover: #1e236e;--ads-color-app-navigation-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-menu-item-icon-foreground_selected: #00d7e7;--ads-color-app-navigation-menu-item-icon-background_selected: #1e236e;--ads-color-app-navigation-toolbar: #fff;--ads-color-app-navigation-toolbar-divider: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-background_selected: #e0e0e0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_hover: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_hover: #f0f0f0;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_focus: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_focus: #fff;--ads-color-app-navigation-toolbar-menu-item-icon-foreground_selected: #1e236e;--ads-color-app-navigation-toolbar-menu-item-icon-background_selected: #f0f0f0;--ads-color-solid-gradient-primary-to-accent: linear-gradient(90deg, #1e236e 0%, #ff6d6a 100%);--ads-color-solid-gradient-secondary-to-accent: linear-gradient(-170deg, rgba(0, 215, 231, 0) 60%, #00d7e7 125%), linear-gradient(170deg, #ff6d6a 60%, #ff6d6a 125%);--ads-color-solid-gradient-accent-to-secondary-to-primary: linear-gradient(90deg, #ff6d6a 0%, #00d7e7 50%, #1e236e 100%);--ads-color-solid-gradient-gray-to-primary: linear-gradient(90deg, #e0e0e0 0%, #a5a7c5 100%);--ads-color-image-gradient-primary-to-accent: linear-gradient(90deg, rgba(30, 35, 110, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-primary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(30, 35, 110, .7) 100%);--ads-color-image-gradient-secondary-to-accent: linear-gradient(90deg, rgba(0, 215, 231, .7) 0, rgba(255, 109, 106, .7) 100%);--ads-color-image-gradient-accent-to-secondary: linear-gradient(90deg, rgba(255, 109, 106, .7) 0, rgba(0, 215, 231, .7) 100%);--ads-color-image-gradient-mask: linear-gradient(to bottom, rgba(0,0,0,0) 48%, rgba(0,0,0,.5) 80%, rgba(0,0,0,1) 100%);--ads-color-image-gradient-darken-bottom: linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .1) 40%, rgba(0, 0, 0, .4) 100%);--ads-color-app-gradient-secondary-to-accent: linear-gradient(160deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .4) 90%), linear-gradient(220deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 60%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-large: linear-gradient(170deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .5) 90%), linear-gradient(210deg, rgba(0, 215, 231, .05) 0%, rgba(0, 215, 231, 0) 70%, rgba(0, 215, 231, .6) 90%), linear-gradient(var(--ads-color-primary), var(--ads-color-primary));--ads-color-app-gradient-secondary-to-accent-foreground: #fff;--ads-color-app-gradient-primary-to-accent: linear-gradient(200deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 55%, rgba(255, 109, 106, .7) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 60%, rgba(30, 35, 110, .4) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-large: linear-gradient(190deg, rgba(255, 109, 106, .05) 0%, rgba(255, 109, 106, 0) 65%, rgba(255, 109, 106, .6) 90%), linear-gradient(160deg, rgba(30, 35, 110, .05) 0%, rgba(30, 35, 110, 0) 70%, rgba(30, 35, 110, .5) 90%), linear-gradient(var(--ads-color-secondary), var(--ads-color-secondary-40));--ads-color-app-gradient-primary-to-accent-foreground: #1e236e;--ads-color-app-gradient-primary-inverted: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 60%, rgba(255, 109, 106, .4) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 65%, rgba(0, 215, 231, .45) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-large: linear-gradient(200deg, rgba(255, 109, 106, 0) 0%, rgba(255, 109, 106, 0) 75%, rgba(255, 109, 106, .05) 90%), linear-gradient(160deg, rgba(0, 215, 231, 0) 0%, rgba(0, 215, 231, 0) 75%, rgba(0, 215, 231, .02) 90%), linear-gradient(var(--ads-color-white), var(--ads-color-white));--ads-color-app-gradient-primary-inverted-foreground: #1e236e;--ads-ring_active: 0 0 0 2px #fff, 0 0 0 5px #1e236e;--ads-ring_focus: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_hover: 0 0 0 2px #fff, 0 0 0 4px #1e236e;--ads-ring_transparent: 0 0 0 2px transparent, 0 0 0 3px transparent;--ads-ring_focus-inset: inset 0 0 0 2px #fff, inset 0 0 0 3px #1e236e;--ads-ring_focus-inset-inverted: inset 0 0 0 2px #1e236e, inset 0 0 0 4px #fff;--ads-ring-focus-with-contextmenu: 0 0 0 1px #fff, 0 0 0 2px #555cd1, 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-0: 0 0 0 0 rgba(0, 0, 0, 0);--ads-shadow-depth-1: 0 .4px .4px rgba(0, 0, 0, .05), 0 1px 1px rgba(0, 0, 0, .036), 0 1.9px 1.9px rgba(0, 0, 0, .03), 0 3.4px 3.4px rgba(0, 0, 0, .025), 0 6.3px 6.3px rgba(0, 0, 0, .02), 0 15px 15px rgba(0, 0, 0, .014);--ads-shadow-depth-2: 0 .7px .7px rgba(0, 0, 0, .05), 0 1.7px 1.7px rgba(0, 0, 0, .036), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.4px 10.4px rgba(0, 0, 0, .02), 0 25px 25px rgba(0, 0, 0, .014);--ads-shadow-depth-3: 0 .7px .7px rgba(0, 0, 0, .017), 0 1.7px 1.7px rgba(0, 0, 0, .024), 0 3.1px 3.1px rgba(0, 0, 0, .03), 0 5.6px 5.6px rgba(0, 0, 0, .036), 0 10.4px 10.4px rgba(0, 0, 0, .043), 0 25px 25px rgba(0, 0, 0, .06);--ads-shadow-depth-4: 0 1px 1px rgba(0, 0, 0, .014), 0 2.3px 2.3px rgba(0, 0, 0, .02), 0 4.4px 4.4px rgba(0, 0, 0, .025), 0 7.8px 7.8px rgba(0, 0, 0, .03), 0 14.6px 14.6px rgba(0, 0, 0, .036), 0 35px 35px rgba(0, 0, 0, .05);--ads-shadow-depth-5: 0 1.2px 1.2px rgba(0, 0, 0, .014), 0 3px 3px rgba(0, 0, 0, .02), 0 5.6px 5.6px rgba(0, 0, 0, .025), 0 10.1px 10.1px rgba(0, 0, 0, .03), 0 18.8px 18.8px rgba(0, 0, 0, .036), 0 45px 45px rgba(0, 0, 0, .05);--ads-shadow-depth-6: 0 .9px .9px rgba(0, 0, 0, .011), 0 1.9px 1.9px rgba(0, 0, 0, .016), 0 3.2px 3.2px rgba(0, 0, 0, .019), 0 4.8px 4.8px rgba(0, 0, 0, .022), 0 6.9px 6.9px rgba(0, 0, 0, .025), 0 9.7px 9.7px rgba(0, 0, 0, .028), 0 13.8px 13.8px rgba(0, 0, 0, .031), 0 20.1px 20.1px rgba(0, 0, 0, .034), 0 30.9px 30.9px rgba(0, 0, 0, .039), 0 55px 55px rgba(0, 0, 0, .05)}.ads-form-multi-select{position:relative;z-index:auto;display:inline-block;width:100%;padding:0;margin:0}.ads-form-multi-select ::ng-deep .ads-button{position:absolute;right:0;bottom:0}.ads-form-multi-select ::ng-deep .ads-button .ads-icon svg{transform:scaleY(1);transition:transform .15s cubic-bezier(.455,.03,.515,.955)}.ads-form-multi-select.is-expanded ::ng-deep ul{z-index:10;display:block}.ads-form-multi-select.is-expanded ::ng-deep .ads-button .ads-icon svg{transform:scaleY(-1);transform-origin:center center}.ads-form-multi-select .ads-input{padding-right:2.5rem;caret-color:transparent;cursor:pointer}.ads-form-multi-select ::ng-deep ul{position:absolute;z-index:10;top:4.5rem;right:auto;bottom:auto;left:0;display:none;overflow:hidden;width:100%;min-width:15rem;max-height:20rem;border:1px solid var(--ads-color-gray-20);background-color:#fff;border-radius:.25rem;box-shadow:var(--ads-shadow-depth-3);outline:0;outline-offset:0;overflow-y:auto}.ads-form-multi-select ::ng-deep ul li{display:flex;width:100%;align-items:center;padding:.5rem 1rem;border-bottom:1px solid var(--ads-color-gray-20);color:var(--ads-color-app-text);font-family:Alphabet sans pro light,sans-serif;font-size:1rem;font-style:normal;font-weight:400;line-height:1;transition:background-color .1s cubic-bezier(.55,.085,.68,.53),color .1s cubic-bezier(.55,.085,.68,.53)}.ads-form-multi-select ::ng-deep ul li:last-of-type{border-bottom:none}.ads-form-multi-select ::ng-deep ul li:hover:not([disabled],[aria-selected=true]){background-color:var(--ads-color-gray-20)}.ads-form-multi-select ::ng-deep ul li[aria-selected=true]{background-color:var(--ads-color-gray-12)}.ads-form-multi-select ::ng-deep ul li[disabled]{cursor:not-allowed;opacity:.5}.ads-form-multi-select ::ng-deep ul li al-form-checkbox{display:block;width:100%}.ads-form-multi-select ::ng-deep ul li al-form-checkbox .ads-form-checkbox+label{margin:.5rem 0!important}.ads-form-multi-select.place-floating-element-left ::ng-deep ul{right:0;left:auto}.ads-form-multi-select.place-floating-element-right ::ng-deep ul{right:auto;left:0}.ads-form-multi-select.place-floating-element-at-top ::ng-deep ul{top:auto;bottom:3rem}.ads-form-multi-select.place-floating-element-at-top.has-no-label ::ng-deep ul{bottom:2.7rem}.ads-form-multi-select.place-floating-element-at-bottom ::ng-deep ul{top:4.2rem;bottom:auto}.ads-form-multi-select.place-floating-element-at-bottom.has-no-label ::ng-deep ul{top:2.7rem}\n"] }]
        }], ctorParameters: function () { return [{ type: Window, decorators: [{
                    type: Inject,
                    args: [WINDOW]
                }] }, { type: Document, decorators: [{
                    type: Inject,
                    args: [DOCUMENT]
                }] }, { type: i1.CollisionDetectionService }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { multiselect: [{
                type: ViewChild,
                args: ['multiselect']
            }], allSelector: [{
                type: Input
            }], valueAsNumberedResult: [{
                type: Input
            }], css: [{
                type: Input
            }], data: [{
                type: Input
            }], label: [{
                type: Input
            }], disabled: [{
                type: Input
            }], optionClicked: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1tdWx0aS1zZWxlY3QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9hbHBoYWJldC1kZXNpZ24tc3lzdGVtLXVpL3NyYy9saWIvY29tcG9uZW50cy9mb3JtLW11bHRpLXNlbGVjdC9mb3JtLW11bHRpLXNlbGVjdC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FscGhhYmV0LWRlc2lnbi1zeXN0ZW0tdWkvc3JjL2xpYi9jb21wb25lbnRzL2Zvcm0tbXVsdGktc2VsZWN0L2Zvcm0tbXVsdGktc2VsZWN0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsOENBQThDO0FBQzlDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzQyxPQUFPLEVBQ0gsdUJBQXVCLEVBQ3ZCLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsVUFBVSxFQUNWLFlBQVksRUFDWixVQUFVLEVBQ1YsTUFBTSxFQUNOLEtBQUssRUFFTCxNQUFNLEVBRU4sU0FBUyxHQUNaLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBd0IsaUJBQWlCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6RSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDN0MsT0FBTyxFQUFFLFlBQVksRUFBRSxjQUFjLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNyRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ2pDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUV4QyxPQUFPLEVBQUUseUJBQXlCLEVBQUUsUUFBUSxFQUFFLE1BQU0sYUFBYSxDQUFDOzs7Ozs7O0FBaUIzRCxJQUFNLDJCQUEyQixtQ0FBakMsTUFBTSwyQkFBMkI7SUF3QnBDLFlBQ3FDLFNBQWlCLEVBQ2YsUUFBa0IsRUFD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QTJCLENBQUM7WUFDMUQsS0FBSyxFQUFFLElBQUk7U0FDZDtLQUNKLDJKQ25DTCxvcUVBNkRBO0FEdEJhLDJCQUEyQjtJQWZ2QyxZQUFZLEVBQUU7cUNBd0NxQyxNQUFNO1FBQ0wsUUFBUTtRQUNoQix5QkFBeUI7UUFDeEMsaUJBQWlCO0dBNUJsQywyQkFBMkIsQ0FpUnZDO1NBalJZLDJCQUEyQjsyRkFBM0IsMkJBQTJCO2tCQWR2QyxTQUFTOytCQUNJLHVCQUF1QixhQUV0Qjt3QkFDUDs0QkFDSSxPQUFPLEVBQUUsaUJBQWlCOzRCQUMxQiwwREFBMEQ7NEJBQzFELFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLDRCQUE0QixDQUFDOzRCQUMxRCxLQUFLLEVBQUUsSUFBSTt5QkFDZDtxQkFDSixtQkFFZ0IsdUJBQXVCLENBQUMsTUFBTTs7MEJBMkIxQyxNQUFNOzJCQUFDLE1BQU07OzBCQUNiLE1BQU07MkJBQUMsUUFBUTtvSEF6Qk0sV0FBVztzQkFBcEMsU0FBUzt1QkFBQyxhQUFhO2dCQUNmLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0cscUJBQXFCO3NCQUE3QixLQUFLO2dCQUNHLEdBQUc7c0JBQVgsS0FBSztnQkFDRyxJQUFJO3NCQUFaLEtBQUs7Z0JBQ0csS0FBSztzQkFBYixLQUFLO2dCQUNHLFFBQVE7c0JBQWhCLEtBQUs7Z0JBQ2EsYUFBYTtzQkFBL0IsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGZ1bmN0aW9uYWwvaW1tdXRhYmxlLWRhdGEgKi9cclxuaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQge1xyXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcbiAgICBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgIENvbXBvbmVudCxcclxuICAgIEVsZW1lbnRSZWYsXHJcbiAgICBFdmVudEVtaXR0ZXIsXHJcbiAgICBmb3J3YXJkUmVmLFxyXG4gICAgSW5qZWN0LFxyXG4gICAgSW5wdXQsXHJcbiAgICBPbkNoYW5nZXMsXHJcbiAgICBPdXRwdXQsXHJcbiAgICBTaW1wbGVDaGFuZ2VzLFxyXG4gICAgVmlld0NoaWxkLFxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IFdJTkRPVyB9IGZyb20gJ0BuZy13ZWItYXBpcy9jb21tb24nO1xyXG5pbXBvcnQgeyBVbnRpbERlc3Ryb3ksIHVudGlsRGVzdHJveWVkIH0gZnJvbSAnQG5nbmVhdC91bnRpbC1kZXN0cm95JztcclxuaW1wb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuaW1wb3J0IHsgQURTS2V5RXZlbnRzLCBJRm9ybU11bHRpU2VsZWN0SXRlbSB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHsgQ29sbGlzaW9uRGV0ZWN0aW9uU2VydmljZSwgcmFuZG9tSWQgfSBmcm9tICcuLi8uLi91dGlscyc7XHJcblxyXG5AVW50aWxEZXN0cm95KClcclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2Fkcy1mb3JtLW11bHRpLXNlbGVjdCcsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vZm9ybS1tdWx0aS1zZWxlY3QuY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgcHJvdmlkZXJzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1mb3J3YXJkLXJlZlxyXG4gICAgICAgICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBBRFNGb3JtTXVsdGlTZWxlY3RDb21wb25lbnQpLFxyXG4gICAgICAgICAgICBtdWx0aTogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgXSxcclxuICAgIHN0eWxlVXJsczogWycuL2Zvcm0tbXVsdGktc2VsZWN0LmNvbXBvbmVudC5zY3NzJ10sXHJcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxufSlcclxuZXhwb3J0IGNsYXNzIEFEU0Zvcm1NdWx0aVNlbGVjdENvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcywgQ29udHJvbFZhbHVlQWNjZXNzb3Ige1xyXG4gICAgQFZpZXdDaGlsZCgnbXVsdGlzZWxlY3QnKSBtdWx0aXNlbGVjdCE6IEVsZW1lbnRSZWY7XHJcbiAgICBASW5wdXQoKSBhbGxTZWxlY3RvciE6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoKSB2YWx1ZUFzTnVtYmVyZWRSZXN1bHQhOiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgY3NzITogc3RyaW5nO1xyXG4gICAgQElucHV0KCkgZGF0YSE6IEFycmF5PElGb3JtTXVsdGlTZWxlY3RJdGVtPjtcclxuICAgIEBJbnB1dCgpIGxhYmVsID0gJyc7XHJcbiAgICBASW5wdXQoKSBkaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgQE91dHB1dCgpIHJlYWRvbmx5IG9wdGlvbkNsaWNrZWQ6IEV2ZW50RW1pdHRlcjxJRm9ybU11bHRpU2VsZWN0SXRlbT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICByZWFkb25seSBpZCA9IGBhbC1mb3JtLW11bHRpLXNlbGVjdC0ke3JhbmRvbUlkKCl9YDtcclxuICAgIHJlYWRvbmx5IGFsbFRleHQgPSAnQWxsJztcclxuXHJcbiAgICBwcml2YXRlIGJ1dHRvbkVsZW1lbnQhOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIHByaXZhdGUgaW5wdXRFbGVtZW50ITogSFRNTElucHV0RWxlbWVudDtcclxuICAgIHByaXZhdGUgb3B0aW9uc0VsZW1lbnQhOiBIVE1MVUxpc3RFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBvcHRpb25zRWxlbWVudEl0ZW1zITogQXJyYXk8SFRNTExJRWxlbWVudD47XHJcbiAgICBwcml2YXRlIGNoZWNrYm94SXRlbXMhOiBIVE1MQ29sbGVjdGlvbjtcclxuICAgIHByaXZhdGUgc2VsZWN0ZWRPcHRpb24gPSAwO1xyXG4gICAgcHJpdmF0ZSBleHBhbmRlZCA9IGZhbHNlO1xyXG5cclxuICAgIHZhbHVlITogQXJyYXk8c3RyaW5nPjtcclxuICAgIHNlbGVjdEFsbCA9IGZhbHNlO1xyXG4gICAgZGlzcGxheWVkVmFsdWUhOiBBcnJheTxzdHJpbmc+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIEBJbmplY3QoV0lORE9XKSBwcml2YXRlIHJlYWRvbmx5IHdpbmRvd1JlZjogV2luZG93LFxyXG4gICAgICAgIEBJbmplY3QoRE9DVU1FTlQpIHByaXZhdGUgcmVhZG9ubHkgZG9jdW1lbnQ6IERvY3VtZW50LFxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgY29sbGlzaW9uRGV0ZWN0aW9uOiBDb2xsaXNpb25EZXRlY3Rpb25TZXJ2aWNlLFxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgY2RyOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgICkge31cclxuXHJcbiAgICBidXR0b25DbGljaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmV4cGFuZGVkID8gdGhpcy5oaWRlKCkgOiB0aGlzLmlucHV0RWxlbWVudC5mb2N1cygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLSBzaG93IC8gaGlkZSAtLS1cclxuXHJcbiAgICBzaG93KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZXhwYW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKFxyXG4gICAgICAgICAgICB0aGlzLmlucHV0RWxlbWVudC52YWx1ZS5sZW5ndGgsXHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlLmxlbmd0aCxcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubXVsdGlzZWxlY3QubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpcy1leHBhbmRlZCcpO1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uRGV0ZWN0aW9uLmRldGVjdCh0aGlzLm11bHRpc2VsZWN0Lm5hdGl2ZUVsZW1lbnQsIHRoaXMub3B0aW9uc0VsZW1lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLnNlbGVjdE9wdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGlkZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmV4cGFuZGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XHJcbiAgICAgICAgdGhpcy5tdWx0aXNlbGVjdC5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWV4cGFuZGVkJyk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tIGl0ZW0gc2VsZWN0aW9uIGZyb20gZXZlbnRzIC0tLVxyXG5cclxuICAgIHByaXZhdGUgZmlyc3QoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kZXNlbGVjdE9wdGlvbigpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsYXN0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGVzZWxlY3RPcHRpb24oKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uID0gdGhpcy5vcHRpb25zRWxlbWVudEl0ZW1zLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG5leHQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kZXNlbGVjdE9wdGlvbigpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPVxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uICsgMSA+IHRoaXMub3B0aW9uc0VsZW1lbnRJdGVtcy5sZW5ndGggLSAxXHJcbiAgICAgICAgICAgICAgICA/IDBcclxuICAgICAgICAgICAgICAgIDogdGhpcy5zZWxlY3RlZE9wdGlvbiArIDE7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHByZXZpb3VzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGVzZWxlY3RPcHRpb24oKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uID1cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiAtIDEgPCAwXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMub3B0aW9uc0VsZW1lbnRJdGVtcy5sZW5ndGggLSAxXHJcbiAgICAgICAgICAgICAgICA6IHRoaXMuc2VsZWN0ZWRPcHRpb24gLSAxO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkZXNlbGVjdE9wdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBpdGVtOiBIVE1MTElFbGVtZW50IHwgbnVsbCA9IHRoaXMub3B0aW9uc0VsZW1lbnRJdGVtc1t0aGlzLnNlbGVjdGVkT3B0aW9uXTtcclxuICAgICAgICBpdGVtPy5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnKTtcclxuICAgICAgICBjb25zdCBjaGVja2JveDogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPVxyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNFbGVtZW50SXRlbXNbdGhpcy5zZWxlY3RlZE9wdGlvbl0ucXVlcnlTZWxlY3RvcignLmFkcy1mb3JtLWNoZWNrYm94Jyk7XHJcbiAgICAgICAgY2hlY2tib3g/LmJsdXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlbGVjdE9wdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBpdGVtOiBIVE1MTElFbGVtZW50IHwgbnVsbCA9IHRoaXMub3B0aW9uc0VsZW1lbnRJdGVtc1t0aGlzLnNlbGVjdGVkT3B0aW9uXTtcclxuICAgICAgICBpdGVtPy5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAndHJ1ZScpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1hY3RpdmVkZXNjZW5kYW50JywgaXRlbS5pZCk7XHJcbiAgICAgICAgY29uc3QgY2hlY2tib3g6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID1cclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zRWxlbWVudEl0ZW1zW3RoaXMuc2VsZWN0ZWRPcHRpb25dLnF1ZXJ5U2VsZWN0b3IoJy5hZHMtZm9ybS1jaGVja2JveCcpO1xyXG4gICAgICAgIGNoZWNrYm94Py5mb2N1cygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLSBjaGVja2JveCBjaGFuZ2VzXHJcblxyXG4gICAgc2VsZWN0QWxsSXRlbXMoc2VsZWN0OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kYXRhLmZvckVhY2goaXRlbSA9PiAoaXRlbS5zZWxlY3RlZCA9IHNlbGVjdCkpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RJdGVtKGl0ZW06IElGb3JtTXVsdGlTZWxlY3RJdGVtKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25DbGlja2VkLmVtaXQoaXRlbSk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFZhbHVlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdGVkVmFsdWVzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0QWxsID0gdGhpcy5kYXRhLmV2ZXJ5KGl0ZW0gPT4gaXRlbS5zZWxlY3RlZCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHZhbDogQXJyYXk8c3RyaW5nPiA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGxhYjogQXJyYXk8c3RyaW5nPiA9IFtdO1xyXG4gICAgICAgIHRoaXMuZGF0YS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFsLnB1c2goaXRlbS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBsYWIucHVzaChpdGVtLmxhYmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmRpc3BsYXllZFZhbHVlID1cclxuICAgICAgICAgICAgIXRoaXMuc2VsZWN0QWxsIHx8IHRoaXMuZGF0YS5sZW5ndGggPCAyXHJcbiAgICAgICAgICAgICAgICA/ICF0aGlzLnZhbHVlQXNOdW1iZXJlZFJlc3VsdFxyXG4gICAgICAgICAgICAgICAgICAgID8gbGFiXHJcbiAgICAgICAgICAgICAgICAgICAgOiBbYCR7bGFiLmxlbmd0aH0gb2YgJHt0aGlzLmRhdGEubGVuZ3RofWBdXHJcbiAgICAgICAgICAgICAgICA6IFt0aGlzLmFsbFRleHRdO1xyXG4gICAgICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlKHZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tXHJcblxyXG4gICAgdHJhY2tCeUluZGV4KGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS1cclxuXHJcbiAgICBpbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYnV0dG9uRWxlbWVudCA9IHRoaXMubXVsdGlzZWxlY3QubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuYWRzLWJ1dHRvbmApO1xyXG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50ID0gdGhpcy5tdWx0aXNlbGVjdC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zRWxlbWVudCA9IHRoaXMubXVsdGlzZWxlY3QubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCd1bCcpO1xyXG4gICAgICAgIHRoaXMub3B0aW9uc0VsZW1lbnRJdGVtcyA9IEFycmF5LmZyb20odGhpcy5vcHRpb25zRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdsaScpKS5maWx0ZXIoXHJcbiAgICAgICAgICAgIChpdGVtOiBIVE1MTElFbGVtZW50KSA9PiBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hZHMtZm9ybS1jaGVja2JveCcpLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICB0aGlzLmNoZWNrYm94SXRlbXMgPSB0aGlzLm9wdGlvbnNFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hZHMtZm9ybS1jaGVja2JveCcpIGFzIGFueTtcclxuXHJcbiAgICAgICAgdGhpcy5vcHRpb25zRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgYCR7dGhpcy5pZH0tbGlzdGApO1xyXG4gICAgICAgIHRoaXMub3B0aW9uc0VsZW1lbnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2xpc3Rib3gnKTtcclxuICAgICAgICB0aGlzLm9wdGlvbnNFbGVtZW50SXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XHJcbiAgICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdpZCcsIGAke3RoaXMuaWR9LW9wdGlvbi0ke2luZGV4fWApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNlbGVjdGVkVmFsdWVzKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlucHV0RWxlbWVudCAmJiB0aGlzLmNoZWNrYm94SXRlbXM/Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZnJvbUV2ZW50PEtleWJvYXJkRXZlbnQ+KCh0aGlzLmlucHV0RWxlbWVudCwgdGhpcy5jaGVja2JveEl0ZW1zKSwgJ2tleWRvd24nKVxyXG4gICAgICAgICAgICAgICAgLnBpcGUoXHJcbiAgICAgICAgICAgICAgICAgICAgdW50aWxEZXN0cm95ZWQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyKCgpID0+IHRoaXMuZXhwYW5kZWQpLFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBBRFNLZXlFdmVudHMuS0VZX0FSUk9XX0RPV04pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IEFEU0tleUV2ZW50cy5LRVlfQVJST1dfVVApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBBRFNLZXlFdmVudHMuS0VZX0hPTUUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBBRFNLZXlFdmVudHMuS0VZX0VORCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gQURTS2V5RXZlbnRzLktFWV9FU0NBUEUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGhpcy5idXR0b25FbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LmJsdXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbkVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uRWxlbWVudC5ibHVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IEFEU0tleUV2ZW50cy5LRVlfVEFCKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uc0VsZW1lbnRJdGVtc1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNFbGVtZW50SXRlbXMubGVuZ3RoIC0gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmcm9tRXZlbnQ8TW91c2VFdmVudD4odGhpcy5kb2N1bWVudCwgJ2NsaWNrJylcclxuICAgICAgICAgICAgLnBpcGUoXHJcbiAgICAgICAgICAgICAgICB1bnRpbERlc3Ryb3llZCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIGZpbHRlcigoKSA9PiB0aGlzLmV4cGFuZGVkKSxcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQgfSA9IGV2ZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMubXVsdGlzZWxlY3QubmF0aXZlRWxlbWVudC5jb250YWlucyh0YXJnZXQpXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZyb21FdmVudCh0aGlzLndpbmRvd1JlZiwgJ3Jlc2l6ZScpXHJcbiAgICAgICAgICAgIC5waXBlKFxyXG4gICAgICAgICAgICAgICAgdW50aWxEZXN0cm95ZWQodGhpcyksXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIoKCkgPT4gdGhpcy5leHBhbmRlZCksXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25EZXRlY3Rpb24uZGV0ZWN0KHRoaXMubXVsdGlzZWxlY3QubmF0aXZlRWxlbWVudCwgdGhpcy5vcHRpb25zRWxlbWVudCksXHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tIGRhdGEgY2hhbmdlcyAtLS1cclxuXHJcbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBjaGFuZ2VzO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgZGF0YT8uY3VycmVudFZhbHVlICYmXHJcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGRhdGEuY3VycmVudFZhbHVlKSAhPT0gSlNPTi5zdHJpbmdpZnkoZGF0YS5wcmV2aW91c1ZhbHVlKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuaW5pdCgpLCAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBmdW5jdGlvbmFsL2ltbXV0YWJsZS1kYXRhLFxyXG5cdCAgIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xyXG4gICAgb25DaGFuZ2UodmFsdWU6IGFueSk6IHZvaWQge31cclxuXHJcbiAgICBvblRvdWNoZWQoKTogdm9pZCB7fVxyXG5cclxuICAgIHdyaXRlVmFsdWUodmFsdWU6IEFycmF5PHN0cmluZz4pIHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJPbkNoYW5nZShmbjogYW55KSB7XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IGZuO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVyT25Ub3VjaGVkKGZuOiBhbnkpIHtcclxuICAgICAgICB0aGlzLm9uVG91Y2hlZCA9IGZuO1xyXG4gICAgfVxyXG4gICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb24sIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIGZ1bmN0aW9uYWwvaW1tdXRhYmxlLWRhdGEsXHJcblx0ICAgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXHJcbn1cclxuIiwiPCEtLSBNdWx0aVNlbGVjdCAtLT5cclxuPGRpdiAjbXVsdGlzZWxlY3QgY2xhc3M9XCJhZHMtZm9ybS1tdWx0aS1zZWxlY3Qge3sgY3NzIH19XCJcclxuICAgIFtuZ0NsYXNzXT1cIntcclxuICAgICAgICAnaGFzLW5vLWxhYmVsJzogbGFiZWwgPT09ICcnXHJcbiAgICB9XCI+XHJcbiAgICA8bGFiZWwgKm5nSWY9XCJsYWJlbFwiIGZvcj1cInt7IGlkIH19XCIgY2xhc3M9XCJhZHMtaW5wdXRfbGFiZWxcIj5cclxuICAgICAgICB7eyBsYWJlbCB9fVxyXG4gICAgPC9sYWJlbD5cclxuICAgIDxpbnB1dFxyXG4gICAgICAgIGlkPVwie3sgaWQgfX1cIlxyXG4gICAgICAgIGNsYXNzPVwiYWRzLWlucHV0IHt7IGNzcyB9fVwiXHJcbiAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgIChmb2N1cyk9XCJzaG93KClcIlxyXG4gICAgICAgIHZhbHVlPVwie3sgZGlzcGxheWVkVmFsdWUgfX1cIlxyXG4gICAgICAgIGF1dG9jb21wbGV0ZT1cIm9mZlwiXHJcbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxyXG4gICAgICAgIGFyaWEtcmVhZG9ubHk9XCJ0cnVlXCJcclxuICAgICAgICBbYXR0ci5kaXNhYmxlZF09XCJkaXNhYmxlZCA/IHRydWUgOiBudWxsXCJcclxuICAgICAgICBhdHRyLmFyaWEtb3ducz1cInt7IGlkIH19LWxpc3RcIlxyXG4gICAgLz5cclxuICAgIDxhZHMtYnV0dG9uXHJcbiAgICAgICAgaWNvbj1cImF2X2N1c3RvbV9jaGV2cm9uX2Rvd25cIlxyXG4gICAgICAgIGlkPVwie3sgaWQgfX0tYnV0dG9uXCJcclxuICAgICAgICBjb2xvcj1cImdob3N0XCJcclxuICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgIFtpY29uT25seV09XCJ0cnVlXCJcclxuICAgICAgICBbZGlzYWJsZWRdPVwiZGlzYWJsZWRcIlxyXG4gICAgICAgIChjbGljayk9XCJidXR0b25DbGljaygpXCJcclxuICAgID5cclxuICAgIDwvYWRzLWJ1dHRvbj5cclxuICAgIDx1bD5cclxuICAgICAgICA8bGkgKm5nSWY9XCJhbGxTZWxlY3RvciAmJiB0aGlzLmRhdGEubGVuZ3RoID4gMVwiPlxyXG4gICAgICAgICAgICA8YWRzLWZvcm0tY2hlY2tib3hcclxuICAgICAgICAgICAgICAgIGlkPVwie3sgaWQgfX0tbXVsdGlzZWxlY3QtYWxsXCJcclxuICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIlNlbGVjdCBhbGxcIlxyXG4gICAgICAgICAgICAgICAgaTE4bi1sYWJlbD1cIkBAQURTVWlDb21wb25lbnRGb3JtTXVsdGlTZWxleHRTZWxlY3RBbGxDaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICBsYWJlbENvbG9yPVwiYWNjZW50XCJcclxuICAgICAgICAgICAgICAgIFsobmdNb2RlbCldPVwic2VsZWN0QWxsXCJcclxuICAgICAgICAgICAgICAgIChuZ01vZGVsQ2hhbmdlKT1cInNlbGVjdEFsbEl0ZW1zKCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwic2VsZWN0QWxsXCJcclxuICAgICAgICAgICAgICAgIFtmdWxsV2lkdGhdPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgPC9hZHMtZm9ybS1jaGVja2JveD5cclxuICAgICAgICA8L2xpPlxyXG4gICAgICAgIDxsaSAqbmdGb3I9XCJsZXQgaXRlbSBvZiBkYXRhOyB0cmFja0J5OiB0cmFja0J5SW5kZXg7IGxldCBpID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgPGFkcy1mb3JtLWNoZWNrYm94XHJcbiAgICAgICAgICAgICAgICBpZD1cInt7IGlkIH19LW11bHRpc2VsZWN0LXt7IGkgfX1cIlxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXHJcbiAgICAgICAgICAgICAgICBsYWJlbD1cInt7IGl0ZW0ubGFiZWwgPyBpdGVtLmxhYmVsIDogaXRlbS5kZXNjcmlwdGlvbiB9fVwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT1cInt7IGl0ZW0udmFsdWUgfX1cIlxyXG4gICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJpdGVtLnNlbGVjdGVkXCJcclxuICAgICAgICAgICAgICAgIChuZ01vZGVsQ2hhbmdlKT1cInNlbGVjdEl0ZW0oaXRlbSlcIlxyXG4gICAgICAgICAgICAgICAgW2Z1bGxXaWR0aF09XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgIFtjaGVja2VkXT1cIml0ZW0uc2VsZWN0ZWRcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDwvYWRzLWZvcm0tY2hlY2tib3g+XHJcbiAgICAgICAgPC9saT5cclxuICAgIDwvdWw+XHJcbjwvZGl2PlxyXG4iXX0=